(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function f1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function I2(){if(E_)return jl;E_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=i,jl.jsxs=i,jl}var x_;function O2(){return x_||(x_=1,hm.exports=I2()),hm.exports}var E=O2(),fm={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function j2(){if(A_)return St;A_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function N(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function G(P,J,ut){this.props=P,this.context=J,this.refs=B,this.updater=ut||L}G.prototype.isReactComponent={},G.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},G.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function tt(){}tt.prototype=G.prototype;function F(P,J,ut){this.props=P,this.context=J,this.refs=B,this.updater=ut||L}var rt=F.prototype=new tt;rt.constructor=F,k(rt,G.prototype),rt.isPureReactComponent=!0;var at=Array.isArray;function nt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(P,J,ut){var dt=ut.ref;return{$$typeof:n,type:P,key:J,ref:dt!==void 0?dt:null,props:ut}}function M(P,J){return R(P.type,J,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function V(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ut){return J[ut]})}var D=/\/+/g;function Tt(P,J){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):J.toString(36)}function kt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(nt,nt):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,J,ut,dt,xt){var Nt=typeof P;(Nt==="undefined"||Nt==="boolean")&&(P=null);var Bt=!1;if(P===null)Bt=!0;else switch(Nt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(P.$$typeof){case n:case t:Bt=!0;break;case v:return Bt=P._init,X(Bt(P._payload),J,ut,dt,xt)}}if(Bt)return xt=xt(P),Bt=dt===""?"."+Tt(P,0):dt,at(xt)?(ut="",Bt!=null&&(ut=Bt.replace(D,"$&/")+"/"),X(xt,J,ut,"",function(yr){return yr})):xt!=null&&(O(xt)&&(xt=M(xt,ut+(xt.key==null||P&&P.key===xt.key?"":(""+xt.key).replace(D,"$&/")+"/")+Bt)),J.push(xt)),1;Bt=0;var Oe=dt===""?".":dt+":";if(at(P))for(var oe=0;oe<P.length;oe++)dt=P[oe],Nt=Oe+Tt(dt,oe),Bt+=X(dt,J,ut,Nt,xt);else if(oe=N(P),typeof oe=="function")for(P=oe.call(P),oe=0;!(dt=P.next()).done;)dt=dt.value,Nt=Oe+Tt(dt,oe++),Bt+=X(dt,J,ut,Nt,xt);else if(Nt==="object"){if(typeof P.then=="function")return X(kt(P),J,ut,dt,xt);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function st(P,J,ut){if(P==null)return P;var dt=[],xt=0;return X(P,dt,"","",function(Nt){return J.call(ut,Nt,xt++)}),dt}function ct(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(ut){(P._status===0||P._status===-1)&&(P._status=1,P._result=ut)},function(ut){(P._status===0||P._status===-1)&&(P._status=2,P._result=ut)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var Et=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},It={map:st,forEach:function(P,J,ut){st(P,function(){J.apply(this,arguments)},ut)},count:function(P){var J=0;return st(P,function(){J++}),J},toArray:function(P){return st(P,function(J){return J})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return St.Activity=b,St.Children=It,St.Component=G,St.Fragment=i,St.Profiler=o,St.PureComponent=F,St.StrictMode=r,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(P){return C.H.useMemoCache(P)}},St.cache=function(P){return function(){return P.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(P,J,ut){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var dt=k({},P.props),xt=P.key;if(J!=null)for(Nt in J.key!==void 0&&(xt=""+J.key),J)!w.call(J,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&J.ref===void 0||(dt[Nt]=J[Nt]);var Nt=arguments.length-2;if(Nt===1)dt.children=ut;else if(1<Nt){for(var Bt=Array(Nt),Oe=0;Oe<Nt;Oe++)Bt[Oe]=arguments[Oe+2];dt.children=Bt}return R(P.type,xt,dt)},St.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},St.createElement=function(P,J,ut){var dt,xt={},Nt=null;if(J!=null)for(dt in J.key!==void 0&&(Nt=""+J.key),J)w.call(J,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(xt[dt]=J[dt]);var Bt=arguments.length-2;if(Bt===1)xt.children=ut;else if(1<Bt){for(var Oe=Array(Bt),oe=0;oe<Bt;oe++)Oe[oe]=arguments[oe+2];xt.children=Oe}if(P&&P.defaultProps)for(dt in Bt=P.defaultProps,Bt)xt[dt]===void 0&&(xt[dt]=Bt[dt]);return R(P,Nt,xt)},St.createRef=function(){return{current:null}},St.forwardRef=function(P){return{$$typeof:m,render:P}},St.isValidElement=O,St.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ct}},St.memo=function(P,J){return{$$typeof:g,type:P,compare:J===void 0?null:J}},St.startTransition=function(P){var J=C.T,ut={};C.T=ut;try{var dt=P(),xt=C.S;xt!==null&&xt(ut,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(nt,Et)}catch(Nt){Et(Nt)}finally{J!==null&&ut.types!==null&&(J.types=ut.types),C.T=J}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(P){return C.H.use(P)},St.useActionState=function(P,J,ut){return C.H.useActionState(P,J,ut)},St.useCallback=function(P,J){return C.H.useCallback(P,J)},St.useContext=function(P){return C.H.useContext(P)},St.useDebugValue=function(){},St.useDeferredValue=function(P,J){return C.H.useDeferredValue(P,J)},St.useEffect=function(P,J){return C.H.useEffect(P,J)},St.useEffectEvent=function(P){return C.H.useEffectEvent(P)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(P,J,ut){return C.H.useImperativeHandle(P,J,ut)},St.useInsertionEffect=function(P,J){return C.H.useInsertionEffect(P,J)},St.useLayoutEffect=function(P,J){return C.H.useLayoutEffect(P,J)},St.useMemo=function(P,J){return C.H.useMemo(P,J)},St.useOptimistic=function(P,J){return C.H.useOptimistic(P,J)},St.useReducer=function(P,J,ut){return C.H.useReducer(P,J,ut)},St.useRef=function(P){return C.H.useRef(P)},St.useState=function(P){return C.H.useState(P)},St.useSyncExternalStore=function(P,J,ut){return C.H.useSyncExternalStore(P,J,ut)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.3",St}var S_;function Pp(){return S_||(S_=1,fm.exports=j2()),fm.exports}var ot=Pp();const P2=f1(ot);var dm={exports:{}},Pl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function L2(){return w_||(w_=1,(function(n){function t(X,st){var ct=X.length;X.push(st);t:for(;0<ct;){var Et=ct-1>>>1,It=X[Et];if(0<o(It,st))X[Et]=st,X[ct]=It,ct=Et;else break t}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var st=X[0],ct=X.pop();if(ct!==st){X[0]=ct;t:for(var Et=0,It=X.length,P=It>>>1;Et<P;){var J=2*(Et+1)-1,ut=X[J],dt=J+1,xt=X[dt];if(0>o(ut,ct))dt<It&&0>o(xt,ut)?(X[Et]=xt,X[dt]=ct,Et=dt):(X[Et]=ut,X[J]=ct,Et=J);else if(dt<It&&0>o(xt,ct))X[Et]=xt,X[dt]=ct,Et=dt;else break t}}return st}function o(X,st){var ct=X.sortIndex-st.sortIndex;return ct!==0?ct:X.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,b=null,x=3,N=!1,L=!1,k=!1,B=!1,G=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function rt(X){for(var st=i(g);st!==null;){if(st.callback===null)r(g);else if(st.startTime<=X)r(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=i(g)}}function at(X){if(k=!1,rt(X),!L)if(i(p)!==null)L=!0,nt||(nt=!0,V());else{var st=i(g);st!==null&&kt(at,st.startTime-X)}}var nt=!1,C=-1,w=5,R=-1;function M(){return B?!0:!(n.unstable_now()-R<w)}function O(){if(B=!1,nt){var X=n.unstable_now();R=X;var st=!0;try{t:{L=!1,k&&(k=!1,tt(C),C=-1),N=!0;var ct=x;try{e:{for(rt(X),b=i(p);b!==null&&!(b.expirationTime>X&&M());){var Et=b.callback;if(typeof Et=="function"){b.callback=null,x=b.priorityLevel;var It=Et(b.expirationTime<=X);if(X=n.unstable_now(),typeof It=="function"){b.callback=It,rt(X),st=!0;break e}b===i(p)&&r(p),rt(X)}else r(p);b=i(p)}if(b!==null)st=!0;else{var P=i(g);P!==null&&kt(at,P.startTime-X),st=!1}}break t}finally{b=null,x=ct,N=!1}st=void 0}}finally{st?V():nt=!1}}}var V;if(typeof F=="function")V=function(){F(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Tt=D.port2;D.port1.onmessage=O,V=function(){Tt.postMessage(null)}}else V=function(){G(O,0)};function kt(X,st){C=G(function(){X(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(X){switch(x){case 1:case 2:case 3:var st=3;break;default:st=x}var ct=x;x=st;try{return X()}finally{x=ct}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(X,st){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ct=x;x=X;try{return st()}finally{x=ct}},n.unstable_scheduleCallback=function(X,st,ct){var Et=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Et+ct:Et):ct=Et,X){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=ct+It,X={id:v++,callback:st,priorityLevel:X,startTime:ct,expirationTime:It,sortIndex:-1},ct>Et?(X.sortIndex=ct,t(g,X),i(p)===null&&X===i(g)&&(k?(tt(C),C=-1):k=!0,kt(at,ct-Et))):(X.sortIndex=It,t(p,X),L||N||(L=!0,nt||(nt=!0,V()))),X},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(X){var st=x;return function(){var ct=x;x=st;try{return X.apply(this,arguments)}finally{x=ct}}}})(pm)),pm}var R_;function k2(){return R_||(R_=1,mm.exports=L2()),mm.exports}var gm={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function U2(){if(C_)return Je;C_=1;var n=Pp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Je.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},Je.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Je.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Je.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:N}):v==="script"&&r.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Je.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Je.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Je.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Je.requestFormReset=function(p){r.d.r(p)},Je.unstable_batchedUpdates=function(p,g){return p(g)},Je.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.2.3",Je}var N_;function B2(){if(N_)return gm.exports;N_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),gm.exports=U2(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function z2(){if(D_)return Pl;D_=1;var n=k2(),t=Pp(),i=B2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),F=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case G:return"Profiler";case B:return"StrictMode";case at:return"Suspense";case nt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case F:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case rt:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return s=e.displayName||null,s!==null?s:Tt(e.type)||"Memo";case w:s=e._payload,e=e._init;try{return Tt(e(s))}catch{}}return null}var kt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Et=[],It=-1;function P(e){return{current:e}}function J(e){0>It||(e.current=Et[It],Et[It]=null,It--)}function ut(e,s){It++,Et[It]=e.current,e.current=s}var dt=P(null),xt=P(null),Nt=P(null),Bt=P(null);function Oe(e,s){switch(ut(Nt,s),ut(xt,e),ut(dt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Gv(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Gv(s),e=Yv(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(dt),ut(dt,e)}function oe(){J(dt),J(xt),J(Nt)}function yr(e){e.memoizedState!==null&&ut(Bt,e);var s=dt.current,a=Yv(s,e.type);s!==a&&(ut(xt,e),ut(dt,a))}function ha(e){xt.current===e&&(J(dt),J(xt)),Bt.current===e&&(J(Bt),Vl._currentValue=ct)}var fa,da;function fi(e){if(fa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);fa=s&&s[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+e+da}var Vo=!1;function vr(e,s){if(!e||Vo)return"";Vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var Y=Q}Reflect.construct(e,[],W)}else{try{W.call()}catch(Q){Y=Q}e.call(W.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var I=_.split(`
`),H=A.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===H.length)for(l=I.length-1,f=H.length-1;1<=l&&0<=f&&I[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==H[f]){var $=`
`+I[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=f);break}}}finally{Vo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?fi(a):""}function Mo(e,s){switch(e.tag){case 26:case 27:case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return e.child!==s&&s!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return vr(e.type,!1);case 11:return vr(e.type.render,!1);case 1:return vr(e.type,!0);case 31:return fi("Activity");default:return""}}function Io(e){try{var s="",a=null;do s+=Mo(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,_s=n.unstable_cancelCallback,df=n.unstable_shouldYield,Au=n.unstable_requestPaint,rn=n.unstable_now,_r=n.unstable_getCurrentPriorityLevel,Oo=n.unstable_ImmediatePriority,jo=n.unstable_UserBlockingPriority,bs=n.unstable_NormalPriority,mf=n.unstable_LowPriority,Su=n.unstable_IdlePriority,wu=n.log,Ru=n.unstable_setDisableYieldValue,Kn=null,He=null;function Vn(e){if(typeof wu=="function"&&Ru(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Kn,e)}catch{}}var pe=Math.clz32?Math.clz32:Nu,Cu=Math.log,ma=Math.LN2;function Nu(e){return e>>>=0,e===0?32:31-(Cu(e)/ma|0)|0}var di=256,br=262144,Te=4194304;function mi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=mi(l):(_&=A,_!==0?f=mi(_):a||(a=A&~e,a!==0&&(f=mi(a))))):(A=l&~d,A!==0?f=mi(A):_!==0?f=mi(_):a||(a=l&~e,a!==0&&(f=mi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Qn(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function pf(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function gi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Tr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gf(e,s,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,I=e.expirationTimes,H=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pe(a),W=1<<$;A[$]=0,I[$]=-1;var Y=H[$];if(Y!==null)for(H[$]=null,$=0;$<Y.length;$++){var Q=Y[$];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&Er(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~s))}function Er(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-pe(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Po(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-pe(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function Lo(e,s){var a=s&-s;return a=(a&42)!==0?1:xr(a),(a&(e.suspendedLanes|s))!==0?0:a}function xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Xn(e,s){var a=st.p;try{return st.p=e,s()}finally{st.p=a}}var $n=Math.random().toString(36).slice(2),Ee="__reactFiber$"+$n,Ue="__reactProps$"+$n,yi="__reactContainer$"+$n,pa="__reactEvents$"+$n,yf="__reactListeners$"+$n,Mu="__reactHandles$"+$n,Iu="__reactResources$"+$n,vi="__reactMarker$"+$n;function ga(e){delete e[Ee],delete e[Ue],delete e[pa],delete e[yf],delete e[Mu]}function _i(e){var s=e[Ee];if(s)return s;for(var a=e.parentNode;a;){if(s=a[yi]||a[Ee]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=Jv(e);e!==null;){if(a=e[Ee])return a;e=Jv(e)}return s}e=a,a=e.parentNode}return null}function Mn(e){if(e=e[Ee]||e[yi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Tn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function bi(e){var s=e[Iu];return s||(s=e[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xe(e){e[vi]=!0}var ko=new Set,Uo={};function Ti(e,s){Ei(e,s),Ei(e+"Capture",s)}function Ei(e,s){for(Uo[e]=s,e=0;e<s.length;e++)ko.add(s[e])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Fo={};function Ou(e){return be.call(Fo,e)?!0:be.call(zo,e)?!1:Bo.test(e)?Fo[e]=!0:(zo[e]=!0,!1)}function ya(e,s,a){if(Ou(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function En(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ae(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ts(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qo(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Qt(e){if(!e._valueTracker){var s=Ts(e)?"checked":"value";e._valueTracker=qo(e,s,""+e[s])}}function Ar(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Ts(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sr=/[\n"\\]/g;function cn(e){return e.replace(Sr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function va(e,s,a,l,f,d,_,A){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Be(s)):e.value!==""+Be(s)&&(e.value=""+Be(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?Ho(e,_,Be(s)):a!=null?Ho(e,_,Be(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Be(A):e.removeAttribute("name")}function ju(e,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Qt(e);return}a=a!=null?""+Be(a):"",s=s!=null?""+Be(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function Ho(e,s,a){s==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Es(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Be(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Pu(e,s,a){if(s!=null&&(s=""+Be(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+Be(a):""}function xs(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(kt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Be(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function hn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Lu.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Yo(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Go(e,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Go(e,d,s[d])}function _a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(e){return As.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var Ko=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,Ai=null;function wr(e){var s=Mn(e);if(s&&(e=s.stateNode)){var a=e[Ue]||null;t:switch(e=s.stateNode,s.type){case"input":if(va(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[Ue]||null;if(!f)throw Error(r(90));va(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Ar(l)}break t;case"textarea":Pu(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Es(e,!!a.multiple,s,!1)}}}var Ta=!1;function ws(e,s,a){if(Ta)return e(s,a);Ta=!0;try{var l=e(s);return l}finally{if(Ta=!1,(Ss!==null||Ai!==null)&&(Vc(),Ss&&(s=Ss,e=Ai,Ai=Ss=null,wr(s),e)))for(s=0;s<e.length;s++)wr(e[s])}}function Wn(e,s){var a=e.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(On)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Rr=!1}var Si=null,Qo=null,Cr=null;function Xo(){if(Cr)return Cr;var e,s=Qo,a=s.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(e=0;e<a&&s[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Cr=f.slice(e,1<l?1-l:void 0)}function Nr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Jn(){return!1}function Ge(e){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:Jn,this.isPropagationStopped=Jn,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Ge(Zi),Rs=b({},Zi,{view:0,detail:0}),$o=Ge(Rs),Cs,Ea,Ri,xa=b({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Cs=e.screenX-Ri.screenX,Ea=e.screenY-Ri.screenY):Ea=Cs=0,Ri=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),Zo=Ge(xa),Dr=b({},xa,{dataTransfer:0}),Uu=Ge(Dr),Bu=b({},Rs,{relatedTarget:0}),Vr=Ge(Bu),Wo=b({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Ge(Wo),Aa=b({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fu=Ge(Aa),qu=b({},Zi,{data:0}),Ci=Ge(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Yu[e])?!!s[e]:!1}function Ns(){return Ku}var an=b({},Rs,{key:function(e){if(e.key){var s=Hu[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qu=Ge(an),Xu=b({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ge(Xu),h=b({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),y=Ge(h),T=b({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ge(T),z=b({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ge(z),lt=b({},Zi,{newState:0,oldState:0}),Rt=Ge(lt),ge=[9,13,27,32],Gt=On&&"CompositionEvent"in window,le=null;On&&"documentMode"in document&&(le=document.documentMode);var jn=On&&"TextEvent"in window&&!le,Ni=On&&(!Gt||le&&8<le&&11>=le),ti=" ",ei=!1;function Mr(e,s){switch(e){case"keyup":return ge.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function iS(e,s){switch(e){case"compositionend":return Sa(s);case"keypress":return s.which!==32?null:(ei=!0,ti);case"textInput":return e=s.data,e===ti&&ei?null:e;default:return null}}function sS(e,s){if(wa)return e==="compositionend"||!Gt&&Mr(e,s)?(e=Xo(),Cr=Qo=Si=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ni&&s.locale!=="ko"?null:s.data;default:return null}}var rS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!rS[e.type]:s==="textarea"}function iy(e,s,a,l){Ss?Ai?Ai.push(l):Ai=[l]:Ss=l,s=kc(s,"onChange"),0<s.length&&(a=new wi("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Jo=null,tl=null;function aS(e){Uv(e,0)}function $u(e){var s=Tn(e);if(Ar(s))return e}function sy(e,s){if(e==="change")return s}var ry=!1;if(On){var vf;if(On){var _f="oninput"in document;if(!_f){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),_f=typeof ay.oninput=="function"}vf=_f}else vf=!1;ry=vf&&(!document.documentMode||9<document.documentMode)}function oy(){Jo&&(Jo.detachEvent("onpropertychange",ly),tl=Jo=null)}function ly(e){if(e.propertyName==="value"&&$u(tl)){var s=[];iy(s,tl,e,In(e)),ws(aS,s)}}function oS(e,s,a){e==="focusin"?(oy(),Jo=s,tl=a,Jo.attachEvent("onpropertychange",ly)):e==="focusout"&&oy()}function lS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(tl)}function uS(e,s){if(e==="click")return $u(s)}function cS(e,s){if(e==="input"||e==="change")return $u(s)}function hS(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var xn=typeof Object.is=="function"?Object.is:hS;function el(e,s){if(xn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!be.call(s,f)||!xn(e[f],s[f]))return!1}return!0}function uy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cy(e,s){var a=uy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=uy(a)}}function hy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?hy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function fy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=xi(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=xi(e.document)}return s}function bf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var fS=On&&"documentMode"in document&&11>=document.documentMode,Ra=null,Tf=null,nl=null,Ef=!1;function dy(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||Ra==null||Ra!==xi(l)||(l=Ra,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=kc(Tf,"onSelect"),0<l.length&&(s=new wi("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=Ra)))}function Ir(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Ca={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},xf={},my={};On&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Or(e){if(xf[e])return xf[e];if(!Ca[e])return e;var s=Ca[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in my)return xf[e]=s[a];return e}var py=Or("animationend"),gy=Or("animationiteration"),yy=Or("animationstart"),dS=Or("transitionrun"),mS=Or("transitionstart"),pS=Or("transitioncancel"),vy=Or("transitionend"),_y=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ni(e,s){_y.set(e,s),Ti(s,[e])}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],Na=0,Sf=0;function Wu(){for(var e=Na,s=Sf=Na=0;s<e;){var a=Pn[s];Pn[s++]=null;var l=Pn[s];Pn[s++]=null;var f=Pn[s];Pn[s++]=null;var d=Pn[s];if(Pn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&by(a,f,d)}}function Ju(e,s,a,l){Pn[Na++]=e,Pn[Na++]=s,Pn[Na++]=a,Pn[Na++]=l,Sf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function wf(e,s,a,l){return Ju(e,s,a,l),tc(e)}function jr(e,s){return Ju(e,null,null,s),tc(e)}function by(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&s!==null&&(f=31-pe(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function tc(e){if(50<Al)throw Al=0,jd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Da={};function gS(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,s,a,l){return new gS(e,s,a,l)}function Rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,s){var a=e.alternate;return a===null?(a=An(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ty(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function ec(e,s,a,l,f,d){var _=0;if(l=e,typeof e=="function")Rf(e)&&(_=1);else if(typeof e=="string")_=T2(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=An(31,a,s,f),e.elementType=R,e.lanes=d,e;case k:return Pr(a.children,f,d,s);case B:_=8,f|=24;break;case G:return e=An(12,a,s,f|2),e.elementType=G,e.lanes=d,e;case at:return e=An(13,a,s,f),e.elementType=at,e.lanes=d,e;case nt:return e=An(19,a,s,f),e.elementType=nt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:_=10;break t;case tt:_=9;break t;case rt:_=11;break t;case C:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=An(_,a,s,f),s.elementType=e,s.type=l,s.lanes=d,s}function Pr(e,s,a,l){return e=An(7,e,l,s),e.lanes=a,e}function Cf(e,s,a){return e=An(6,e,null,s),e.lanes=a,e}function Ey(e){var s=An(18,null,null,0);return s.stateNode=e,s}function Nf(e,s,a){return s=An(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var xy=new WeakMap;function Ln(e,s){if(typeof e=="object"&&e!==null){var a=xy.get(e);return a!==void 0?a:(s={value:e,source:s,stack:Io(s)},xy.set(e,s),s)}return{value:e,source:s,stack:Io(s)}}var Va=[],Ma=0,nc=null,il=0,kn=[],Un=0,Ds=null,Di=1,Vi="";function ts(e,s){Va[Ma++]=il,Va[Ma++]=nc,nc=e,il=s}function Ay(e,s,a){kn[Un++]=Di,kn[Un++]=Vi,kn[Un++]=Ds,Ds=e;var l=Di;e=Vi;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var d=32-pe(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Di=1<<32-pe(s)+f|a<<f|l,Vi=d+e}else Di=1<<d|a<<f|l,Vi=e}function Df(e){e.return!==null&&(ts(e,1),Ay(e,1,0))}function Vf(e){for(;e===nc;)nc=Va[--Ma],Va[Ma]=null,il=Va[--Ma],Va[Ma]=null;for(;e===Ds;)Ds=kn[--Un],kn[Un]=null,Vi=kn[--Un],kn[Un]=null,Di=kn[--Un],kn[Un]=null}function Sy(e,s){kn[Un++]=Di,kn[Un++]=Vi,kn[Un++]=Ds,Di=s.id,Vi=s.overflow,Ds=e}var Ye=null,se=null,Ut=!1,Vs=null,Bn=!1,Mf=Error(r(519));function Ms(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Ln(s,e)),Mf}function wy(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Ee]=e,s[Ue]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<wl.length;a++)Mt(wl[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),ju(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),xs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||qv(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=Zn),s=!0):s=!1,s||Ms(e,!0)}function Ry(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ye=Ye.return}}function Ia(e){if(e!==Ye)return!1;if(!Ut)return Ry(e),Ut=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||$d(e.type,e.memoizedProps)),a=!a),a&&se&&Ms(e),Ry(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=Wv(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));se=Wv(e)}else s===27?(s=se,Ys(e.type)?(e=em,em=null,se=e):se=s):se=Ye?Fn(e.stateNode.nextSibling):null;return!0}function Lr(){se=Ye=null,Ut=!1}function If(){var e=Vs;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Vs=null),e}function sl(e){Vs===null?Vs=[e]:Vs.push(e)}var Of=P(null),kr=null,es=null;function Is(e,s,a){ut(Of,s._currentValue),s._currentValue=a}function ns(e){e._currentValue=Of.current,J(Of)}function jf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function Pf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var I=0;I<s.length;I++)if(A.context===s[I]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),jf(d.return,a,e),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Oa(e,s,a,l){e=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;xn(f.pendingProps.value,_.value)||(e!==null?e.push(A):e=[A])}}else if(f===Bt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Vl):e=[Vl])}f=f.return}e!==null&&Pf(s,e,a,l),s.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){kr=e,es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Cy(kr,e)}function sc(e,s){return kr===null&&Ur(e),Cy(e,s)}function Cy(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},es===null){if(e===null)throw Error(r(308));es=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else es=es.next=s;return a}var yS=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},vS=n.unstable_scheduleCallback,_S=n.unstable_NormalPriority,Se={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new yS,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&vS(_S,function(){e.controller.abort()})}var al=null,kf=0,ja=0,Pa=null;function bS(e,s){if(al===null){var a=al=[];kf=0,ja=zd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,s.then(Ny,Ny),s}function Ny(){if(--kf===0&&al!==null){Pa!==null&&(Pa.status="fulfilled");var e=al;al=null,ja=0,Pa=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function TS(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Dy=X.S;X.S=function(e,s){dv=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&bS(e,s),Dy!==null&&Dy(e,s)};var Br=P(null);function Uf(){var e=Br.current;return e!==null?e:ne.pooledCache}function rc(e,s){s===null?ut(Br,Br.current):ut(Br,s.pool)}function Vy(){var e=Uf();return e===null?null:{parent:Se._currentValue,pool:e}}var La=Error(r(460)),Bf=Error(r(474)),ac=Error(r(542)),oc={then:function(){}};function My(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Iy(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Zn,Zn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,jy(e),e;default:if(typeof s.status=="string")s.then(Zn,Zn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,jy(e),e}throw Fr=s,La}}function zr(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,La):a}}var Fr=null;function Oy(){if(Fr===null)throw Error(r(459));var e=Fr;return Fr=null,e}function jy(e){if(e===La||e===ac)throw Error(r(483))}var ka=null,ol=0;function lc(e){var s=ol;return ol+=1,ka===null&&(ka=[]),Iy(ka,e,s)}function ll(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function uc(e,s){throw s.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Py(e){function s(U,j){if(e){var q=U.deletions;q===null?(U.deletions=[j],U.flags|=16):q.push(j)}}function a(U,j){if(!e)return null;for(;j!==null;)s(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function f(U,j){return U=Ji(U,j),U.index=0,U.sibling=null,U}function d(U,j,q){return U.index=q,e?(q=U.alternate,q!==null?(q=q.index,q<j?(U.flags|=67108866,j):q):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function A(U,j,q,Z){return j===null||j.tag!==6?(j=Cf(q,U.mode,Z),j.return=U,j):(j=f(j,q),j.return=U,j)}function I(U,j,q,Z){var yt=q.type;return yt===k?$(U,j,q.props.children,Z,q.key):j!==null&&(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&zr(yt)===j.type)?(j=f(j,q.props),ll(j,q),j.return=U,j):(j=ec(q.type,q.key,q.props,null,U.mode,Z),ll(j,q),j.return=U,j)}function H(U,j,q,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Nf(q,U.mode,Z),j.return=U,j):(j=f(j,q.children||[]),j.return=U,j)}function $(U,j,q,Z,yt){return j===null||j.tag!==7?(j=Pr(q,U.mode,Z,yt),j.return=U,j):(j=f(j,q),j.return=U,j)}function W(U,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Cf(""+j,U.mode,q),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return q=ec(j.type,j.key,j.props,null,U.mode,q),ll(q,j),q.return=U,q;case L:return j=Nf(j,U.mode,q),j.return=U,j;case w:return j=zr(j),W(U,j,q)}if(kt(j)||V(j))return j=Pr(j,U.mode,q,null),j.return=U,j;if(typeof j.then=="function")return W(U,lc(j),q);if(j.$$typeof===F)return W(U,sc(U,j),q);uc(U,j)}return null}function Y(U,j,q,Z){var yt=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return yt!==null?null:A(U,j,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===yt?I(U,j,q,Z):null;case L:return q.key===yt?H(U,j,q,Z):null;case w:return q=zr(q),Y(U,j,q,Z)}if(kt(q)||V(q))return yt!==null?null:$(U,j,q,Z,null);if(typeof q.then=="function")return Y(U,j,lc(q),Z);if(q.$$typeof===F)return Y(U,j,sc(U,q),Z);uc(U,q)}return null}function Q(U,j,q,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,A(j,U,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return U=U.get(Z.key===null?q:Z.key)||null,I(j,U,Z,yt);case L:return U=U.get(Z.key===null?q:Z.key)||null,H(j,U,Z,yt);case w:return Z=zr(Z),Q(U,j,q,Z,yt)}if(kt(Z)||V(Z))return U=U.get(q)||null,$(j,U,Z,yt,null);if(typeof Z.then=="function")return Q(U,j,q,lc(Z),yt);if(Z.$$typeof===F)return Q(U,j,q,sc(j,Z),yt);uc(j,Z)}return null}function pt(U,j,q,Z){for(var yt=null,qt=null,gt=j,Dt=j=0,jt=null;gt!==null&&Dt<q.length;Dt++){gt.index>Dt?(jt=gt,gt=null):jt=gt.sibling;var Ht=Y(U,gt,q[Dt],Z);if(Ht===null){gt===null&&(gt=jt);break}e&&gt&&Ht.alternate===null&&s(U,gt),j=d(Ht,j,Dt),qt===null?yt=Ht:qt.sibling=Ht,qt=Ht,gt=jt}if(Dt===q.length)return a(U,gt),Ut&&ts(U,Dt),yt;if(gt===null){for(;Dt<q.length;Dt++)gt=W(U,q[Dt],Z),gt!==null&&(j=d(gt,j,Dt),qt===null?yt=gt:qt.sibling=gt,qt=gt);return Ut&&ts(U,Dt),yt}for(gt=l(gt);Dt<q.length;Dt++)jt=Q(gt,U,Dt,q[Dt],Z),jt!==null&&(e&&jt.alternate!==null&&gt.delete(jt.key===null?Dt:jt.key),j=d(jt,j,Dt),qt===null?yt=jt:qt.sibling=jt,qt=jt);return e&&gt.forEach(function(Zs){return s(U,Zs)}),Ut&&ts(U,Dt),yt}function _t(U,j,q,Z){if(q==null)throw Error(r(151));for(var yt=null,qt=null,gt=j,Dt=j=0,jt=null,Ht=q.next();gt!==null&&!Ht.done;Dt++,Ht=q.next()){gt.index>Dt?(jt=gt,gt=null):jt=gt.sibling;var Zs=Y(U,gt,Ht.value,Z);if(Zs===null){gt===null&&(gt=jt);break}e&&gt&&Zs.alternate===null&&s(U,gt),j=d(Zs,j,Dt),qt===null?yt=Zs:qt.sibling=Zs,qt=Zs,gt=jt}if(Ht.done)return a(U,gt),Ut&&ts(U,Dt),yt;if(gt===null){for(;!Ht.done;Dt++,Ht=q.next())Ht=W(U,Ht.value,Z),Ht!==null&&(j=d(Ht,j,Dt),qt===null?yt=Ht:qt.sibling=Ht,qt=Ht);return Ut&&ts(U,Dt),yt}for(gt=l(gt);!Ht.done;Dt++,Ht=q.next())Ht=Q(gt,U,Dt,Ht.value,Z),Ht!==null&&(e&&Ht.alternate!==null&&gt.delete(Ht.key===null?Dt:Ht.key),j=d(Ht,j,Dt),qt===null?yt=Ht:qt.sibling=Ht,qt=Ht);return e&&gt.forEach(function(M2){return s(U,M2)}),Ut&&ts(U,Dt),yt}function te(U,j,q,Z){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:t:{for(var yt=q.key;j!==null;){if(j.key===yt){if(yt=q.type,yt===k){if(j.tag===7){a(U,j.sibling),Z=f(j,q.props.children),Z.return=U,U=Z;break t}}else if(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&zr(yt)===j.type){a(U,j.sibling),Z=f(j,q.props),ll(Z,q),Z.return=U,U=Z;break t}a(U,j);break}else s(U,j);j=j.sibling}q.type===k?(Z=Pr(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=ec(q.type,q.key,q.props,null,U.mode,Z),ll(Z,q),Z.return=U,U=Z)}return _(U);case L:t:{for(yt=q.key;j!==null;){if(j.key===yt)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(U,j.sibling),Z=f(j,q.children||[]),Z.return=U,U=Z;break t}else{a(U,j);break}else s(U,j);j=j.sibling}Z=Nf(q,U.mode,Z),Z.return=U,U=Z}return _(U);case w:return q=zr(q),te(U,j,q,Z)}if(kt(q))return pt(U,j,q,Z);if(V(q)){if(yt=V(q),typeof yt!="function")throw Error(r(150));return q=yt.call(q),_t(U,j,q,Z)}if(typeof q.then=="function")return te(U,j,lc(q),Z);if(q.$$typeof===F)return te(U,j,sc(U,q),Z);uc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(a(U,j.sibling),Z=f(j,q),Z.return=U,U=Z):(a(U,j),Z=Cf(q,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,j)}return function(U,j,q,Z){try{ol=0;var yt=te(U,j,q,Z);return ka=null,yt}catch(gt){if(gt===La||gt===ac)throw gt;var qt=An(29,gt,null,U.mode);return qt.lanes=Z,qt.return=U,qt}finally{}}}var qr=Py(!0),Ly=Py(!1),Os=!1;function zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=tc(e),by(e,null,a),s}return Ju(e,l,s,a),tc(e)}function ul(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Po(e,a)}}function qf(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Hf=!1;function cl(){if(Hf){var e=Pa;if(e!==null)throw e}}function hl(e,s,a,l){Hf=!1;var f=e.updateQueue;Os=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var I=A,H=I.next;I.next=null,_===null?d=H:_.next=H,_=I;var $=e.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=H:A.next=H,$.lastBaseUpdate=I))}if(d!==null){var W=f.baseState;_=0,$=H=I=null,A=d;do{var Y=A.lane&-536870913,Q=Y!==A.lane;if(Q?(Ot&Y)===Y:(l&Y)===Y){Y!==0&&Y===ja&&(Hf=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var pt=e,_t=A;Y=s;var te=a;switch(_t.tag){case 1:if(pt=_t.payload,typeof pt=="function"){W=pt.call(te,W,Y);break t}W=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=_t.payload,Y=typeof pt=="function"?pt.call(te,W,Y):pt,Y==null)break t;W=b({},W,Y);break t;case 2:Os=!0}}Y=A.callback,Y!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(H=$=Q,I=W):$=$.next=Q,_|=Y;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(I=W),f.baseState=I,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),zs|=_,e.lanes=_,e.memoizedState=W}}function ky(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function Uy(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ky(a[e],s)}var Ua=P(null),cc=P(0);function By(e,s){e=hs,ut(cc,e),ut(Ua,s),hs=e|s.baseLanes}function Gf(){ut(cc,hs),ut(Ua,Ua.current)}function Yf(){hs=cc.current,J(Ua),J(cc)}var Sn=P(null),zn=null;function Ls(e){var s=e.alternate;ut(ye,ye.current&1),ut(Sn,e),zn===null&&(s===null||Ua.current!==null||s.memoizedState!==null)&&(zn=e)}function Kf(e){ut(ye,ye.current),ut(Sn,e),zn===null&&(zn=e)}function zy(e){e.tag===22?(ut(ye,ye.current),ut(Sn,e),zn===null&&(zn=e)):ks()}function ks(){ut(ye,ye.current),ut(Sn,Sn.current)}function wn(e){J(Sn),zn===e&&(zn=null),J(ye)}var ye=P(0);function hc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jd(a)||tm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var is=0,Ct=null,Wt=null,we=null,fc=!1,Ba=!1,Hr=!1,dc=0,fl=0,za=null,ES=0;function fe(){throw Error(r(321))}function Qf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!xn(e[a],s[a]))return!1;return!0}function Xf(e,s,a,l,f,d){return is=d,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=e===null||e.memoizedState===null?A0:cd,Hr=!1,d=a(l,f),Hr=!1,Ba&&(d=qy(s,a,l,f)),Fy(e),d}function Fy(e){X.H=pl;var s=Wt!==null&&Wt.next!==null;if(is=0,we=Wt=Ct=null,fc=!1,fl=0,za=null,s)throw Error(r(300));e===null||Re||(e=e.dependencies,e!==null&&ic(e)&&(Re=!0))}function qy(e,s,a,l){Ct=e;var f=0;do{if(Ba&&(za=null),fl=0,Ba=!1,25<=f)throw Error(r(301));if(f+=1,we=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=S0,d=s(a,l)}while(Ba);return d}function xS(){var e=X.H,s=e.useState()[0];return s=typeof s.then=="function"?dl(s):s,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Ct.flags|=1024),s}function $f(){var e=dc!==0;return dc=0,e}function Zf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Wf(e){if(fc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}fc=!1}is=0,we=Wt=Ct=null,Ba=!1,fl=dc=0,za=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ct.memoizedState=we=e:we=we.next=e,we}function ve(){if(Wt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var s=we===null?Ct.memoizedState:we.next;if(s!==null)we=s,Wt=e;else{if(e===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?Ct.memoizedState=we=e:we=we.next=e}return we}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(e){var s=fl;return fl+=1,za===null&&(za=[]),e=Iy(za,e,s),s=Ct,(we===null?s.memoizedState:we.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?A0:cd),e}function pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dl(e);if(e.$$typeof===F)return Ke(e)}throw Error(r(438,String(e)))}function Jf(e){var s=null,a=Ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=mc(),Ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=M;return s.index++,a}function ss(e,s){return typeof s=="function"?s(e):s}function gc(e){var s=ve();return td(s,Wt,e)}function td(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{s=f.next;var A=_=null,I=null,H=s,$=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(Ot&W)===W:(is&W)===W){var Y=H.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===ja&&($=!0);else if((is&Y)===Y){H=H.next,Y===ja&&($=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(A=I=W,_=d):I=I.next=W,Ct.lanes|=Y,zs|=Y;W=H.action,Hr&&a(d,W),d=H.hasEagerState?H.eagerState:a(d,W)}else Y={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(A=I=Y,_=d):I=I.next=Y,Ct.lanes|=W,zs|=W;H=H.next}while(H!==null&&H!==s);if(I===null?_=d:I.next=A,!xn(d,e.memoizedState)&&(Re=!0,$&&(a=Pa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ed(e){var s=ve(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);xn(d,s.memoizedState)||(Re=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Hy(e,s,a){var l=Ct,f=ve(),d=Ut;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!xn((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,Re=!0),f=f.queue,sd(Ky.bind(null,l,f,e),[e]),f.getSnapshot!==s||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Yy.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(is&127)!==0||Gy(l,s,a)}return a}function Gy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Ct.updateQueue,s===null?(s=mc(),Ct.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function Yy(e,s,a,l){s.value=a,s.getSnapshot=l,Qy(s)&&Xy(e)}function Ky(e,s,a){return a(function(){Qy(s)&&Xy(e)})}function Qy(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!xn(e,a)}catch{return!0}}function Xy(e){var s=jr(e,2);s!==null&&gn(s,e,2)}function nd(e){var s=on();if(typeof e=="function"){var a=e;if(e=a(),Hr){Vn(!0);try{a()}finally{Vn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},s}function $y(e,s,a,l){return e.baseState=a,td(e,Wt,typeof l=="function"?l:ss)}function AS(e,s,a,l,f){if(_c(e))throw Error(r(485));if(e=s.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Zy(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Zy(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var d=X.T,_={};X.T=_;try{var A=a(f,l),I=X.S;I!==null&&I(_,A),Wy(e,s,A)}catch(H){id(e,s,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Wy(e,s,d)}catch(H){id(e,s,H)}}function Wy(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jy(e,s,l)},function(l){return id(e,s,l)}):Jy(e,s,a)}function Jy(e,s,a){s.status="fulfilled",s.value=a,t0(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,Zy(e,a)))}function id(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,t0(s),s=s.next;while(s!==l)}e.action=null}function t0(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function e0(e,s){return s}function n0(e,s){if(Ut){var a=ne.formState;if(a!==null){t:{var l=Ct;if(Ut){if(se){e:{for(var f=se,d=Bn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Fn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){se=Fn(f.nextSibling),l=f.data==="F!";break t}}Ms(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:s},a.queue=l,a=T0.bind(null,Ct,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Ct,!1,l.queue),l=on(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=AS.bind(null,Ct,f,d,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function i0(e){var s=ve();return s0(s,Wt,e)}function s0(e,s,a){if(s=td(e,s,e0)[0],e=gc(ss)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=dl(s)}catch(_){throw _===La?ac:_}else l=s;s=ve();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ct.flags|=2048,Fa(9,{destroy:void 0},SS.bind(null,f,a),null)),[l,d,e]}function SS(e,s){e.action=s}function r0(e){var s=ve(),a=Wt;if(a!==null)return s0(s,a,e);ve(),s=s.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Fa(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=mc(),Ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function a0(){return ve().memoizedState}function yc(e,s,a,l){var f=on();Ct.flags|=e,f.memoizedState=Fa(1|s,{destroy:void 0},a,l===void 0?null:l)}function vc(e,s,a,l){var f=ve();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&Qf(l,Wt.memoizedState.deps)?f.memoizedState=Fa(s,d,a,l):(Ct.flags|=e,f.memoizedState=Fa(1|s,d,a,l))}function o0(e,s){yc(8390656,8,e,s)}function sd(e,s){vc(2048,8,e,s)}function wS(e){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=mc(),Ct.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function l0(e){var s=ve().memoizedState;return wS({ref:s,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function u0(e,s){return vc(4,2,e,s)}function c0(e,s){return vc(4,4,e,s)}function h0(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function f0(e,s,a){a=a!=null?a.concat([e]):null,vc(4,4,h0.bind(null,s,e),a)}function rd(){}function d0(e,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Qf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function m0(e,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Qf(s,l[1]))return l[0];if(l=e(),Hr){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[l,s],l}function ad(e,s,a){return a===void 0||(is&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=pv(),Ct.lanes|=e,zs|=e,a)}function p0(e,s,a,l){return xn(a,s)?a:Ua.current!==null?(e=ad(e,a,l),xn(e,s)||(Re=!0),e):(is&42)===0||(is&1073741824)!==0&&(Ot&261930)===0?(Re=!0,e.memoizedState=a):(e=pv(),Ct.lanes|=e,zs|=e,s)}function g0(e,s,a,l,f){var d=st.p;st.p=d!==0&&8>d?d:8;var _=X.T,A={};X.T=A,ud(e,!1,s,a);try{var I=f(),H=X.S;if(H!==null&&H(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=TS(I,l);ml(e,s,$,Nn(e))}else ml(e,s,l,Nn(e))}catch(W){ml(e,s,{then:function(){},status:"rejected",reason:W},Nn())}finally{st.p=d,_!==null&&A.types!==null&&(_.types=A.types),X.T=_}}function RS(){}function od(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=y0(e).queue;g0(e,f,s,ct,a===null?RS:function(){return v0(e),a(l)})}function y0(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ct},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function v0(e){var s=y0(e);s.next===null&&(s=e.alternate.memoizedState),ml(e,s.next.queue,{},Nn())}function ld(){return Ke(Vl)}function _0(){return ve().memoizedState}function b0(){return ve().memoizedState}function CS(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=Nn();e=js(a);var l=Ps(s,e,a);l!==null&&(gn(l,s,a),ul(l,s,a)),s={cache:Lf()},e.payload=s;return}s=s.return}}function NS(e,s,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(e)?E0(s,a):(a=wf(e,s,a,l),a!==null&&(gn(a,e,l),x0(a,s,l)))}function T0(e,s,a){var l=Nn();ml(e,s,a,l)}function ml(e,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(e))E0(s,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,xn(A,_))return Ju(e,s,f,0),ne===null&&Wu(),!1}catch{}finally{}if(a=wf(e,s,f,l),a!==null)return gn(a,e,l),x0(a,s,l),!0}return!1}function ud(e,s,a,l){if(l={lane:2,revertLane:zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(e)){if(s)throw Error(r(479))}else s=wf(e,a,l,2),s!==null&&gn(s,e,2)}function _c(e){var s=e.alternate;return e===Ct||s!==null&&s===Ct}function E0(e,s){Ba=fc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function x0(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Po(e,a)}}var pl={readContext:Ke,use:pc,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};pl.useEffectEvent=fe;var A0={readContext:Ke,use:pc,useCallback:function(e,s){return on().memoizedState=[e,s===void 0?null:s],e},useContext:Ke,useEffect:o0,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,yc(4194308,4,h0.bind(null,s,e),a)},useLayoutEffect:function(e,s){return yc(4194308,4,e,s)},useInsertionEffect:function(e,s){yc(4,2,e,s)},useMemo:function(e,s){var a=on();s=s===void 0?null:s;var l=e();if(Hr){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=on();if(a!==void 0){var f=a(s);if(Hr){Vn(!0);try{a(s)}finally{Vn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=NS.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var s=on();return e={current:e},s.memoizedState=e},useState:function(e){e=nd(e);var s=e.queue,a=T0.bind(null,Ct,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(e,s){var a=on();return ad(a,e,s)},useTransition:function(){var e=nd(!1);return e=g0.bind(null,Ct,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Ct,f=on();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(Ot&127)!==0||Gy(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,o0(Ky.bind(null,l,d,e),[e]),l.flags|=2048,Fa(9,{destroy:void 0},Yy.bind(null,l,d,a,s),null),a},useId:function(){var e=on(),s=ne.identifierPrefix;if(Ut){var a=Vi,l=Di;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=dc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=ES++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:ld,useFormState:n0,useActionState:n0,useOptimistic:function(e){var s=on();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=ud.bind(null,Ct,!0,a),a.dispatch=s,[e,s]},useMemoCache:Jf,useCacheRefresh:function(){return on().memoizedState=CS.bind(null,Ct)},useEffectEvent:function(e){var s=on(),a={impl:e};return s.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Ke,use:pc,useCallback:d0,useContext:Ke,useEffect:sd,useImperativeHandle:f0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:m0,useReducer:gc,useRef:a0,useState:function(){return gc(ss)},useDebugValue:rd,useDeferredValue:function(e,s){var a=ve();return p0(a,Wt.memoizedState,e,s)},useTransition:function(){var e=gc(ss)[0],s=ve().memoizedState;return[typeof e=="boolean"?e:dl(e),s]},useSyncExternalStore:Hy,useId:_0,useHostTransitionStatus:ld,useFormState:i0,useActionState:i0,useOptimistic:function(e,s){var a=ve();return $y(a,Wt,e,s)},useMemoCache:Jf,useCacheRefresh:b0};cd.useEffectEvent=l0;var S0={readContext:Ke,use:pc,useCallback:d0,useContext:Ke,useEffect:sd,useImperativeHandle:f0,useInsertionEffect:u0,useLayoutEffect:c0,useMemo:m0,useReducer:ed,useRef:a0,useState:function(){return ed(ss)},useDebugValue:rd,useDeferredValue:function(e,s){var a=ve();return Wt===null?ad(a,e,s):p0(a,Wt.memoizedState,e,s)},useTransition:function(){var e=ed(ss)[0],s=ve().memoizedState;return[typeof e=="boolean"?e:dl(e),s]},useSyncExternalStore:Hy,useId:_0,useHostTransitionStatus:ld,useFormState:r0,useActionState:r0,useOptimistic:function(e,s){var a=ve();return Wt!==null?$y(a,Wt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:b0};S0.useEffectEvent=l0;function hd(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var fd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=Nn(),f=js(l);f.payload=s,a!=null&&(f.callback=a),s=Ps(e,f,l),s!==null&&(gn(s,e,l),ul(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=Nn(),f=js(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ps(e,f,l),s!==null&&(gn(s,e,l),ul(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=Nn(),l=js(a);l.tag=2,s!=null&&(l.callback=s),s=Ps(e,l,a),s!==null&&(gn(s,e,a),ul(s,e,a))}};function w0(e,s,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!el(a,l)||!el(f,d):!0}function R0(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&fd.enqueueReplaceState(s,s.state,null)}function Gr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function C0(e){Zu(e)}function N0(e){console.error(e)}function D0(e){Zu(e)}function bc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function V0(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dd(e,s,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(e,s)},a}function M0(e){return e=js(e),e.tag=3,e}function I0(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){V0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){V0(s,a,l),typeof f!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function DS(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Oa(s,a,f,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Mc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===oc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),kd(e,l,f)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),kd(e,l,f)),!1}throw Error(r(435,a.tag))}return kd(e,l,f),Mc(),!1}if(Ut)return s=Sn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Mf&&(e=Error(r(422),{cause:l}),sl(Ln(e,a)))):(l!==Mf&&(s=Error(r(423),{cause:l}),sl(Ln(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Ln(l,a),f=dd(e.stateNode,l,f),qf(e,f),de!==4&&(de=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),xl===null?xl=[d]:xl.push(d),de!==4&&(de=2),s===null)return!0;l=Ln(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=dd(a.stateNode,l,e),qf(a,e),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=M0(f),I0(f,e,a,l),qf(a,f),!1}a=a.return}while(a!==null);return!1}var md=Error(r(461)),Re=!1;function Qe(e,s,a,l){s.child=e===null?Ly(s,null,a,l):qr(s,e.child,a,l)}function O0(e,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Ur(s),l=Xf(e,s,a,_,d,f),A=$f(),e!==null&&!Re?(Zf(e,s,f),rs(e,s,f)):(Ut&&A&&Df(s),s.flags|=1,Qe(e,s,l,f),s.child)}function j0(e,s,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,P0(e,s,d,l,f)):(e=ec(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(d=e.child,!Ed(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&e.ref===s.ref)return rs(e,s,f)}return s.flags|=1,e=Ji(d,l),e.ref=s.ref,e.return=s,s.child=e}function P0(e,s,a,l,f){if(e!==null){var d=e.memoizedProps;if(el(d,l)&&e.ref===s.ref)if(Re=!1,s.pendingProps=l=d,Ed(e,f))(e.flags&131072)!==0&&(Re=!0);else return s.lanes=e.lanes,rs(e,s,f)}return pd(e,s,a,l,f)}function L0(e,s,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=s.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return k0(e,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&rc(s,d!==null?d.cachePool:null),d!==null?By(s,d):Gf(),zy(s);else return l=s.lanes=536870912,k0(e,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(s,d.cachePool),By(s,d),ks(),s.memoizedState=null):(e!==null&&rc(s,null),Gf(),ks());return Qe(e,s,f,a),s.child}function gl(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function k0(e,s,a,l,f){var d=Uf();return d=d===null?null:{parent:Se._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},e!==null&&rc(s,null),Gf(),zy(s),e!==null&&Oa(e,s,l,!0),s.childLanes=f,null}function Tc(e,s){return s=xc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function U0(e,s,a){return qr(s,e.child,null,a),e=Tc(s,s.pendingProps),e.flags|=2,wn(s),s.memoizedState=null,e}function VS(e,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=Tc(s,l),s.lanes=536870912,gl(null,e);if(Kf(s),(e=se)?(e=Zv(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Di,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Ey(e),a.return=s,s.child=a,Ye=s,se=null)):e=null,e===null)throw Ms(s);return s.lanes=536870912,null}return Tc(s,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(s),f)if(s.flags&256)s.flags&=-257,s=U0(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Re||Oa(e,s,a,!1),f=(a&e.childLanes)!==0,Re||f){if(l=ne,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,jr(e,_),gn(l,e,_),md;Mc(),s=U0(e,s,a)}else e=d.treeContext,se=Fn(_.nextSibling),Ye=s,Ut=!0,Vs=null,Bn=!1,e!==null&&Sy(s,e),s=Tc(s,l),s.flags|=4096;return s}return e=Ji(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Ec(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function pd(e,s,a,l,f){return Ur(s),a=Xf(e,s,a,l,void 0,f),l=$f(),e!==null&&!Re?(Zf(e,s,f),rs(e,s,f)):(Ut&&l&&Df(s),s.flags|=1,Qe(e,s,a,f),s.child)}function B0(e,s,a,l,f,d){return Ur(s),s.updateQueue=null,a=qy(s,l,a,f),Fy(e),l=$f(),e!==null&&!Re?(Zf(e,s,d),rs(e,s,d)):(Ut&&l&&Df(s),s.flags|=1,Qe(e,s,a,d),s.child)}function z0(e,s,a,l,f){if(Ur(s),s.stateNode===null){var d=Da,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ke(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},zf(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ke(_):Da,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),hl(s,l,d,f),cl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){d=s.stateNode;var A=s.memoizedProps,I=Gr(a,A);d.props=I;var H=d.context,$=a.contextType;_=Da,typeof $=="object"&&$!==null&&(_=Ke($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||H!==_)&&R0(s,d,l,_),Os=!1;var Y=s.memoizedState;d.state=Y,hl(s,l,d,f),cl(),H=s.memoizedState,A||Y!==H||Os?(typeof W=="function"&&(hd(s,a,W,l),H=s.memoizedState),(I=Os||w0(s,a,I,l,Y,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),d.props=l,d.state=H,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Ff(e,s),_=s.memoizedProps,$=Gr(a,_),d.props=$,W=s.pendingProps,Y=d.context,H=a.contextType,I=Da,typeof H=="object"&&H!==null&&(I=Ke(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||Y!==I)&&R0(s,d,l,I),Os=!1,Y=s.memoizedState,d.state=Y,hl(s,l,d,f),cl();var Q=s.memoizedState;_!==W||Y!==Q||Os||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof A=="function"&&(hd(s,a,A,l),Q=s.memoizedState),($=Os||w0(s,a,$,l,Y,Q,I)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Y===e.memoizedState||(s.flags|=1024),l=!1)}return d=l,Ec(e,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,e!==null&&l?(s.child=qr(s,e.child,null,f),s.child=qr(s,null,a,f)):Qe(e,s,a,f),s.memoizedState=d.state,e=s.child):e=rs(e,s,f),e}function F0(e,s,a,l){return Lr(),s.flags|=256,Qe(e,s,a,l),s.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(e){return{baseLanes:e,cachePool:Vy()}}function vd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Cn),e}function q0(e,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ut){if(f?Ls(s):ks(),(e=se)?(e=Zv(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Di,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Ey(e),a.return=s,s.child=a,Ye=s,se=null)):e=null,e===null)throw Ms(s);return tm(e)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(ks(),f=s.mode,A=xc({mode:"hidden",children:A},f),l=Pr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=yd(a),l.childLanes=vd(e,_,a),s.memoizedState=gd,gl(null,l)):(Ls(s),_d(s,A))}var I=e.memoizedState;if(I!==null&&(A=I.dehydrated,A!==null)){if(d)s.flags&256?(Ls(s),s.flags&=-257,s=bd(e,s,a)):s.memoizedState!==null?(ks(),s.child=e.child,s.flags|=128,s=null):(ks(),A=l.fallback,f=s.mode,l=xc({mode:"visible",children:l.children},f),A=Pr(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,qr(s,e.child,null,a),l=s.child,l.memoizedState=yd(a),l.childLanes=vd(e,_,a),s.memoizedState=gd,s=gl(null,l));else if(Ls(s),tm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),s=bd(e,s,a)}else if(Re||Oa(e,s,a,!1),_=(a&e.childLanes)!==0,Re||_){if(_=ne,_!==null&&(l=Lo(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,jr(e,l),gn(_,e,l),md;Jd(A)||Mc(),s=bd(e,s,a)}else Jd(A)?(s.flags|=192,s.child=e.child,s=null):(e=I.treeContext,se=Fn(A.nextSibling),Ye=s,Ut=!0,Vs=null,Bn=!1,e!==null&&Sy(s,e),s=_d(s,l.children),s.flags|=4096);return s}return f?(ks(),A=l.fallback,f=s.mode,I=e.child,H=I.sibling,l=Ji(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?A=Ji(H,A):(A=Pr(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,gl(null,l),l=s.child,A=e.child.memoizedState,A===null?A=yd(a):(f=A.cachePool,f!==null?(I=Se._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Vy(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=vd(e,_,a),s.memoizedState=gd,gl(e.child,l)):(Ls(s),a=e.child,e=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function _d(e,s){return s=xc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function xc(e,s){return e=An(22,e,null,s),e.lanes=0,e}function bd(e,s,a){return qr(s,e.child,null,a),e=_d(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function H0(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),jf(e.return,s,a)}function Td(e,s,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function G0(e,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ye.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,ut(ye,_),Qe(e,s,l,a),l=Ut?il:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&H0(e,a,s);else if(e.tag===19)H0(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&hc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Td(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&hc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Td(s,!0,a,null,d,l);break;case"together":Td(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function rs(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),zs|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Oa(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ji(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ji(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Ed(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function MS(e,s,a){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),Is(s,Se,e.memoizedState.cache),Lr();break;case 27:case 5:yr(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:Is(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Kf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(s),s.flags|=128,null):(a&s.child.childLanes)!==0?q0(e,s,a):(Ls(s),e=rs(e,s,a),e!==null?e.sibling:null);Ls(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Oa(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return G0(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(ye,ye.current),l)break;return null;case 22:return s.lanes=0,L0(e,s,a,s.pendingProps);case 24:Is(s,Se,e.memoizedState.cache)}return rs(e,s,a)}function Y0(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Re=!0;else{if(!Ed(e,a)&&(s.flags&128)===0)return Re=!1,MS(e,s,a);Re=(e.flags&131072)!==0}else Re=!1,Ut&&(s.flags&1048576)!==0&&Ay(s,il,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=zr(s.elementType),s.type=e,typeof e=="function")Rf(e)?(l=Gr(e,l),s.tag=1,s=z0(null,s,e,l,a)):(s.tag=0,s=pd(null,s,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===rt){s.tag=11,s=O0(null,s,e,l,a);break t}else if(f===C){s.tag=14,s=j0(null,s,e,l,a);break t}}throw s=Tt(e)||e,Error(r(306,s,""))}}return s;case 0:return pd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Gr(l,s.pendingProps),z0(e,s,l,f,a);case 3:t:{if(Oe(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Ff(e,s),hl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Is(s,Se,l),l!==d.cache&&Pf(s,[Se],a,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=F0(e,s,l,a);break t}else if(l!==f){f=Ln(Error(r(424)),s),sl(f),s=F0(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=Fn(e.firstChild),Ye=s,Ut=!0,Vs=null,Bn=!0,a=Ly(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Lr(),l===f){s=rs(e,s,a);break t}Qe(e,s,l,a)}s=s.child}return s;case 26:return Ec(e,s),e===null?(a=i_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ut||(a=s.type,e=s.pendingProps,l=Uc(Nt.current).createElement(a),l[Ee]=s,l[Ue]=e,Xe(l,a,e),xe(l),s.stateNode=l):s.memoizedState=i_(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return yr(s),e===null&&Ut&&(l=s.stateNode=t_(s.type,s.pendingProps,Nt.current),Ye=s,Bn=!0,f=se,Ys(s.type)?(em=f,se=Fn(l.firstChild)):se=f),Qe(e,s,s.pendingProps.children,a),Ec(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ut&&((f=l=se)&&(l=l2(l,s.type,s.pendingProps,Bn),l!==null?(s.stateNode=l,Ye=s,se=Fn(l.firstChild),Bn=!1,f=!0):f=!1),f||Ms(s)),yr(s),f=s.type,d=s.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,$d(f,d)?l=null:_!==null&&$d(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Xf(e,s,xS,null,null,a),Vl._currentValue=f),Ec(e,s),Qe(e,s,l,a),s.child;case 6:return e===null&&Ut&&((e=a=se)&&(a=u2(a,s.pendingProps,Bn),a!==null?(s.stateNode=a,Ye=s,se=null,e=!0):e=!1),e||Ms(s)),null;case 13:return q0(e,s,a);case 4:return Oe(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=qr(s,null,l,a):Qe(e,s,l,a),s.child;case 11:return O0(e,s,s.type,s.pendingProps,a);case 7:return Qe(e,s,s.pendingProps,a),s.child;case 8:return Qe(e,s,s.pendingProps.children,a),s.child;case 12:return Qe(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Is(s,s.type,l.value),Qe(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ur(s),f=Ke(f),l=l(f),s.flags|=1,Qe(e,s,l,a),s.child;case 14:return j0(e,s,s.type,s.pendingProps,a);case 15:return P0(e,s,s.type,s.pendingProps,a);case 19:return G0(e,s,a);case 31:return VS(e,s,a);case 22:return L0(e,s,a,s.pendingProps);case 24:return Ur(s),l=Ke(Se),e===null?(f=Uf(),f===null&&(f=ne,d=Lf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},zf(s),Is(s,Se,f)):((e.lanes&a)!==0&&(Ff(e,s),hl(s,null,null,a),cl()),f=e.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Is(s,Se,l)):(l=d.cache,Is(s,Se,l),l!==f.cache&&Pf(s,[Se],a,!0))),Qe(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function as(e){e.flags|=4}function xd(e,s,a,l,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(_v())e.flags|=8192;else throw Fr=oc,Bf}else e.flags&=-16777217}function K0(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!l_(s))if(_v())e.flags|=8192;else throw Fr=oc,Bf}function Ac(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Du():536870912,e.lanes|=s,Ya|=s)}function yl(e,s){if(!Ut)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function IS(e,s,a){var l=s.pendingProps;switch(Vf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(s),null;case 1:return re(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ns(Se),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(s)?as(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,If())),re(s),null;case 26:var f=s.type,d=s.memoizedState;return e===null?(as(s),d!==null?(re(s),K0(s,d)):(re(s),xd(s,f,null,l,a))):d?d!==e.memoizedState?(as(s),re(s),K0(s,d)):(re(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&as(s),re(s),xd(s,f,e,l,a)),null;case 27:if(ha(s),a=Nt.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}e=dt.current,Ia(s)?wy(s):(e=t_(f,l,a),s.stateNode=e,as(s))}return re(s),null;case 5:if(ha(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}if(d=dt.current,Ia(s))wy(s);else{var _=Uc(Nt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ee]=s,d[Ue]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Xe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&as(s)}}return re(s),xd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&as(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=Nt.current,Ia(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ee]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qv(e.nodeValue,a)),e||Ms(s,!0)}else e=Uc(e).createTextNode(l),e[Ee]=s,s.stateNode=e}return re(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ee]=s}else Lr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),e=!1}else a=If(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(wn(s),s):(wn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return re(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ia(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ee]=s}else Lr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),f=!1}else f=If(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(wn(s),s):(wn(s),null)}return wn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Ac(s,s.updateQueue),re(s),null);case 4:return oe(),e===null&&Gd(s.stateNode.containerInfo),re(s),null;case 10:return ns(s.type),re(s),null;case 19:if(J(ye),l=s.memoizedState,l===null)return re(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)yl(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(d=hc(e),d!==null){for(s.flags|=128,yl(l,!1),e=d.updateQueue,s.updateQueue=e,Ac(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Ty(a,e),a=a.sibling;return ut(ye,ye.current&1|2),Ut&&ts(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&rn()>Nc&&(s.flags|=128,f=!0,yl(l,!1),s.lanes=4194304)}else{if(!f)if(e=hc(d),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,Ac(s,e),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return re(s),null}else 2*rn()-l.renderingStartTime>Nc&&a!==536870912&&(s.flags|=128,f=!0,yl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(e=l.last,e!==null?e.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,a=ye.current,ut(ye,f?a&1|2:a&1),Ut&&ts(s,l.treeForkCount),e):(re(s),null);case 22:case 23:return wn(s),Yf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(re(s),s.subtreeFlags&6&&(s.flags|=8192)):re(s),a=s.updateQueue,a!==null&&Ac(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&J(Br),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ns(Se),re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function OS(e,s){switch(Vf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ns(Se),oe(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return ha(s),null;case 31:if(s.memoizedState!==null){if(wn(s),s.alternate===null)throw Error(r(340));Lr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(wn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Lr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return J(ye),null;case 4:return oe(),null;case 10:return ns(s.type),null;case 22:case 23:return wn(s),Yf(),e!==null&&J(Br),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ns(Se),null;case 25:return null;default:return null}}function Q0(e,s){switch(Vf(s),s.tag){case 3:ns(Se),oe();break;case 26:case 27:case 5:ha(s);break;case 4:oe();break;case 31:s.memoizedState!==null&&wn(s);break;case 13:wn(s);break;case 19:J(ye);break;case 10:ns(s.type);break;case 22:case 23:wn(s),Yf(),e!==null&&J(Br);break;case 24:ns(Se)}}function vl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){$t(s,s.return,A)}}function Us(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var I=a,H=A;try{H()}catch($){$t(f,I,$)}}}l=l.next}while(l!==d)}}catch($){$t(s,s.return,$)}}function X0(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{Uy(s,a)}catch(l){$t(e,e.return,l)}}}function $0(e,s,a){a.props=Gr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,s,l)}}function _l(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){$t(e,s,f)}}function Mi(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$t(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$t(e,s,f)}else a.current=null}function Z0(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$t(e,e.return,f)}}function Ad(e,s,a){try{var l=e.stateNode;n2(l,e.type,a,s),l[Ue]=s}catch(f){$t(e,e.return,f)}}function W0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function Sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||W0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Zn));else if(l!==4&&(l===27&&Ys(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(wd(e,s,a),e=e.sibling;e!==null;)wd(e,s,a),e=e.sibling}function Sc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Ys(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Sc(e,s,a),e=e.sibling;e!==null;)Sc(e,s,a),e=e.sibling}function J0(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,l,a),s[Ee]=e,s[Ue]=a}catch(d){$t(e,e.return,d)}}var os=!1,Ce=!1,Rd=!1,tv=typeof WeakSet=="function"?WeakSet:Set,ze=null;function jS(e,s){if(e=e.containerInfo,Qd=Yc,e=fy(e),bf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,I=-1,H=0,$=0,W=e,Y=null;e:for(;;){for(var Q;W!==a||f!==0&&W.nodeType!==3||(A=_+f),W!==d||l!==0&&W.nodeType!==3||(I=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)Y=W,W=Q;for(;;){if(W===e)break e;if(Y===a&&++H===f&&(A=_),Y===d&&++$===l&&(I=_),(Q=W.nextSibling)!==null)break;W=Y,Y=W.parentNode}W=Q}a=A===-1||I===-1?null:{start:A,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:e,selectionRange:a},Yc=!1,ze=s;ze!==null;)if(s=ze,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,ze=e;else for(;ze!==null;){switch(s=ze,d=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=Gr(a.type,f);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,ze=e;break}ze=s.return}}function ev(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:us(e,a),l&4&&vl(5,a);break;case 1:if(us(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var f=Gr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&X0(a),l&512&&_l(a,a.return);break;case 3:if(us(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Uy(e,s)}catch(_){$t(a,a.return,_)}}break;case 27:s===null&&l&4&&J0(a);case 26:case 5:us(e,a),s===null&&l&4&&Z0(a),l&512&&_l(a,a.return);break;case 12:us(e,a);break;case 31:us(e,a),l&4&&sv(e,a);break;case 13:us(e,a),l&4&&rv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=HS.bind(null,a),c2(e,a))));break;case 22:if(l=a.memoizedState!==null||os,!l){s=s!==null&&s.memoizedState!==null||Ce,f=os;var d=Ce;os=l,(Ce=s)&&!d?cs(e,a,(a.subtreeFlags&8772)!==0):us(e,a),os=f,Ce=d}break;case 30:break;default:us(e,a)}}function nv(e){var s=e.alternate;s!==null&&(e.alternate=null,nv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&ga(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,fn=!1;function ls(e,s,a){for(a=a.child;a!==null;)iv(e,s,a),a=a.sibling}function iv(e,s,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Ce||Mi(a,s),ls(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Mi(a,s);var l=ue,f=fn;Ys(a.type)&&(ue=a.stateNode,fn=!1),ls(e,s,a),Cl(a.stateNode),ue=l,fn=f;break;case 5:Ce||Mi(a,s);case 6:if(l=ue,f=fn,ue=null,ls(e,s,a),ue=l,fn=f,ue!==null)if(fn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){$t(a,s,d)}else try{ue.removeChild(a.stateNode)}catch(d){$t(a,s,d)}break;case 18:ue!==null&&(fn?(e=ue,Xv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),to(e)):Xv(ue,a.stateNode));break;case 4:l=ue,f=fn,ue=a.stateNode.containerInfo,fn=!0,ls(e,s,a),ue=l,fn=f;break;case 0:case 11:case 14:case 15:Us(2,a,s),Ce||Us(4,a,s),ls(e,s,a);break;case 1:Ce||(Mi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$0(a,s,l)),ls(e,s,a);break;case 21:ls(e,s,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,ls(e,s,a),Ce=l;break;default:ls(e,s,a)}}function sv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{to(e)}catch(a){$t(s,s.return,a)}}}function rv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(a){$t(s,s.return,a)}}function PS(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new tv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new tv),s;default:throw Error(r(435,e.tag))}}function wc(e,s){var a=PS(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=GS.bind(null,e,l);l.then(f,f)}})}function dn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(Ys(A.type)){ue=A.stateNode,fn=!1;break t}break;case 5:ue=A.stateNode,fn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,fn=!0;break t}A=A.return}if(ue===null)throw Error(r(160));iv(d,_,f),ue=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)av(s,e),s=s.sibling}var ii=null;function av(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(s,e),mn(e),l&4&&(Us(3,e,e.return),vl(3,e),Us(5,e,e.return));break;case 1:dn(s,e),mn(e),l&512&&(Ce||a===null||Mi(a,a.return)),l&64&&os&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ii;if(dn(s,e),mn(e),l&512&&(Ce||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vi]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xe(d,l,a),d[Ee]=e,xe(d),l=d;break t;case"link":var _=a_("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=a_("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),Xe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ee]=e,xe(d),l=d}e.stateNode=l}else o_(f,e.type,e.stateNode);else e.stateNode=r_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?o_(f,e.type,e.stateNode):r_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(s,e),mn(e),l&512&&(Ce||a===null||Mi(a,a.return)),a!==null&&l&4&&Ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(s,e),mn(e),l&512&&(Ce||a===null||Mi(a,a.return)),e.flags&32){f=e.stateNode;try{hn(f,"")}catch(pt){$t(e,e.return,pt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Ad(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Rd=!0);break;case 6:if(dn(s,e),mn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){$t(e,e.return,pt)}}break;case 3:if(Fc=null,f=ii,ii=Bc(s.containerInfo),dn(s,e),ii=f,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(s.containerInfo)}catch(pt){$t(e,e.return,pt)}Rd&&(Rd=!1,ov(e));break;case 4:l=ii,ii=Bc(e.stateNode.containerInfo),dn(s,e),mn(e),ii=l;break;case 12:dn(s,e),mn(e);break;case 31:dn(s,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 13:dn(s,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 22:f=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=os,$=Ce;if(os=H||f,Ce=$||I,dn(s,e),Ce=$,os=H,mn(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||I||os||Ce||Yr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){I=a=s;try{if(d=I.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=I.stateNode;var W=I.memoizedProps.style,Y=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pt){$t(I,I.return,pt)}}}else if(s.tag===6){if(a===null){I=s;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(pt){$t(I,I.return,pt)}}}else if(s.tag===18){if(a===null){I=s;try{var Q=I.stateNode;f?$v(Q,!0):$v(I.stateNode,!1)}catch(pt){$t(I,I.return,pt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(e,a))));break;case 19:dn(s,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 30:break;case 21:break;default:dn(s,e),mn(e)}}function mn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(W0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Sd(e);Sc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var A=Sd(e);Sc(e,A,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Sd(e);wd(e,H,I);break;default:throw Error(r(161))}}catch($){$t(e,e.return,$)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function ov(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;ov(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function us(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ev(e,s.alternate,s),s=s.sibling}function Yr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),Yr(s);break;case 1:Mi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&$0(s,s.return,a),Yr(s);break;case 27:Cl(s.stateNode);case 26:case 5:Mi(s,s.return),Yr(s);break;case 22:s.memoizedState===null&&Yr(s);break;case 30:Yr(s);break;default:Yr(s)}e=e.sibling}}function cs(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:cs(f,d,a),vl(4,d);break;case 1:if(cs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)ky(I[f],A)}catch(H){$t(l,l.return,H)}}a&&_&64&&X0(d),_l(d,d.return);break;case 27:J0(d);case 26:case 5:cs(f,d,a),a&&l===null&&_&4&&Z0(d),_l(d,d.return);break;case 12:cs(f,d,a);break;case 31:cs(f,d,a),a&&_&4&&sv(f,d);break;case 13:cs(f,d,a),a&&_&4&&rv(f,d);break;case 22:d.memoizedState===null&&cs(f,d,a),_l(d,d.return);break;case 30:break;default:cs(f,d,a)}s=s.sibling}}function Cd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rl(a))}function Nd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&rl(e))}function si(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lv(e,s,a,l),s=s.sibling}function lv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:si(e,s,a,l),f&2048&&vl(9,s);break;case 1:si(e,s,a,l);break;case 3:si(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&rl(e)));break;case 12:if(f&2048){si(e,s,a,l),e=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(s,s.return,I)}}else si(e,s,a,l);break;case 31:si(e,s,a,l);break;case 13:si(e,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?si(e,s,a,l):bl(e,s):d._visibility&2?si(e,s,a,l):(d._visibility|=2,qa(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Cd(_,s);break;case 24:si(e,s,a,l),f&2048&&Nd(s.alternate,s);break;default:si(e,s,a,l)}}function qa(e,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=e,_=s,A=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,A,I,f),vl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?qa(d,_,A,I,f):bl(d,_):($._visibility|=2,qa(d,_,A,I,f)),f&&H&2048&&Cd(_.alternate,_);break;case 24:qa(d,_,A,I,f),f&&H&2048&&Nd(_.alternate,_);break;default:qa(d,_,A,I,f)}s=s.sibling}}function bl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&Cd(l.alternate,l);break;case 24:bl(a,l),f&2048&&Nd(l.alternate,l);break;default:bl(a,l)}s=s.sibling}}var Tl=8192;function Ha(e,s,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)uv(e,s,a),e=e.sibling}function uv(e,s,a){switch(e.tag){case 26:Ha(e,s,a),e.flags&Tl&&e.memoizedState!==null&&E2(a,ii,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,s,a);break;case 3:case 4:var l=ii;ii=Bc(e.stateNode.containerInfo),Ha(e,s,a),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Ha(e,s,a),Tl=l):Ha(e,s,a));break;default:Ha(e,s,a)}}function cv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function El(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ze=l,fv(l,e)}cv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hv(e),e=e.sibling}function hv(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Us(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Rc(e)):El(e);break;default:El(e)}}function Rc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];ze=l,fv(l,e)}cv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Us(8,s,s.return),Rc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(s));break;default:Rc(s)}e=e.sibling}}function fv(e,s){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Us(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=e;ze!==null;){l=ze;var f=l.sibling,d=l.return;if(nv(l),l===a){ze=null;break t}if(f!==null){f.return=d,ze=f;break t}ze=d}}}var LS={getCacheForType:function(e){var s=Ke(Se),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return Ke(Se).controller.signal}},kS=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Vt=null,Ot=0,Xt=0,Rn=null,Bs=!1,Ga=!1,Dd=!1,hs=0,de=0,zs=0,Kr=0,Vd=0,Cn=0,Ya=0,xl=null,pn=null,Md=!1,Cc=0,dv=0,Nc=1/0,Dc=null,Fs=null,Pe=0,qs=null,Ka=null,fs=0,Id=0,Od=null,mv=null,Al=0,jd=null;function Nn(){return(Yt&2)!==0&&Ot!==0?Ot&-Ot:X.T!==null?zd():Vu()}function pv(){if(Cn===0)if((Ot&536870912)===0||Ut){var e=br;br<<=1,(br&3932160)===0&&(br=262144),Cn=e}else Cn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Cn}function gn(e,s,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Hs(e,Ot,Cn,!1)),Tr(e,a),((Yt&2)===0||e!==ne)&&(e===ne&&((Yt&2)===0&&(Kr|=a),de===4&&Hs(e,Ot,Cn,!1)),Ii(e))}function gv(e,s,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Qn(e,s),f=l?zS(e,s):Ld(e,s,!0),d=l;do{if(f===0){Ga&&!l&&Hs(e,s,0,!1);break}else{if(a=e.current.alternate,d&&!US(a)){f=Ld(e,s,!1),d=!1;continue}if(f===2){if(d=s,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=e;f=xl;var I=A.current.memoizedState.isDehydrated;if(I&&(Qa(A,_).flags|=256),_=Ld(A,_,!1),_!==2){if(Dd&&!I){A.errorRecoveryDisabledLanes|=d,Kr|=d,f=4;break t}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Qa(e,0),Hs(e,s,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Hs(l,s,Cn,!Bs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Cc+300-rn(),10<f)){if(Hs(l,s,Cn,!Bs),pi(l,0,!0)!==0)break t;fs=s,l.timeoutHandle=Kv(yv.bind(null,l,a,pn,Dc,Md,s,Cn,Kr,Ya,Bs,d,"Throttled",-0,0),f);break t}yv(l,a,pn,Dc,Md,s,Cn,Kr,Ya,Bs,d,null,-0,0)}}break}while(!0);Ii(e)}function yv(e,s,a,l,f,d,_,A,I,H,$,W,Y,Q){if(e.timeoutHandle=-1,W=s.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},uv(s,d,W);var pt=(d&62914560)===d?Cc-rn():(d&4194048)===d?dv-rn():0;if(pt=x2(W,pt),pt!==null){fs=d,e.cancelPendingCommit=pt(Sv.bind(null,e,s,d,a,l,f,_,A,I,$,W,null,Y,Q)),Hs(e,d,_,!H);return}}Sv(e,s,d,a,l,f,_,A,I)}function US(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!xn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(e,s,a,l){s&=~Vd,s&=~Kr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var d=31-pe(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Er(e,a,s)}function Vc(){return(Yt&6)===0?(Sl(0),!1):!0}function Pd(){if(Vt!==null){if(Xt===0)var e=Vt.return;else e=Vt,es=kr=null,Wf(e),ka=null,ol=0,e=Vt;for(;e!==null;)Q0(e.alternate,e),e=e.return;Vt=null}}function Qa(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,r2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fs=0,Pd(),ne=e,Vt=a=Ji(e.current,null),Ot=s,Xt=0,Rn=null,Bs=!1,Ga=Qn(e,s),Dd=!1,Ya=Cn=Vd=Kr=zs=de=0,pn=xl=null,Md=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-pe(l),d=1<<f;s|=e[f],l&=~d}return hs=s,Wu(),a}function vv(e,s){Ct=null,X.H=pl,s===La||s===ac?(s=Oy(),Xt=3):s===Bf?(s=Oy(),Xt=4):Xt=s===md?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Vt===null&&(de=1,bc(e,Ln(s,e.current)))}function _v(){var e=Sn.current;return e===null?!0:(Ot&4194048)===Ot?zn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===zn:!1}function bv(){var e=X.H;return X.H=pl,e===null?pl:e}function Tv(){var e=X.A;return X.A=LS,e}function Mc(){de=4,Bs||(Ot&4194048)!==Ot&&Sn.current!==null||(Ga=!0),(zs&134217727)===0&&(Kr&134217727)===0||ne===null||Hs(ne,Ot,Cn,!1)}function Ld(e,s,a){var l=Yt;Yt|=2;var f=bv(),d=Tv();(ne!==e||Ot!==s)&&(Dc=null,Qa(e,s)),s=!1;var _=de;t:do try{if(Xt!==0&&Vt!==null){var A=Vt,I=Rn;switch(Xt){case 8:Pd(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(s=!0);var H=Xt;if(Xt=0,Rn=null,Xa(e,A,I,H),a&&Ga){_=0;break t}break;default:H=Xt,Xt=0,Rn=null,Xa(e,A,I,H)}}BS(),_=de;break}catch($){vv(e,$)}while(!0);return s&&e.shellSuspendCounter++,es=kr=null,Yt=l,X.H=f,X.A=d,Vt===null&&(ne=null,Ot=0,Wu()),_}function BS(){for(;Vt!==null;)Ev(Vt)}function zS(e,s){var a=Yt;Yt|=2;var l=bv(),f=Tv();ne!==e||Ot!==s?(Dc=null,Nc=rn()+500,Qa(e,s)):Ga=Qn(e,s);t:do try{if(Xt!==0&&Vt!==null){s=Vt;var d=Rn;e:switch(Xt){case 1:Xt=0,Rn=null,Xa(e,s,d,1);break;case 2:case 9:if(My(d)){Xt=0,Rn=null,xv(s);break}s=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Ii(e)},d.then(s,s);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:My(d)?(Xt=0,Rn=null,xv(s)):(Xt=0,Rn=null,Xa(e,s,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var A=Vt;if(_?l_(_):A.stateNode.complete){Xt=0,Rn=null;var I=A.sibling;if(I!==null)Vt=I;else{var H=A.return;H!==null?(Vt=H,Ic(H)):Vt=null}break e}}Xt=0,Rn=null,Xa(e,s,d,5);break;case 6:Xt=0,Rn=null,Xa(e,s,d,6);break;case 8:Pd(),de=6;break t;default:throw Error(r(462))}}FS();break}catch($){vv(e,$)}while(!0);return es=kr=null,X.H=l,X.A=f,Yt=a,Vt!==null?0:(ne=null,Ot=0,Wu(),de)}function FS(){for(;Vt!==null&&!df();)Ev(Vt)}function Ev(e){var s=Y0(e.alternate,e,hs);e.memoizedProps=e.pendingProps,s===null?Ic(e):Vt=s}function xv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=B0(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=B0(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:Wf(s);default:Q0(a,s),s=Vt=Ty(s,hs),s=Y0(a,s,hs)}e.memoizedProps=e.pendingProps,s===null?Ic(e):Vt=s}function Xa(e,s,a,l){es=kr=null,Wf(s),ka=null,ol=0;var f=s.return;try{if(DS(e,f,s,a,Ot)){de=1,bc(e,Ln(a,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;de=1,bc(e,Ln(a,e.current)),Vt=null;return}s.flags&32768?(Ut||l===1?e=!0:Ga||(Ot&536870912)!==0?e=!1:(Bs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Av(s,e)):Ic(s)}function Ic(e){var s=e;do{if((s.flags&32768)!==0){Av(s,Bs);return}e=s.return;var a=IS(s.alternate,s,hs);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=e}while(s!==null);de===0&&(de=5)}function Av(e,s){do{var a=OS(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);de=6,Vt=null}function Sv(e,s,a,l,f,d,_,A,I){e.cancelPendingCommit=null;do Oc();while(Pe!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Sf,gf(e,a,d,_,A,I),e===ne&&(Vt=ne=null,Ot=0),Ka=s,qs=e,fs=a,Id=d,Od=f,mv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YS(bs,function(){return Dv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=st.p,st.p=2,_=Yt,Yt|=4;try{jS(e,s,a)}finally{Yt=_,st.p=f,X.T=l}}Pe=1,wv(),Rv(),Cv()}}function wv(){if(Pe===1){Pe=0;var e=qs,s=Ka,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=st.p;st.p=2;var f=Yt;Yt|=4;try{av(s,e);var d=Xd,_=fy(e.containerInfo),A=d.focusedElem,I=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&hy(A.ownerDocument.documentElement,A)){if(I!==null&&bf(A)){var H=I.start,$=I.end;if($===void 0&&($=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min($,A.value.length);else{var W=A.ownerDocument||document,Y=W&&W.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),pt=A.textContent.length,_t=Math.min(I.start,pt),te=I.end===void 0?_t:Math.min(I.end,pt);!Q.extend&&_t>te&&(_=te,te=_t,_t=_);var U=cy(A,_t),j=cy(A,te);if(U&&j&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var q=W.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),_t>te?(Q.addRange(q),Q.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),Q.addRange(q))}}}}for(W=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&W.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var Z=W[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Yc=!!Qd,Xd=Qd=null}finally{Yt=f,st.p=l,X.T=a}}e.current=s,Pe=2}}function Rv(){if(Pe===2){Pe=0;var e=qs,s=Ka,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=st.p;st.p=2;var f=Yt;Yt|=4;try{ev(e,s.alternate,s)}finally{Yt=f,st.p=l,X.T=a}}Pe=3}}function Cv(){if(Pe===4||Pe===3){Pe=0,Au();var e=qs,s=Ka,a=fs,l=mv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pe=5:(Pe=0,Ka=qs=null,Nv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Fs=null),Xi(a),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=X.T,f=st.p,st.p=2,X.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{X.T=s,st.p=f}}(fs&3)!==0&&Oc(),Ii(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===jd?Al++:(Al=0,jd=e):Al=0,Sl(0)}}function Nv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,rl(s)))}function Oc(){return wv(),Rv(),Cv(),Dv()}function Dv(){if(Pe!==5)return!1;var e=qs,s=Id;Id=0;var a=Xi(fs),l=X.T,f=st.p;try{st.p=32>a?32:a,X.T=null,a=Od,Od=null;var d=qs,_=fs;if(Pe=0,Ka=qs=null,fs=0,(Yt&6)!==0)throw Error(r(331));var A=Yt;if(Yt|=4,hv(d.current),lv(d,d.current,_,a),Yt=A,Sl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{st.p=f,X.T=l,Nv(e,s)}}function Vv(e,s,a){s=Ln(a,s),s=dd(e.stateNode,s,2),e=Ps(e,s,2),e!==null&&(Tr(e,2),Ii(e))}function $t(e,s,a){if(e.tag===3)Vv(e,e,a);else for(;s!==null;){if(s.tag===3){Vv(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){e=Ln(a,e),a=M0(2),l=Ps(s,a,2),l!==null&&(I0(a,l,s,e),Tr(l,2),Ii(l));break}}s=s.return}}function kd(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new kS;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Dd=!0,f.add(a),e=qS.bind(null,e,s,a),s.then(e,e))}function qS(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Ot&a)===a&&(de===4||de===3&&(Ot&62914560)===Ot&&300>rn()-Cc?(Yt&2)===0&&Qa(e,0):Vd|=a,Ya===Ot&&(Ya=0)),Ii(e)}function Mv(e,s){s===0&&(s=Du()),e=jr(e,s),e!==null&&(Tr(e,s),Ii(e))}function HS(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Mv(e,a)}function GS(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Mv(e,a)}function YS(e,s){return je(e,s)}var jc=null,$a=null,Ud=!1,Pc=!1,Bd=!1,Gs=0;function Ii(e){e!==$a&&e.next===null&&($a===null?jc=$a=e:$a=$a.next=e),Pc=!0,Ud||(Ud=!0,QS())}function Sl(e,s){if(!Bd&&Pc){Bd=!0;do for(var a=!1,l=jc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-pe(42|e)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Pv(l,d))}else d=Ot,d=pi(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,Pv(l,d));l=l.next}while(a);Bd=!1}}function KS(){Iv()}function Iv(){Pc=Ud=!1;var e=0;Gs!==0&&s2()&&(e=Gs);for(var s=rn(),a=null,l=jc;l!==null;){var f=l.next,d=Ov(l,s);d===0?(l.next=null,a===null?jc=f:a.next=f,f===null&&($a=a)):(a=l,(e!==0||(d&3)!==0)&&(Pc=!0)),l=f}Pe!==0&&Pe!==5||Sl(e),Gs!==0&&(Gs=0)}function Ov(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pe(d),A=1<<_,I=f[_];I===-1?((A&a)===0||(A&l)!==0)&&(f[_]=pf(A,s)):I<=s&&(e.expiredLanes|=A),d&=~A}if(s=ne,a=Ot,a=pi(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_s(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qn(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&_s(l),Xi(a)){case 2:case 8:a=jo;break;case 32:a=bs;break;case 268435456:a=Su;break;default:a=bs}return l=jv.bind(null,e),a=je(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&_s(l),e.callbackPriority=2,e.callbackNode=null,2}function jv(e,s){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Oc()&&e.callbackNode!==a)return null;var l=Ot;return l=pi(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(gv(e,l,s),Ov(e,rn()),e.callbackNode!=null&&e.callbackNode===a?jv.bind(null,e):null)}function Pv(e,s){if(Oc())return null;gv(e,s,!0)}function QS(){a2(function(){(Yt&6)!==0?je(Oo,KS):Iv()})}function zd(){if(Gs===0){var e=ja;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Gs=e}return Gs}function Lv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ba(""+e)}function kv(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function XS(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Lv((f[Ue]||null).action),_=l.submitter;_&&(s=(s=_[Ue]||null)?Lv(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new wi("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var I=_?kv(f,_):new FormData(f);od(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(A.preventDefault(),I=_?kv(f,_):new FormData(f),od(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Fd=0;Fd<Af.length;Fd++){var qd=Af[Fd],$S=qd.toLowerCase(),ZS=qd[0].toUpperCase()+qd.slice(1);ni($S,"on"+ZS)}ni(py,"onAnimationEnd"),ni(gy,"onAnimationIteration"),ni(yy,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(dS,"onTransitionRun"),ni(mS,"onTransitionStart"),ni(pS,"onTransitionCancel"),ni(vy,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Uv(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],I=A.instance,H=A.currentTarget;if(A=A.listener,I!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){Zu($)}f.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(A=l[_],I=A.instance,H=A.currentTarget,A=A.listener,I!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){Zu($)}f.currentTarget=null,d=I}}}}function Mt(e,s){var a=s[pa];a===void 0&&(a=s[pa]=new Set);var l=e+"__bubble";a.has(l)||(Bv(s,e,2,!1),a.add(l))}function Hd(e,s,a){var l=0;s&&(l|=4),Bv(a,e,l,s)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Gd(e){if(!e[Lc]){e[Lc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(WS.has(a)||Hd(a,!1,e),Hd(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Lc]||(s[Lc]=!0,Hd("selectionchange",!1,s))}}function Bv(e,s,a,l){switch(p_(s)){case 2:var f=w2;break;case 8:f=R2;break;default:f=am}a=f.bind(null,s,a,e),f=void 0,!Rr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Yd(e,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=_i(A),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}A=A.parentNode}}l=l.return}ws(function(){var H=d,$=In(a),W=[];t:{var Y=_y.get(e);if(Y!==void 0){var Q=wi,pt=e;switch(e){case"keypress":if(Nr(a)===0)break t;case"keydown":case"keyup":Q=Qu;break;case"focusin":pt="focus",Q=Vr;break;case"focusout":pt="blur",Q=Vr;break;case"beforeblur":case"afterblur":Q=Vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case py:case gy:case yy:Q=zu;break;case vy:Q=S;break;case"scroll":case"scrollend":Q=$o;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wi;break;case"toggle":case"beforetoggle":Q=Rt}var _t=(s&4)!==0,te=!_t&&(e==="scroll"||e==="scrollend"),U=_t?Y!==null?Y+"Capture":null:Y;_t=[];for(var j=H,q;j!==null;){var Z=j;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Wn(j,U),Z!=null&&_t.push(Rl(j,Z,q))),te)break;j=j.return}0<_t.length&&(Y=new Q(Y,pt,null,a,$),W.push({event:Y,listeners:_t}))}}if((s&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",Y&&a!==Ko&&(pt=a.relatedTarget||a.fromElement)&&(_i(pt)||pt[yi]))break t;if((Q||Y)&&(Y=$.window===$?$:(Y=$.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(pt=a.relatedTarget||a.toElement,Q=H,pt=pt?_i(pt):null,pt!==null&&(te=u(pt),_t=pt.tag,pt!==te||_t!==5&&_t!==27&&_t!==6)&&(pt=null)):(Q=null,pt=H),Q!==pt)){if(_t=Zo,Z="onMouseLeave",U="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Wi,Z="onPointerLeave",U="onPointerEnter",j="pointer"),te=Q==null?Y:Tn(Q),q=pt==null?Y:Tn(pt),Y=new _t(Z,j+"leave",Q,a,$),Y.target=te,Y.relatedTarget=q,Z=null,_i($)===H&&(_t=new _t(U,j+"enter",pt,a,$),_t.target=q,_t.relatedTarget=te,Z=_t),te=Z,Q&&pt)e:{for(_t=JS,U=Q,j=pt,q=0,Z=U;Z;Z=_t(Z))q++;Z=0;for(var yt=j;yt;yt=_t(yt))Z++;for(;0<q-Z;)U=_t(U),q--;for(;0<Z-q;)j=_t(j),Z--;for(;q--;){if(U===j||j!==null&&U===j.alternate){_t=U;break e}U=_t(U),j=_t(j)}_t=null}else _t=null;Q!==null&&zv(W,Y,Q,_t,!1),pt!==null&&te!==null&&zv(W,te,pt,_t,!0)}}t:{if(Y=H?Tn(H):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var qt=sy;else if(ny(Y))if(ry)qt=cS;else{qt=lS;var gt=oS}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&_a(H.elementType)&&(qt=sy):qt=uS;if(qt&&(qt=qt(e,H))){iy(W,qt,a,$);break t}gt&&gt(e,Y,H),e==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&Ho(Y,"number",Y.value)}switch(gt=H?Tn(H):window,e){case"focusin":(ny(gt)||gt.contentEditable==="true")&&(Ra=gt,Tf=H,nl=null);break;case"focusout":nl=Tf=Ra=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,dy(W,a,$);break;case"selectionchange":if(fS)break;case"keydown":case"keyup":dy(W,a,$)}var Dt;if(Gt)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else wa?Mr(e,a)&&(jt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(jt="onCompositionStart");jt&&(Ni&&a.locale!=="ko"&&(wa||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&wa&&(Dt=Xo()):(Si=$,Qo="value"in Si?Si.value:Si.textContent,wa=!0)),gt=kc(H,jt),0<gt.length&&(jt=new Ci(jt,e,null,a,$),W.push({event:jt,listeners:gt}),Dt?jt.data=Dt:(Dt=Sa(a),Dt!==null&&(jt.data=Dt)))),(Dt=jn?iS(e,a):sS(e,a))&&(jt=kc(H,"onBeforeInput"),0<jt.length&&(gt=new Ci("onBeforeInput","beforeinput",null,a,$),W.push({event:gt,listeners:jt}),gt.data=Dt)),XS(W,e,H,a,$)}Uv(W,s)})}function Rl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function kc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Wn(e,a),f!=null&&l.unshift(Rl(e,f,d)),f=Wn(e,s),f!=null&&l.push(Rl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function JS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zv(e,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,I=A.alternate,H=A.stateNode;if(A=A.tag,I!==null&&I===l)break;A!==5&&A!==26&&A!==27||H===null||(I=H,f?(H=Wn(a,d),H!=null&&_.unshift(Rl(a,H,I))):f||(H=Wn(a,d),H!=null&&_.push(Rl(a,H,I)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var t2=/\r\n?/g,e2=/\u0000|\uFFFD/g;function Fv(e){return(typeof e=="string"?e:""+e).replace(t2,`
`).replace(e2,"")}function qv(e,s){return s=Fv(s),Fv(e)===s}function Jt(e,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&hn(e,""+l);break;case"className":En(e,"class",l);break;case"tabIndex":En(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,a,l);break;case"style":Yo(e,l,d);break;case"data":if(s!=="object"){En(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ba(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Jt(e,s,"name",f.name,f,null),Jt(e,s,"formEncType",f.formEncType,f,null),Jt(e,s,"formMethod",f.formMethod,f,null),Jt(e,s,"formTarget",f.formTarget,f,null)):(Jt(e,s,"encType",f.encType,f,null),Jt(e,s,"method",f.method,f,null),Jt(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ba(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Zn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ba(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ya(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ku.get(a)||a,ya(e,a,l))}}function Kd(e,s,a,l,f,d){switch(a){case"style":Yo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=e[Ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ya(e,a,l)}}}function Xe(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(e,s,d,_,a,null)}}f&&Jt(e,s,"srcSet",a.srcSet,a,null),l&&Jt(e,s,"src",a.src,a,null);return;case"input":Mt("invalid",e);var A=d=_=f=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":I=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Jt(e,s,l,$,a,null)}}ju(e,d,A,I,H,_,f,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Jt(e,s,f,A,a,null)}s=d,a=_,e.multiple=!!l,s!=null?Es(e,!!l,s,!1):a!=null&&Es(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Jt(e,s,_,A,a,null)}xs(e,l,f,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,s,I,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<wl.length;l++)Mt(wl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(e,s,H,l,a,null)}return;default:if(_a(s)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Kd(e,s,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Jt(e,s,A,l,a,null))}function n2(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,I=null,H=null,$=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(Q)||Jt(e,s,Q,null,l,W)}}for(var Y in l){var Q=l[Y];if(W=a[Y],l.hasOwnProperty(Y)&&(Q!=null||W!=null))switch(Y){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==W&&Jt(e,s,Y,Q,l,W)}}va(e,_,A,I,H,$,d,f);return;case"select":Q=_=A=Y=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||Jt(e,s,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":Y=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==I&&Jt(e,s,f,d,l,I)}s=A,a=_,l=Q,Y!=null?Es(e,!!a,Y,!1):!!l!=!!a&&(s!=null?Es(e,!!a,s,!0):Es(e,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Jt(e,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Jt(e,s,_,f,l,d)}Pu(e,Y,Q);return;case"option":for(var pt in a)if(Y=a[pt],a.hasOwnProperty(pt)&&Y!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:Jt(e,s,pt,null,l,Y)}for(I in l)if(Y=l[I],Q=a[I],l.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Jt(e,s,I,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)Y=a[_t],a.hasOwnProperty(_t)&&Y!=null&&!l.hasOwnProperty(_t)&&Jt(e,s,_t,null,l,Y);for(H in l)if(Y=l[H],Q=a[H],l.hasOwnProperty(H)&&Y!==Q&&(Y!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Jt(e,s,H,Y,l,Q)}return;default:if(_a(s)){for(var te in a)Y=a[te],a.hasOwnProperty(te)&&Y!==void 0&&!l.hasOwnProperty(te)&&Kd(e,s,te,void 0,l,Y);for($ in l)Y=l[$],Q=a[$],!l.hasOwnProperty($)||Y===Q||Y===void 0&&Q===void 0||Kd(e,s,$,Y,l,Q);return}}for(var U in a)Y=a[U],a.hasOwnProperty(U)&&Y!=null&&!l.hasOwnProperty(U)&&Jt(e,s,U,null,l,Y);for(W in l)Y=l[W],Q=a[W],!l.hasOwnProperty(W)||Y===Q||Y==null&&Q==null||Jt(e,s,W,Y,l,Q)}function Hv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&Hv(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>A)break;var $=I.transferSize,W=I.initiatorType;$&&Hv(W)&&(I=I.responseEnd,_+=$*(I<A?1:(A-H)/(I-H)))}if(--l,s+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qd=null,Xd=null;function Uc(e){return e.nodeType===9?e:e.ownerDocument}function Gv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yv(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function $d(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zd=null;function s2(){var e=window.event;return e&&e.type==="popstate"?e===Zd?!1:(Zd=e,!0):(Zd=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,a2=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(e){return Qv.resolve(null).then(e).catch(o2)}:Kv;function o2(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function Xv(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),to(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[vi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Cl(e.ownerDocument.body);a=f}while(a);to(s)}function $v(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Wd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function l2(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[vi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function u2(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function Zv(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fn(e.nextSibling),e===null))return null;return e}function Jd(e){return e.data==="$?"||e.data==="$~"}function tm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function c2(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var em=null;function Wv(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return Fn(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function Jv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function t_(e,s,a){switch(s=Uc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Cl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);ga(e)}var qn=new Map,e_=new Set;function Bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=st.d;st.d={f:h2,r:f2,D:d2,C:m2,L:p2,m:g2,X:v2,S:y2,M:_2};function h2(){var e=ds.f(),s=Vc();return e||s}function f2(e){var s=Mn(e);s!==null&&s.tag===5&&s.type==="form"?v0(s):ds.r(e)}var Za=typeof document>"u"?null:document;function n_(e,s,a){var l=Za;if(l&&typeof s=="string"&&s){var f=cn(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),e_.has(f)||(e_.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Xe(s,"link",e),xe(s),l.head.appendChild(s)))}}function d2(e){ds.D(e),n_("dns-prefetch",e,null)}function m2(e,s){ds.C(e,s),n_("preconnect",e,s)}function p2(e,s,a){ds.L(e,s,a);var l=Za;if(l&&e&&s){var f='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(e)+'"]';var d=f;switch(s){case"style":d=Wa(e);break;case"script":d=Ja(e)}qn.has(d)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),qn.set(d,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Nl(d))||s==="script"&&l.querySelector(Dl(d))||(s=l.createElement("link"),Xe(s,"link",e),xe(s),l.head.appendChild(s)))}}function g2(e,s){ds.m(e,s);var a=Za;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(e)}if(!qn.has(d)&&(e=b({rel:"modulepreload",href:e},s),qn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Xe(l,"link",e),xe(l),a.head.appendChild(l)}}}function y2(e,s,a){ds.S(e,s,a);var l=Za;if(l&&e){var f=bi(l).hoistableStyles,d=Wa(e);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Nl(d)))A.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=qn.get(d))&&nm(e,a);var I=_=l.createElement("link");xe(I),Xe(I,"link",e),I._p=new Promise(function(H,$){I.onload=H,I.onerror=$}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zc(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function v2(e,s){ds.X(e,s);var a=Za;if(a&&e){var l=bi(a).hoistableScripts,f=Ja(e),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(e=b({src:e,async:!0},s),(s=qn.get(f))&&im(e,s),d=a.createElement("script"),xe(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function _2(e,s){ds.M(e,s);var a=Za;if(a&&e){var l=bi(a).hoistableScripts,f=Ja(e),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(e=b({src:e,async:!0,type:"module"},s),(s=qn.get(f))&&im(e,s),d=a.createElement("script"),xe(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function i_(e,s,a,l){var f=(f=Nt.current)?Bc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Wa(a.href),a=bi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Wa(a.href);var d=bi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Nl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),d||b2(f,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ja(a),a=bi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Wa(e){return'href="'+cn(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function b2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Xe(s,"link",a),xe(s),e.head.appendChild(s))}function Ja(e){return'[src="'+cn(e)+'"]'}function Dl(e){return"script[async]"+e}function r_(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return s.instance=l,xe(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),Xe(l,"style",f),zc(l,a.precedence,e),s.instance=l;case"stylesheet":f=Wa(a.href);var d=e.querySelector(Nl(f));if(d)return s.state.loading|=4,s.instance=d,xe(d),d;l=s_(a),(f=qn.get(f))&&nm(l,f),d=(e.ownerDocument||e).createElement("link"),xe(d);var _=d;return _._p=new Promise(function(A,I){_.onload=A,_.onerror=I}),Xe(d,"link",l),s.state.loading|=4,zc(d,a.precedence,e),s.instance=d;case"script":return d=Ja(a.src),(f=e.querySelector(Dl(d)))?(s.instance=f,xe(f),f):(l=a,(f=qn.get(d))&&(l=b({},a),im(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),xe(f),Xe(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,zc(l,a.precedence,e));return s.instance}function zc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function nm(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function im(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Fc=null;function a_(e,s,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[vi]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=e+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function o_(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function T2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function l_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function E2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Wa(l.href),d=s.querySelector(Nl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=qc.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=d,xe(d);return}d=s.ownerDocument||s,l=s_(l),(f=qn.get(f))&&nm(l,f),d=d.createElement("link"),xe(d);var _=d;_._p=new Promise(function(A,I){_.onload=A,_.onerror=I}),Xe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=qc.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var sm=0;function x2(e,s){return e.stylesheets&&e.count===0&&Gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+s);0<e.imgBytes&&sm===0&&(sm=62500*i2());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>sm?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hc=null;function Gc(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hc=new Map,s.forEach(A2,e),Hc=null,qc.call(e))}function A2(e,s){if(!(s.state.loading&4)){var a=Hc.get(e);if(a)var l=a.get(null);else{a=new Map,Hc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Vl={$$typeof:F,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function S2(e,s,a,l,f,d,_,A,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function u_(e,s,a,l,f,d,_,A,I,H,$,W){return e=new S2(e,s,a,_,I,H,$,W,A),s=1,d===!0&&(s|=24),d=An(3,null,null,s),e.current=d,d.stateNode=e,s=Lf(),s.refCount++,e.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},zf(d),e}function c_(e){return e?(e=Da,e):Da}function h_(e,s,a,l,f,d){f=c_(f),l.context===null?l.context=f:l.pendingContext=f,l=js(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ps(e,l,s),a!==null&&(gn(a,e,s),ul(a,e,s))}function f_(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function rm(e,s){f_(e,s),(e=e.alternate)&&f_(e,s)}function d_(e){if(e.tag===13||e.tag===31){var s=jr(e,67108864);s!==null&&gn(s,e,67108864),rm(e,67108864)}}function m_(e){if(e.tag===13||e.tag===31){var s=Nn();s=xr(s);var a=jr(e,s);a!==null&&gn(a,e,s),rm(e,s)}}var Yc=!0;function w2(e,s,a,l){var f=X.T;X.T=null;var d=st.p;try{st.p=2,am(e,s,a,l)}finally{st.p=d,X.T=f}}function R2(e,s,a,l){var f=X.T;X.T=null;var d=st.p;try{st.p=8,am(e,s,a,l)}finally{st.p=d,X.T=f}}function am(e,s,a,l){if(Yc){var f=om(l);if(f===null)Yd(e,s,l,Kc,a),g_(e,l);else if(N2(f,e,s,a,l))l.stopPropagation();else if(g_(e,l),s&4&&-1<C2.indexOf(e)){for(;f!==null;){var d=Mn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var I=1<<31-pe(_);A.entanglements[1]|=I,_&=~I}Ii(d),(Yt&6)===0&&(Nc=rn()+500,Sl(0))}}break;case 31:case 13:A=jr(d,2),A!==null&&gn(A,d,2),Vc(),rm(d,2)}if(d=om(l),d===null&&Yd(e,s,l,Kc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Yd(e,s,l,null,a)}}function om(e){return e=In(e),lm(e)}var Kc=null;function lm(e){if(Kc=null,e=_i(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=m(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Kc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Oo:return 2;case jo:return 8;case bs:case mf:return 32;case Su:return 268435456;default:return 32}default:return 32}}var um=!1,Ks=null,Qs=null,Xs=null,Ml=new Map,Il=new Map,$s=[],C2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g_(e,s){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Ml.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(s.pointerId)}}function Ol(e,s,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Mn(s),s!==null&&d_(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function N2(e,s,a,l,f){switch(s){case"focusin":return Ks=Ol(Ks,e,s,a,l,f),!0;case"dragenter":return Qs=Ol(Qs,e,s,a,l,f),!0;case"mouseover":return Xs=Ol(Xs,e,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ml.set(d,Ol(Ml.get(d)||null,e,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Il.set(d,Ol(Il.get(d)||null,e,s,a,l,f)),!0}return!1}function y_(e){var s=_i(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,Xn(e.priority,function(){m_(a)});return}}else if(s===31){if(s=m(a),s!==null){e.blockedOn=s,Xn(e.priority,function(){m_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=om(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return s=Mn(a),s!==null&&d_(s),e.blockedOn=a,!1;s.shift()}return!0}function v_(e,s,a){Qc(e)&&a.delete(s)}function D2(){um=!1,Ks!==null&&Qc(Ks)&&(Ks=null),Qs!==null&&Qc(Qs)&&(Qs=null),Xs!==null&&Qc(Xs)&&(Xs=null),Ml.forEach(v_),Il.forEach(v_)}function Xc(e,s){e.blockedOn===s&&(e.blockedOn=null,um||(um=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,D2)))}var $c=null;function __(e){$c!==e&&($c=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$c===e&&($c=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=Mn(a);d!==null&&(e.splice(s,3),s-=3,od(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function to(e){function s(I){return Xc(I,e)}Ks!==null&&Xc(Ks,e),Qs!==null&&Xc(Qs,e),Xs!==null&&Xc(Xs,e),Ml.forEach(s),Il.forEach(s);for(var a=0;a<$s.length;a++){var l=$s[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$s.length&&(a=$s[0],a.blockedOn===null);)y_(a),a.blockedOn===null&&$s.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ue]||null;if(typeof d=="function")_||__(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ue]||null)A=_.formAction;else if(lm(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),__(a)}}}function b_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function cm(e){this._internalRoot=e}Zc.prototype.render=cm.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Nn();h_(a,l,e,s,null,null)},Zc.prototype.unmount=cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;h_(e.current,2,null,e,null,null),Vc(),s[yi]=null}};function Zc(e){this._internalRoot=e}Zc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Vu();e={blockedOn:null,target:e,priority:s};for(var a=0;a<$s.length&&s!==0&&s<$s[a].priority;a++);$s.splice(a,0,e),a===0&&y_(e)}};var T_=t.version;if(T_!=="19.2.3")throw Error(r(527,T_,"19.2.3"));st.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var V2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Kn=Wc.inject(V2),He=Wc}catch{}}return Pl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=C0,d=N0,_=D0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=u_(e,1,!1,null,null,a,l,null,f,d,_,b_),e[yi]=s.current,Gd(e),new cm(s)},Pl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=C0,_=N0,A=D0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),s=u_(e,1,!0,s,a??null,l,f,I,d,_,A,b_),s.context=c_(null),a=s.current,l=Nn(),l=xr(l),f=js(l),f.callback=null,Ps(a,f,l),a=l,s.current.lanes=a,Tr(s,a),Ii(s),e[yi]=s.current,Gd(e),new Zc(s)},Pl.version="19.2.3",Pl}var V_;function F2(){if(V_)return dm.exports;V_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),dm.exports=z2(),dm.exports}var q2=F2();const H2=f1(q2),G2=()=>{};var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Y2=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],m=n[i++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},m1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,N=g&63;p||(N=64,c||(x=64)),r.push(i[v],i[b],i[x],i[N])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(d1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Y2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const b=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new K2;const x=u<<2|m>>4;if(r.push(x),g!==64){const N=m<<4&240|g>>2;if(r.push(N),b!==64){const L=g<<6&192|b;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class K2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q2=function(n){const t=d1(n);return m1.encodeByteArray(t,!0)},Th=function(n){return Q2(n).replace(/\./g,"")},X2=function(n){try{return m1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=()=>$2().__FIREBASE_DEFAULTS__,W2=()=>{if(typeof process>"u"||typeof M_>"u")return;const n=M_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},J2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&X2(n[1]);return t&&JSON.parse(t)},Lp=()=>{try{return G2()||Z2()||W2()||J2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tw=n=>{var t,i;return(i=(t=Lp())==null?void 0:t.emulatorHosts)==null?void 0:i[n]},p1=n=>{const t=tw(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},g1=()=>{var n;return(n=Lp())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Th(JSON.stringify(i)),Th(JSON.stringify(c)),""].join(".")}const Gl={};function nw(){const n={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?n.emulator.push(t):n.prod.push(t);return n}function iw(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let I_=!1;function _1(n,t){if(typeof window>"u"||typeof document>"u"||!Hh(window.location.host)||Gl[n]===t||Gl[n]||I_)return;Gl[n]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=nw().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{I_=!0,c()},x}function v(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=iw(r),N=i("text"),L=document.getElementById(N)||document.createElement("span"),k=i("learnmore"),B=document.getElementById(k)||document.createElement("a"),G=i("preprendIcon"),tt=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;m(F),v(B,k);const rt=g();p(tt,G),F.append(tt,L,B,rt),document.body.appendChild(F)}u?(L.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rw(){var t;const n=(t=Lp())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aw(){return!rw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ow(){try{return typeof indexedDB=="object"}catch{return!1}}function lw(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="FirebaseError";class oa extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=uw,Object.setPrototypeOf(this,oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b1.prototype.create)}}class b1{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?cw(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new oa(o,m,r)}}function cw(n,t){return n.replace(hw,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const hw=/\{\$([^}]+)}/g;function Eh(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(O_(u)&&O_(c)){if(!Eh(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function O_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n){return n&&n._delegate?n._delegate:n}class mo{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new ew;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mw(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(n){return n===Xr?void 0:n}function mw(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new fw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const gw={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},yw=Ft.INFO,vw={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},_w=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=vw[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class T1{constructor(t){this.name=t,this._logLevel=yw,this._logHandler=_w,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const bw=(n,t)=>t.some(i=>n instanceof i);let j_,P_;function Tw(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ew(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,qm=new WeakMap,x1=new WeakMap,ym=new WeakMap,kp=new WeakMap;function xw(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(er(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&E1.set(i,n)}).catch(()=>{}),kp.set(t,n),t}function Aw(n){if(qm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});qm.set(n,t)}let Hm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return qm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||x1.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return er(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Sw(n){Hm=n(Hm)}function ww(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(vm(this),t,...i);return x1.set(r,t.sort?t.sort():[t]),er(r)}:Ew().includes(n)?function(...t){return n.apply(vm(this),t),er(E1.get(this))}:function(...t){return er(n.apply(vm(this),t))}}function Rw(n){return typeof n=="function"?ww(n):(n instanceof IDBTransaction&&Aw(n),bw(n,Tw())?new Proxy(n,Hm):n)}function er(n){if(n instanceof IDBRequest)return xw(n);if(ym.has(n))return ym.get(n);const t=Rw(n);return t!==n&&(ym.set(n,t),kp.set(t,n)),t}const vm=n=>kp.get(n);function Cw(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=er(c);return r&&c.addEventListener("upgradeneeded",p=>{r(er(c.result),p.oldVersion,p.newVersion,er(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Nw=["get","getKey","getAll","getAllKeys","count"],Dw=["put","add","delete","clear"],_m=new Map;function L_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(_m.get(t))return _m.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Dw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Nw.includes(i)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return _m.set(t,u),u}Sw(n=>({...n,get:(t,i,r)=>L_(t,i)||n.get(t,i,r),has:(t,i)=>!!L_(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Mw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Mw(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Gm="@firebase/app",k_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new T1("@firebase/app"),Iw="@firebase/app-compat",Ow="@firebase/analytics-compat",jw="@firebase/analytics",Pw="@firebase/app-check-compat",Lw="@firebase/app-check",kw="@firebase/auth",Uw="@firebase/auth-compat",Bw="@firebase/database",zw="@firebase/data-connect",Fw="@firebase/database-compat",qw="@firebase/functions",Hw="@firebase/functions-compat",Gw="@firebase/installations",Yw="@firebase/installations-compat",Kw="@firebase/messaging",Qw="@firebase/messaging-compat",Xw="@firebase/performance",$w="@firebase/performance-compat",Zw="@firebase/remote-config",Ww="@firebase/remote-config-compat",Jw="@firebase/storage",tR="@firebase/storage-compat",eR="@firebase/firestore",nR="@firebase/ai",iR="@firebase/firestore-compat",sR="firebase",rR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",aR={[Gm]:"fire-core",[Iw]:"fire-core-compat",[jw]:"fire-analytics",[Ow]:"fire-analytics-compat",[Lw]:"fire-app-check",[Pw]:"fire-app-check-compat",[kw]:"fire-auth",[Uw]:"fire-auth-compat",[Bw]:"fire-rtdb",[zw]:"fire-data-connect",[Fw]:"fire-rtdb-compat",[qw]:"fire-fn",[Hw]:"fire-fn-compat",[Gw]:"fire-iid",[Yw]:"fire-iid-compat",[Kw]:"fire-fcm",[Qw]:"fire-fcm-compat",[Xw]:"fire-perf",[$w]:"fire-perf-compat",[Zw]:"fire-rc",[Ww]:"fire-rc-compat",[Jw]:"fire-gcs",[tR]:"fire-gcs-compat",[eR]:"fire-fst",[iR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,oR=new Map,Km=new Map;function U_(n,t){try{n.container.addComponent(t)}catch(i){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function tu(n){const t=n.name;if(Km.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;Km.set(t,n);for(const i of xh.values())U_(i,n);for(const i of oR.values())U_(i,n);return!0}function A1(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function S1(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new b1("app","Firebase",lR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=rR;function R1(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:Ym,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw nr.create("bad-app-name",{appName:String(o)});if(i||(i=g1()),!i)throw nr.create("no-options");const u=xh.get(o);if(u){if(Eh(i,u.options)&&Eh(r,u.config))return u;throw nr.create("duplicate-app",{appName:o})}const c=new pw(o);for(const p of Km.values())c.addComponent(p);const m=new uR(i,r,c);return xh.set(o,m),m}function C1(n=Ym){const t=xh.get(n);if(!t&&n===Ym&&g1())return R1();if(!t)throw nr.create("no-app",{appName:n});return t}function ir(n,t,i){let r=aR[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(c.join(" "));return}tu(new mo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebase-heartbeat-database",hR=1,eu="firebase-heartbeat-store";let bm=null;function N1(){return bm||(bm=Cw(cR,hR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(n=>{throw nr.create("idb-open",{originalErrorMessage:n.message})})),bm}async function fR(n){try{const i=(await N1()).transaction(eu),r=await i.objectStore(eu).get(D1(n));return await i.done,r}catch(t){if(t instanceof oa)ms.warn(t.message);else{const i=nr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ms.warn(i.message)}}}async function B_(n,t){try{const r=(await N1()).transaction(eu,"readwrite");await r.objectStore(eu).put(t,D1(n)),await r.done}catch(i){if(i instanceof oa)ms.warn(i.message);else{const r=nr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ms.warn(r.message)}}}function D1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1024,mR=30;class pR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yR(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=z_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>mR){const c=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=z_(),{heartbeatsToSend:r,unsentEntries:o}=gR(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ms.warn(i),""}}}function z_(){return new Date().toISOString().substring(0,10)}function gR(n,t=dR){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),F_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),F_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class yR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ow()?lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return B_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return B_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function F_(n){return Th(JSON.stringify({version:2,heartbeats:n})).length}function vR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){tu(new mo("platform-logger",t=>new Vw(t),"PRIVATE")),tu(new mo("heartbeat",t=>new pR(t),"PRIVATE")),ir(Gm,k_,n),ir(Gm,k_,"esm2020"),ir("fire-js","")}_R("");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sr,V1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,O,V){for(var D=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)D[Tt-2]=arguments[Tt];return w.prototype[O].apply(M,D)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)M[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)M[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],O=C.g[2];let V=C.g[3],D;D=w+(V^R&(O^V))+M[0]+3614090360&4294967295,w=R+(D<<7&4294967295|D>>>25),D=V+(O^w&(R^O))+M[1]+3905402710&4294967295,V=w+(D<<12&4294967295|D>>>20),D=O+(R^V&(w^R))+M[2]+606105819&4294967295,O=V+(D<<17&4294967295|D>>>15),D=R+(w^O&(V^w))+M[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(V^R&(O^V))+M[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=V+(O^w&(R^O))+M[5]+1200080426&4294967295,V=w+(D<<12&4294967295|D>>>20),D=O+(R^V&(w^R))+M[6]+2821735955&4294967295,O=V+(D<<17&4294967295|D>>>15),D=R+(w^O&(V^w))+M[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(V^R&(O^V))+M[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=V+(O^w&(R^O))+M[9]+2336552879&4294967295,V=w+(D<<12&4294967295|D>>>20),D=O+(R^V&(w^R))+M[10]+4294925233&4294967295,O=V+(D<<17&4294967295|D>>>15),D=R+(w^O&(V^w))+M[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(V^R&(O^V))+M[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=V+(O^w&(R^O))+M[13]+4254626195&4294967295,V=w+(D<<12&4294967295|D>>>20),D=O+(R^V&(w^R))+M[14]+2792965006&4294967295,O=V+(D<<17&4294967295|D>>>15),D=R+(w^O&(V^w))+M[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(O^V&(R^O))+M[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=V+(R^O&(w^R))+M[6]+3225465664&4294967295,V=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(V^w))+M[11]+643717713&4294967295,O=V+(D<<14&4294967295|D>>>18),D=R+(V^w&(O^V))+M[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^V&(R^O))+M[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=V+(R^O&(w^R))+M[10]+38016083&4294967295,V=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(V^w))+M[15]+3634488961&4294967295,O=V+(D<<14&4294967295|D>>>18),D=R+(V^w&(O^V))+M[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^V&(R^O))+M[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=V+(R^O&(w^R))+M[14]+3275163606&4294967295,V=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(V^w))+M[3]+4107603335&4294967295,O=V+(D<<14&4294967295|D>>>18),D=R+(V^w&(O^V))+M[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^V&(R^O))+M[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=V+(R^O&(w^R))+M[2]+4243563512&4294967295,V=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(V^w))+M[7]+1735328473&4294967295,O=V+(D<<14&4294967295|D>>>18),D=R+(V^w&(O^V))+M[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(R^O^V)+M[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=V+(w^R^O)+M[8]+2272392833&4294967295,V=w+(D<<11&4294967295|D>>>21),D=O+(V^w^R)+M[11]+1839030562&4294967295,O=V+(D<<16&4294967295|D>>>16),D=R+(O^V^w)+M[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^V)+M[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=V+(w^R^O)+M[4]+1272893353&4294967295,V=w+(D<<11&4294967295|D>>>21),D=O+(V^w^R)+M[7]+4139469664&4294967295,O=V+(D<<16&4294967295|D>>>16),D=R+(O^V^w)+M[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^V)+M[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=V+(w^R^O)+M[0]+3936430074&4294967295,V=w+(D<<11&4294967295|D>>>21),D=O+(V^w^R)+M[3]+3572445317&4294967295,O=V+(D<<16&4294967295|D>>>16),D=R+(O^V^w)+M[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^V)+M[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=V+(w^R^O)+M[12]+3873151461&4294967295,V=w+(D<<11&4294967295|D>>>21),D=O+(V^w^R)+M[15]+530742520&4294967295,O=V+(D<<16&4294967295|D>>>16),D=R+(O^V^w)+M[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(O^(R|~V))+M[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=V+(R^(w|~O))+M[7]+1126891415&4294967295,V=w+(D<<10&4294967295|D>>>22),D=O+(w^(V|~R))+M[14]+2878612391&4294967295,O=V+(D<<15&4294967295|D>>>17),D=R+(V^(O|~w))+M[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~V))+M[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=V+(R^(w|~O))+M[3]+2399980690&4294967295,V=w+(D<<10&4294967295|D>>>22),D=O+(w^(V|~R))+M[10]+4293915773&4294967295,O=V+(D<<15&4294967295|D>>>17),D=R+(V^(O|~w))+M[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~V))+M[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=V+(R^(w|~O))+M[15]+4264355552&4294967295,V=w+(D<<10&4294967295|D>>>22),D=O+(w^(V|~R))+M[6]+2734768916&4294967295,O=V+(D<<15&4294967295|D>>>17),D=R+(V^(O|~w))+M[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~V))+M[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=V+(R^(w|~O))+M[11]+3174756917&4294967295,V=w+(D<<10&4294967295|D>>>22),D=O+(w^(V|~R))+M[2]+718787259&4294967295,O=V+(D<<15&4294967295|D>>>17),D=R+(V^(O|~w))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,M=this.C;let O=this.h,V=0;for(;V<w;){if(O==0)for(;V<=R;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(M[O++]=C.charCodeAt(V++),O==this.blockSize){o(this,M),O=0;break}}else for(;V<w;)if(M[O++]=C[V++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[w++]=this.g[R]>>>M&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function c(C,w){this.h=w;const R=[];let M=!0;for(let O=C.length-1;O>=0;O--){const V=C[O]|0;M&&V==w||(R[O]=V,M=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return B(g(-C));const w=[];let R=1;for(let M=0;C>=R;M++)w[M]=C/R|0,R*=4294967296;return new c(w,0)}function v(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return B(v(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let M=b;for(let V=0;V<C.length;V+=8){var O=Math.min(8,C.length-V);const D=parseInt(C.substring(V,V+O),w);O<8?(O=g(Math.pow(w,O)),M=M.j(O).add(g(D))):(M=M.j(R),M=M.add(g(D)))}return M}var b=p(0),x=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(k(this))return-B(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*w,w*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(k(this))return"-"+B(this).toString(C);const w=g(Math.pow(C,6));var R=this;let M="";for(;;){const O=rt(R,w).g;R=G(R,O.j(w));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,L(R))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function k(C){return C.h==-1}n.l=function(C){return C=G(this,C),k(C)?-1:L(C)?0:1};function B(C){const w=C.g.length,R=[];for(let M=0;M<w;M++)R[M]=~C.g[M];return new c(R,~C.h).add(x)}n.abs=function(){return k(this)?B(this):this},n.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let O=0;O<=w;O++){let V=M+(this.i(O)&65535)+(C.i(O)&65535),D=(V>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=D>>>16,V&=65535,D&=65535,R[O]=D<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function G(C,w){return C.add(B(w))}n.j=function(C){if(L(this)||L(C))return b;if(k(this))return k(C)?B(this).j(B(C)):B(B(this).j(C));if(k(C))return B(this.j(B(C)));if(this.l(N)<0&&C.l(N)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const V=this.i(M)>>>16,D=this.i(M)&65535,Tt=C.i(O)>>>16,kt=C.i(O)&65535;R[2*M+2*O]+=D*kt,tt(R,2*M+2*O),R[2*M+2*O+1]+=V*kt,tt(R,2*M+2*O+1),R[2*M+2*O+1]+=D*Tt,tt(R,2*M+2*O+1),R[2*M+2*O+2]+=V*Tt,tt(R,2*M+2*O+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new c(R,0)};function tt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function F(C,w){this.g=C,this.h=w}function rt(C,w){if(L(w))throw Error("division by zero");if(L(C))return new F(b,b);if(k(C))return w=rt(B(C),w),new F(B(w.g),B(w.h));if(k(w))return w=rt(C,B(w)),new F(B(w.g),w.h);if(C.g.length>30){if(k(C)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=w;M.l(C)<=0;)R=at(R),M=at(M);var O=nt(R,1),V=nt(M,1);for(M=nt(M,2),R=nt(R,2);!L(M);){var D=V.add(M);D.l(C)<=0&&(O=O.add(R),V=D),M=nt(M,1),R=nt(R,1)}return w=G(C,O.j(w)),new F(O,w)}for(O=b;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=g(R),D=V.j(w);k(D)||D.l(C)>0;)R-=M,V=g(R),D=V.j(w);L(V)&&(V=x),O=O.add(V),C=G(C,D)}return new F(O,C)}n.B=function(C){return rt(this,C).h},n.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&C.i(M);return new c(R,this.h&C.h)},n.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|C.i(M);return new c(R,this.h|C.h)},n.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^C.i(M);return new c(R,this.h^C.h)};function at(C){const w=C.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(R,C.h)}function nt(C,w){const R=w>>5;w%=32;const M=C.g.length-R,O=[];for(let V=0;V<M;V++)O[V]=w>0?C.i(V+R)>>>w|C.i(V+R+1)<<32-w:C.i(V+R);return new c(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,V1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,sr=c}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M1,Ul,I1,uh,Qm,O1,j1,P1;(function(){var n,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var z=h[S];if(!(z in T))break t;T=T[z]}h=h[h.length-1],S=T[h],y=y(S),y!=S&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&T.push([S,y[S]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function b(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(S,z,K){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return y.prototype[z].apply(S,lt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const y=h.length;if(y>0){const T=Array(y);for(let S=0;S<y;S++)T[S]=h[S];return T}return[]}function L(h,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var T=typeof z;if(T=T!="object"?T:z?Array.isArray(z)?"array":T:"null",T=="array"||T=="object"&&typeof z.length=="number"){T=h.length||0;const K=z.length||0;h.length=T+K;for(let lt=0;lt<K;lt++)h[T+lt]=z[lt]}else h.push(z)}}class k{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(h){c.setTimeout(()=>{throw h},0)}function G(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,T){const S=F.get();S.set(y,T),this.h?this.h.next=S:this.g=S,this.h=S}}var F=new k(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,nt=!1,C=new tt,w=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(R)}};function R(){for(var h;h=G();){try{h.h.call(h.g)}catch(T){B(T)}var y=F;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}nt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Tt(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(Tt,O),Tt.prototype.init=function(h,y){const T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Tt.Z.h.call(this)},Tt.prototype.h=function(){Tt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),X=0;function st(h,y,T,S,z){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!S,this.ha=z,this.key=++X,this.da=this.fa=!1}function ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Et(h,y,T){for(const S in h)y.call(T,h[S],S,h)}function It(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function P(h){const y={};for(const T in h)y[T]=h[T];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,y){let T,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(T in S)h[T]=S[T];for(let K=0;K<J.length;K++)T=J[K],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,y,T,S,z){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const lt=Nt(h,y,S,z);return lt>-1?(y=h[lt],T||(y.fa=!1)):(y=new st(y,this.src,K,!!S,z),y.fa=T,h.push(y)),y};function xt(h,y){const T=y.type;if(T in h.g){var S=h.g[T],z=Array.prototype.indexOf.call(S,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(S,z,1),K&&(ct(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Nt(h,y,T,S){for(let z=0;z<h.length;++z){const K=h[z];if(!K.da&&K.listener==y&&K.capture==!!T&&K.ha==S)return z}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Oe={};function oe(h,y,T,S,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)oe(h,y[K],T,S,z);return null}return T=Io(T),h&&h[kt]?h.J(y,T,m(S)?!!S.capture:!1,z):yr(h,y,T,!1,S,z)}function yr(h,y,T,S,z,K){if(!y)throw Error("Invalid event type");const lt=m(z)?!!z.capture:!!z;let Rt=vr(h);if(Rt||(h[Bt]=Rt=new dt(h)),T=Rt.add(y,T,S,lt,K),T.proxy)return T;if(S=ha(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)V||(z=lt),z===void 0&&(z=!1),h.addEventListener(y.toString(),S,z);else if(h.attachEvent)h.attachEvent(fi(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ha(){function h(T){return y.call(h.src,h.listener,T)}const y=Vo;return h}function fa(h,y,T,S,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)fa(h,y[K],T,S,z);else S=m(S)?!!S.capture:!!S,T=Io(T),h&&h[kt]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],T=Nt(y,T,S,z),T>-1&&(ct(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=vr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Nt(y,T,S,z)),(T=h>-1?y[h]:null)&&da(T))}function da(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[kt])xt(y.i,h);else{var T=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(T,S,h.capture):y.detachEvent?y.detachEvent(fi(T),S):y.addListener&&y.removeListener&&y.removeListener(S),(T=vr(y))?(xt(T,h),T.h==0&&(T.src=null,y[Bt]=null)):ct(h)}}}function fi(h){return h in Oe?Oe[h]:Oe[h]="on"+h}function Vo(h,y){if(h.da)h=!0;else{y=new Tt(y,this);const T=h.listener,S=h.ha||h.src;h.fa&&da(h),h=T.call(S,y)}return h}function vr(h){return h=h[Bt],h instanceof dt?h:null}var Mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(h){return typeof h=="function"?h:(h[Mo]||(h[Mo]=function(y){return h.handleEvent(y)}),h[Mo])}function be(){M.call(this),this.i=new dt(this),this.M=this,this.G=null}b(be,M),be.prototype[kt]=!0,be.prototype.removeEventListener=function(h,y,T,S){fa(this,h,y,T,S)};function je(h,y){var T,S=h.G;if(S)for(T=[];S;S=S.G)T.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var z=y;y=new O(S,h),ut(y,z)}z=!0;let K,lt;if(T)for(lt=T.length-1;lt>=0;lt--)K=y.g=T[lt],z=_s(K,S,!0,y)&&z;if(K=y.g=h,z=_s(K,S,!0,y)&&z,z=_s(K,S,!1,y)&&z,T)for(lt=0;lt<T.length;lt++)K=y.g=T[lt],z=_s(K,S,!1,y)&&z}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let S=0;S<T.length;S++)ct(T[S]);delete h.g[y],h.h--}}this.G=null},be.prototype.J=function(h,y,T,S){return this.i.add(String(h),y,!1,T,S)},be.prototype.K=function(h,y,T,S){return this.i.add(String(h),y,!0,T,S)};function _s(h,y,T,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const lt=y[K];if(lt&&!lt.da&&lt.capture==T){const Rt=lt.listener,ge=lt.ha||lt.src;lt.fa&&xt(h.i,lt),z=Rt.call(ge,S)!==!1&&z}}return z&&!S.defaultPrevented}function df(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Au(h){h.g=df(()=>{h.g=null,h.i&&(h.i=!1,Au(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends M{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(h){M.call(this),this.h=h,this.g={}}b(_r,M);var Oo=[];function jo(h){Et(h.g,function(y,T){this.g.hasOwnProperty(T)&&da(y)},h),h.g={}}_r.prototype.N=function(){_r.Z.N.call(this),jo(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=c.JSON.stringify,mf=c.JSON.parse,Su=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function wu(){}function Ru(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){O.call(this,"d")}b(He,O);function Vn(){O.call(this,"c")}b(Vn,O);var pe={},Cu=null;function ma(){return Cu=Cu||new be}pe.Ia="serverreachability";function Nu(h){O.call(this,pe.Ia,h)}b(Nu,O);function di(h){const y=ma();je(y,new Nu(y))}pe.STAT_EVENT="statevent";function br(h,y){O.call(this,pe.STAT_EVENT,h),this.stat=y}b(br,O);function Te(h){const y=ma();je(y,new br(y,h))}pe.Ja="timingevent";function mi(h,y){O.call(this,pe.Ja,h),this.size=y}b(mi,O);function pi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function pf(h,y,T,S,z,K){h.info(function(){if(h.g)if(K){var lt="",Rt=K.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var ge=Rt[Gt].split("=");if(ge.length>1){const le=ge[0];ge=ge[1];const jn=le.split("_");lt=jn.length>=2&&jn[1]=="type"?lt+(le+"="+ge+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=K;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+T+`
`+lt})}function Du(h,y,T,S,z,K,lt){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+T+`
`+K+" "+lt})}function gi(h,y,T,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(h,T)+(S?" "+S:"")})}function Tr(h,y){h.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function gf(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let lt=1;lt<S.length;lt++)S[lt]=""}}}}return bs(K)}catch{return y}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function xr(){}b(xr,wu),xr.prototype.g=function(){return new XMLHttpRequest},Lo=new xr;function Xi(h){return encodeURIComponent(String(h))}function Vu(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Xn(h,y,T,S){this.j=h,this.i=y,this.l=T,this.S=S||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function yi(h,y,T){h.M=1,h.A=Ar(Ae(y)),h.u=T,h.R=!0,pa(h,null)}function pa(h,y){h.F=Date.now(),vi(h),h.B=Ae(h.A);var T=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),_a(T.i,"t",S),h.C=0,T=h.j.L,h.h=new $n,h.g=Yu(h.j,T?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,S=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Oo[0]=z.toString()),z=Oo);for(let K=0;K<z.length;K++){const lt=oe(T,z[K],S||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),di(),pf(h.i,h.v,h.B,h.l,h.S,h.u)}Xn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Jn(h)==3?y.j():this.Y(h)},Xn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=Jn(this.g),ge=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Rt!=4||ge==7||(ge==8||Gt<=0?di(3):di(2)),_i(this);var y=this.g.ca();this.X=y;var T=yf(this);if(this.o=y==200,Du(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var K=S;break e}}K=null}if(h=K)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,h);else{this.o=!1,this.m=3,Te(12),Tn(this),Mn(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<T.length;)if(le=Iu(this,T),le==Ue){Rt==4&&(this.m=4,Te(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,Te(15),gi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,le,null),bi(this,le);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||T.length!=0||this.h.h||(this.m=1,Te(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,T,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Wo(lt),lt.P=!0,Te(11))}}else gi(this.i,this.l,T,null),bi(this,T);Rt==4&&Tn(this),this.o&&!this.K&&(Rt==4?Fu(this.j,this):(this.o=!1,vi(this)))}else Zi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),Tn(this),Mn(this)}}}catch{}finally{}};function yf(h){if(!Mu(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let T="";const S=y.length,z=Jn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Mn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<S;K++)h.h.h=!0,T+=h.h.i.decode(y[K],{stream:!(z&&K==S-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Mu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Iu(h,y){var T=h.C,S=y.indexOf(`
`,T);return S==-1?Ue:(T=Number(y.substring(T,S)),isNaN(T)?Ee:(S+=1,S+T>y.length?Ue:(y=y.slice(S,S+T),h.C=S+T,y)))}Xn.prototype.cancel=function(){this.K=!0,Tn(this)};function vi(h){h.T=Date.now()+h.H,ga(h,h.H)}function ga(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pi(g(h.aa,h),y)}function _i(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Xn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(di(),Te(17)),Tn(this),this.m=2,Mn(this)):ga(this,this.T-h)};function Mn(h){h.j.I==0||h.K||Fu(h.j,h)}function Tn(h){_i(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,jo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function bi(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Ei(T.h,h))){if(!h.L&&Ei(T.h,h)&&T.I==3){try{var S=T.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Aa(T),Cs(T);else break t;Vr(T),Te(18)}}else T.xa=z[1],0<T.xa-T.K&&z[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=pi(g(T.Va,T),6e3));Ti(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ci(T,11)}else if((h.L||T.g==h)&&Aa(T),!D(y))for(z=T.Ba.g.parse(y),y=0;y<z.length;y++){let Gt=z[y];const le=Gt[0];if(!(le<=T.K))if(T.K=le,Gt=Gt[1],T.I==2)if(Gt[0]=="c"){T.M=Gt[1],T.ba=Gt[2];const jn=Gt[3];jn!=null&&(T.ka=jn,T.j.info("VER="+T.ka));const Ni=Gt[4];Ni!=null&&(T.za=Ni,T.j.info("SVER="+T.za));const ti=Gt[5];ti!=null&&typeof ti=="number"&&ti>0&&(S=1.5*ti,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const ei=h.g;if(ei){const Mr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var K=S.h;K.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Bo(K,K.h),K.h=null))}if(S.G){const Sa=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(S.wa=Sa,Qt(S.J,S.G,Sa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var lt=h;if(S.na=Gu(S,S.L?S.ba:null,S.W),lt.L){zo(S.h,lt);var Rt=lt,ge=S.O;ge&&(Rt.H=ge),Rt.D&&(_i(Rt),vi(Rt)),S.g=lt}else Bu(S);T.i.length>0&&Ri(T)}else Gt[0]!="stop"&&Gt[0]!="close"||Ci(T,7);else T.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ci(T,7):$o(T):Gt[0]!="noop"&&T.l&&T.l.qa(Gt),T.A=0)}}di(4)}catch{}}var xe=class{constructor(h,y){this.g=h,this.map=y}};function ko(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ti(h){return h.h?1:h.g?h.g.size:0}function Ei(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Bo(h,y){h.g?h.g.add(y):h.h=y}function zo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ko.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return N(h.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const S=h[T].indexOf("=");let z,K=null;S>=0?(z=h[T].substring(0,S),K=h[T].substring(S+1)):z=h[T],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof En?(this.l=h.l,Be(this,h.j),this.o=h.o,this.g=h.g,Ts(this,h.u),this.h=h.h,qo(this,ku(h.i)),this.m=h.m):h&&(y=String(h).match(Ou))?(this.l=!1,Be(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Ts(this,y[4]),this.h=xi(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}En.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Sr(y,va,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Sr(y,va,!0),"@"),h.push(Xi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Sr(T,T.charAt(0)=="/"?Ho:ju,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Sr(T,Pu)),h.join("")},En.prototype.resolve=function(h){const y=Ae(this);let T=!!h.j;T?Be(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var S=h.h;if(T)Ts(y,h.u);else if(T=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let lt=0;lt<z.length;){const Rt=z[lt++];Rt=="."?S&&lt==z.length&&K.push(""):Rt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&lt==z.length&&K.push("")):(K.push(Rt),S=!0)}S=K.join("/")}else S=z}return T?y.h=S:T=h.i.toString()!=="",T?qo(y,ku(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Ae(h){return new En(h)}function Be(h,y,T){h.j=T?xi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ts(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function qo(h,y,T){y instanceof xs?(h.i=y,ba(h.i,h.l)):(T||(y=Sr(y,Es)),h.i=new xs(y,h.l))}function Qt(h,y,T){h.i.set(y,T)}function Ar(h){return Qt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Sr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,cn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var va=/[#\/\?@]/g,ju=/[#\?:]/g,Ho=/[#\?]/g,Es=/[#\?@]/g,Pu=/#/g;function xs(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&ya(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=xs.prototype,n.add=function(h,y){hn(this),this.i=null,h=As(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Lu(h,y){hn(h),y=As(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Go(h,y){return hn(h),y=As(h,y),h.g.has(y)}n.forEach=function(h,y){hn(this),this.g.forEach(function(T,S){T.forEach(function(z){h.call(y,z,S,this)},this)},this)};function Yo(h,y){hn(h);let T=[];if(typeof y=="string")Go(h,y)&&(T=T.concat(h.g.get(As(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return hn(this),this.i=null,h=As(this,h),Go(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Yo(this,h),h.length>0?String(h[0]):y):y};function _a(h,y,T){Lu(h,y),T.length>0&&(h.i=null,h.g.set(As(h,y),N(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var T=y[S];const z=Xi(T);T=Yo(this,T);for(let K=0;K<T.length;K++){let lt=z;T[K]!==""&&(lt+="="+Xi(T[K])),h.push(lt)}}return this.i=h.join("&")};function ku(h){const y=new xs;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function As(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ba(h,y){y&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(T,S){const z=S.toLowerCase();S!=z&&(Lu(this,S),_a(this,z,T))},h)),h.j=y}function Zn(h,y){const T=new Qn;if(c.Image){const S=new Image;S.onload=v(In,T,"TestLoadImage: loaded",!0,y,S),S.onerror=v(In,T,"TestLoadImage: error",!1,y,S),S.onabort=v(In,T,"TestLoadImage: abort",!1,y,S),S.ontimeout=v(In,T,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Ko(h,y){const T=new Qn,S=new AbortController,z=setTimeout(()=>{S.abort(),In(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(z),K.ok?In(T,"TestPingServer: ok",!0,y):In(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),In(T,"TestPingServer: error",!1,y)})}function In(h,y,T,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(T)}catch{}}function Ss(){this.g=new Su}function Ai(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ai,wu),Ai.prototype.g=function(){return new wr(this.i,this.h)};function wr(h,y){be.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(wr,be),n=wr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Wn(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ws(this):Wn(this),this.readyState==3&&Ta(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ws(this))},n.Na=function(h){this.g&&(this.response=h,ws(this))},n.ga=function(){this.g&&ws(this)};function ws(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Wn(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function Wn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let y="";return Et(h,function(T,S){y+=S,y+=":",y+=T,y+=`\r
`}),y}function Rr(h,y,T){t:{for(S in T){var S=!1;break t}S=!0}S||(T=On(T),typeof h=="string"?T!=null&&Xi(T):Qt(h,y,T))}function Zt(h){be.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,be);var Si=/^https?$/i,Qo=["POST","PUT"];n=Zt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){Cr(this,K);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)T.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())T.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||S||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of T)this.g.setRequestHeader(K,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Cr(this,K)}};function Cr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Xo(h),$i(h)}function Xo(h){h.A||(h.A=!0,je(h,"complete"),je(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,je(this,"complete"),je(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Zt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},n.Xa=function(){Nr(this)};function Nr(h){if(h.h&&typeof u<"u"){if(h.v&&Jn(h)==4)setTimeout(h.Ca.bind(h),0);else if(je(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const K=h.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var S;if(S=K===0){let lt=String(h.D).match(Ou)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),S=!Si.test(lt?lt.toLowerCase():"")}T=S}if(T)je(h,"complete"),je(h,"success");else{h.o=6;try{var z=Jn(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Xo(h)}}finally{$i(h)}}}}function $i(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||je(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),mf(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(h){const y={};h=(h.g&&Jn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(D(h[S]))continue;var T=Vu(h[S]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=y[z]||[];y[z]=K,K.push(T)}It(y,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Rs(h){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,h),this.Za=wi("retryDelaySeedMs",1e4,h),this.Ta=wi("forwardChannelMaxRetries",2,h),this.va=wi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(h&&h.concurrentRequestLimit),this.Ba=new Ss,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Rs.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,S){Te(0),this.W=h,this.H=y||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=Gu(this,null,this.W),Ri(this)};function $o(h){if(Ea(h),h.I==3){var y=h.V++,T=Ae(h.J);if(Qt(T,"SID",h.M),Qt(T,"RID",y),Qt(T,"TYPE","terminate"),Dr(h,T),y=new Xn(h,h.j,y),y.M=2,y.A=Ar(Ae(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Yu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vi(y)}Hu(h)}function Cs(h){h.g&&(Wo(h),h.g.cancel(),h.g=null)}function Ea(h){Cs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Aa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ri(h){if(!Uo(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||w(),nt||(at(),nt=!0),C.add(y,h),h.D=0}}function xa(h,y){return Ti(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pi(g(h.Ea,h,y),qu(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Xn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=P(K),ut(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=Uu(this,z,y),T=Ae(this.J),Qt(T,"RID",h),Qt(T,"CVER",22),this.G&&Qt(T,"X-HTTP-Session-Id",this.G),Dr(this,T),K&&(this.R?y="headers="+Xi(On(K))+"&"+y:this.u&&Rr(T,this.u,K)),Bo(this.h,z),this.Ra&&Qt(T,"TYPE","init"),this.S?(Qt(T,"$req",y),Qt(T,"SID","null"),z.U=!0,yi(z,T,null)):yi(z,T,y),this.I=2}}else this.I==3&&(h?Zo(this,h):this.i.length==0||Uo(this.h)||Zo(this))};function Zo(h,y){var T;y?T=y.l:T=h.V++;const S=Ae(h.J);Qt(S,"SID",h.M),Qt(S,"RID",T),Qt(S,"AID",h.K),Dr(h,S),h.u&&h.o&&Rr(S,h.u,h.o),T=new Xn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Uu(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bo(h.h,T),yi(T,S,y)}function Dr(h,y){h.H&&Et(h.H,function(T,S){Qt(y,S,T)}),h.l&&Et({},function(T,S){Qt(y,S,T)})}function Uu(h,y,T){T=Math.min(h.i.length,T);const S=h.l?g(h.l.Ka,h.l,h):null;t:{var z=h.i;let Rt=-1;for(;;){const ge=["count="+T];Rt==-1?T>0?(Rt=z[0].g,ge.push("ofs="+Rt)):Rt=0:ge.push("ofs="+Rt);let Gt=!0;for(let le=0;le<T;le++){var K=z[le].g;const jn=z[le].map;if(K-=Rt,K<0)Rt=Math.max(0,z[le].g-100),Gt=!1;else try{K="req"+K+"_"||"";try{var lt=jn instanceof Map?jn:Object.entries(jn);for(const[Ni,ti]of lt){let ei=ti;m(ti)&&(ei=bs(ti)),ge.push(K+Ni+"="+encodeURIComponent(ei))}}catch(Ni){throw ge.push(K+"type="+encodeURIComponent("_badmap")),Ni}}catch{S&&S(jn)}}if(Gt){lt=ge.join("&");break t}}lt=void 0}return h=h.i.splice(0,T),y.G=h,lt}function Bu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||w(),nt||(at(),nt=!0),C.add(y,h),h.A=0}}function Vr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pi(g(h.Da,h),qu(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Cs(this),zu(this))};function Wo(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function zu(h){h.g=new Xn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ae(h.na);Qt(y,"RID","rpc"),Qt(y,"SID",h.M),Qt(y,"AID",h.K),Qt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qt(y,"TO",h.ia),Qt(y,"TYPE","xmlhttp"),Dr(h,y),h.u&&h.o&&Rr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Ar(Ae(y)),T.u=null,T.R=!0,pa(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Cs(this),Vr(this),Te(19))};function Aa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Fu(h,y){var T=null;if(h.g==y){Aa(h),Wo(h),h.g=null;var S=2}else if(Ei(h.h,y))T=y.G,zo(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;S=ma(),je(S,new mi(S,T)),Ri(h)}else Bu(h);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&xa(h,y)||S==2&&Vr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),z){case 1:Ci(h,5);break;case 4:Ci(h,10);break;case 3:Ci(h,6);break;default:Ci(h,2)}}}function qu(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Ci(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),S=h.Ua;const z=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Be(S,"https"),Ar(S),z?Zn(S.toString(),T):Ko(S.toString(),T)}else Te(2);h.I=0,h.l&&h.l.pa(y),Hu(h),Ea(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Hu(h){if(h.I=0,h.ja=[],h.l){const y=Fo(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Gu(h,y,T){var S=T instanceof En?Ae(T):new En(T);if(S.g!="")y&&(S.g=y+"."+S.g),Ts(S,S.u);else{var z=c.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new En(null);S&&Be(K,S),y&&(K.g=y),z&&Ts(K,z),T&&(K.h=T),S=K}return T=h.G,y=h.wa,T&&y&&Qt(S,T,y),Qt(S,"VER",h.ka),Dr(h,S),S}function Yu(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Zt(new Ai({ab:T})):new Zt(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}n=Ku.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ns(){}Ns.prototype.g=function(h,y){return new an(h,y)};function an(h,y){be.call(this),this.g=new Rs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Wi(this)}b(an,be),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){$o(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=bs(h),h=T);y.i.push(new xe(y.Ya++,h)),y.I==3&&Ri(y)},an.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,an.Z.N.call(this)};function Qu(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(Qu,He);function Xu(){Vn.call(this),this.status=1}b(Xu,Vn);function Wi(h){this.g=h}b(Wi,Ku),Wi.prototype.ra=function(){je(this.g,"a")},Wi.prototype.qa=function(h){je(this.g,new Qu(h))},Wi.prototype.pa=function(h){je(this.g,new Xu)},Wi.prototype.oa=function(){je(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,P1=function(){return new Ns},j1=function(){return ma()},O1=pe,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,uh=Er,Po.COMPLETE="complete",I1=Po,Ru.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",be.prototype.listen=be.prototype.J,Ul=Ru,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,M1=Zt}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",G_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new T1("@firebase/firestore");function eo(){return sa.logLevel}function ft(n,...t){if(sa.logLevel<=Ft.DEBUG){const i=t.map(Up);sa.debug(`Firestore (${xo}): ${n}`,...i)}}function ps(n,...t){if(sa.logLevel<=Ft.ERROR){const i=t.map(Up);sa.error(`Firestore (${xo}): ${n}`,...i)}}function po(n,...t){if(sa.logLevel<=Ft.WARN){const i=t.map(Up);sa.warn(`Firestore (${xo}): ${n}`,...i)}}function Up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,L1(n,r,i)}function L1(n,t,i){let r=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ps(r),new Error(r)}function Kt(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||L1(t,o,r)}function wt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends oa{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class TR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ER{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new k1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class xR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,S1(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const r=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=wR(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Pt(n,t){return n<t?-1:n>t?1:0}function Xm(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Tm(o)===Tm(u)?Pt(o,u):Tm(o)?1:-1}return Pt(n.length,t.length)}const RR=55296,CR=57343;function Tm(n){const t=n.charCodeAt(0);return t>=RR&&t<=CR}function go(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="__name__";class Oi{constructor(t,i,r){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&bt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Oi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Pt(t.length,i.length)}static compareSegments(t,i){const r=Oi.isNumericId(t),o=Oi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Oi.extractNumericId(t).compare(Oi.extractNumericId(i)):Xm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sr.fromString(t.substring(4,t.length-2))}}class ie extends Oi{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ht(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Oi{construct(t,i,r){return new Ze(t,i,r)}static isValidIdentifier(t){return NR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new Ze([K_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new ht(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ie.fromString(t))}static fromName(t){return new vt(ie.fromString(t).popFirst(5))}static empty(){return new vt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n,t,i){if(!i)throw new ht(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function DR(n,t,i,r){if(t===!0&&r===!0)throw new ht(et.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function Q_(n){if(!vt.isDocumentKey(n))throw new ht(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function X_(n){if(vt.isDocumentKey(n))throw new ht(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function B1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Gh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function Pi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Gh(n);throw new ht(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,t){const i={typeString:n};return t&&(i.value=t),i}function du(n,t){if(!B1(n))throw new ht(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ht(et.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,Z_=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Z_);return new ae(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<$_)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(du(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Me("string",ae._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ae(0,0))}static max(){return new At(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function VR(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new or(o,vt.empty(),t)}function MR(n){return new or(n.readTime,n.key,nu)}class or{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new or(At.min(),vt.empty(),nu)}static max(){return new or(At.max(),vt.empty(),nu)}}function IR(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(n.documentKey,t.documentKey),i!==0?i:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==OR)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new it(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof it?i:it.resolve(i)}catch(i){return it.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):it.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):it.reject(i)}static resolve(t){return new it(((i,r)=>{i(t)}))}static reject(t){return new it(((i,r)=>{r(t)}))}static waitFor(t){return new it(((i,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&i()}),(p=>r(p)))})),c=!0,u===o&&i()}))}static or(t){let i=it.resolve(!1);for(const r of t)i=i.next((o=>o?it.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new it(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new it(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function PR(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function So(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function Kh(n){return n==null}function Ah(n){return n===0&&1/n==-1/0}function LR(n){return typeof n=="number"&&Number.isInteger(n)&&!Ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="";function kR(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=W_(t)),t=UR(n.get(i),t);return W_(t)}function UR(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case z1:i+="";break;default:i+=u}}return i}function W_(n){return n+z1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function mr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function F1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new th(this.root,t,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new th(this.root,t,this.comparator,!0)}}class th{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new $e(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(t){return new tb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class tb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new ke(Ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return go(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new q1("Invalid base64 string: "+u):u}})(t);return new We(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const BR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const i=BR.exec(n);if(Kt(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(n.seconds),nanos:_e(n.nanos)}}function _e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ur(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="server_timestamp",G1="__type__",Y1="__previous_value__",K1="__local_write_time__";function Fp(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[G1])==null?void 0:r.stringValue)===H1}function Qh(n){const t=n.mapValue.fields[Y1];return Fp(t)?Qh(t):t}function iu(n){const t=lr(n.mapValue.fields[K1].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,i,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Sh="(default)";class su{constructor(t,i){this.projectId=t,this.database=i||Sh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(t){return t instanceof su&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="__type__",FR="__max__",eh={mapValue:{}},X1="__vector__",wh="value";function cr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fp(n)?4:HR(n)?9007199254740991:qR(n)?10:11:bt(28295,{value:n})}function Hi(n,t){if(n===t)return!0;const i=cr(n);if(i!==cr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return iu(n).isEqual(iu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=lr(o.timestampValue),m=lr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return ur(o.bytesValue).isEqual(ur(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),m=_e(u.doubleValue);return c===m?Ah(c)===Ah(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return go(n.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(J_(c)!==J_(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Hi(c[p],m[p])))return!1;return!0})(n,t);default:return bt(52216,{left:n})}}function ru(n,t){return(n.values||[]).find((i=>Hi(i,t)))!==void 0}function yo(n,t){if(n===t)return 0;const i=cr(n),r=cr(t);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=_e(u.integerValue||u.doubleValue),p=_e(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return eb(n.timestampValue,t.timestampValue);case 4:return eb(iu(n),iu(t));case 5:return Xm(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=ur(u),p=ur(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Pt(m[g],p[g]);if(v!==0)return v}return Pt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Pt(_e(u.latitude),_e(c.latitude));return m!==0?m:Pt(_e(u.longitude),_e(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return nb(n.arrayValue,t.arrayValue);case 10:return(function(u,c){var x,N,L,k;const m=u.fields||{},p=c.fields||{},g=(x=m[wh])==null?void 0:x.arrayValue,v=(N=p[wh])==null?void 0:N.arrayValue,b=Pt(((L=g==null?void 0:g.values)==null?void 0:L.length)||0,((k=v==null?void 0:v.values)==null?void 0:k.length)||0);return b!==0?b:nb(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===eh.mapValue&&c===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(c===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const x=Xm(p[b],v[b]);if(x!==0)return x;const N=yo(m[p[b]],g[v[b]]);if(N!==0)return N}return Pt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function eb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const i=lr(n),r=lr(t),o=Pt(i.seconds,r.seconds);return o!==0?o:Pt(i.nanos,r.nanos)}function nb(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=yo(i[o],r[o]);if(u)return u}return Pt(i.length,r.length)}function vo(n){return $m(n)}function $m(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=lr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return ur(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return vt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=$m(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${$m(i.fields[c])}`;return o+"}"})(n.mapValue):bt(61005,{value:n})}function ch(n){switch(cr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qh(n);return t?16+ch(t):16;case 5:return 2*n.stringValue.length;case 6:return ur(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+ch(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return mr(r.fields,((u,c)=>{o+=u.length+ch(c)})),o})(n.mapValue);default:throw bt(13486,{value:n})}}function ib(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Zm(n){return!!n&&"integerValue"in n}function qp(n){return!!n&&"arrayValue"in n}function sb(n){return!!n&&"nullValue"in n}function rb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hh(n){return!!n&&"mapValue"in n}function qR(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[Q1])==null?void 0:r.stringValue)===X1}function Yl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return mr(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Yl(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Yl(n.arrayValue.values[i]);return t}return{...n}}function HR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===FR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!hh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yl(i)}setAll(t){let i=Ze.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}c?r[m.lastSegment()]=Yl(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());hh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){mr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new vn(Yl(this.value))}}function $1(n){const t=[];return mr(n.fields,((i,r)=>{const o=new Ze([i]);if(hh(r)){const u=$1(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,i,r,o,u,c,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new nn(t,0,At.min(),At.min(),At.min(),vn.empty(),0)}static newFoundDocument(t,i,r,o){return new nn(t,1,i,At.min(),r,o,0)}static newNoDocument(t,i){return new nn(t,2,i,At.min(),At.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,At.min(),At.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i){this.position=t,this.inclusive=i}}function ab(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),i.key):r=yo(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ob(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Hi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,i="asc"){this.field=t,this.dir=i}}function GR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{}class Ve extends Z1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new KR(t,i,r):i==="array-contains"?new $R(t,r):i==="in"?new ZR(t,r):i==="not-in"?new WR(t,r):i==="array-contains-any"?new JR(t,r):new Ve(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new QR(t,r):new XR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yo(i,this.value)):i!==null&&cr(this.value)===cr(i)&&this.matchesComparison(yo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends Z1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new hi(t,i)}matches(t){return W1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W1(n){return n.op==="and"}function J1(n){return YR(n)&&W1(n)}function YR(n){for(const t of n.filters)if(t instanceof hi)return!1;return!0}function Wm(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+vo(n.value);if(J1(n))return n.filters.map((t=>Wm(t))).join(",");{const t=n.filters.map((i=>Wm(i))).join(",");return`${n.op}(${t})`}}function tE(n,t){return n instanceof Ve?(function(r,o){return o instanceof Ve&&r.op===o.op&&r.field.isEqual(o.field)&&Hi(r.value,o.value)})(n,t):n instanceof hi?(function(r,o){return o instanceof hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&tE(c,o.filters[m])),!0):!1})(n,t):void bt(19439)}function eE(n){return n instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${vo(i.value)}`})(n):n instanceof hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(eE).join(" ,")+"}"})(n):"Filter"}class KR extends Ve{constructor(t,i,r){super(t,i,r),this.key=vt.fromName(r.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class QR extends Ve{constructor(t,i){super(t,"in",i),this.keys=nE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class XR extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=nE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function nE(n,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((r=>vt.fromName(r.referenceValue)))}class $R extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return qp(i)&&ru(i.arrayValue,this.value)}}class ZR extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ru(this.value.arrayValue,i)}}class WR extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ru(this.value.arrayValue,i)}}class JR extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!qp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,i=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function lb(n,t=null,i=[],r=[],o=null,u=null,c=null){return new tC(n,t,i,r,o,u,c)}function Hp(n){const t=wt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Wm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Kh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>vo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>vo(r))).join(",")),t.Te=i}return t.Te}function Gp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!GR(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!tE(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ob(n.startAt,t.startAt)&&ob(n.endAt,t.endAt)}function Jm(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,i=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eC(n,t,i,r,o,u,c,m){return new mu(n,t,i,r,o,u,c,m)}function Yp(n){return new mu(n)}function ub(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iE(n){return n.collectionGroup!==null}function Kl(n){const t=wt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new ke(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ch(u,r))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new Ch(Ze.keyField(),r))}return t.Ie}function Li(n){const t=wt(n);return t.Ee||(t.Ee=nC(t,Kl(n))),t.Ee}function nC(n,t){if(n.limitType==="F")return lb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ch(o.field,u)}));const i=n.endAt?new Rh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rh(n.startAt.position,n.startAt.inclusive):null;return lb(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function tp(n,t){const i=n.filters.concat([t]);return new mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function ep(n,t,i){return new mu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Xh(n,t){return Gp(Li(n),Li(t))&&n.limitType===t.limitType}function sE(n){return`${Hp(Li(n))}|lt:${n.limitType}`}function no(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>eE(o))).join(", ")}]`),Kh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>vo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>vo(o))).join(",")),`Target(${r})`})(Li(n))}; limitType=${n.limitType})`}function $h(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of Kl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=ab(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,Kl(r),o)||r.endAt&&!(function(c,m,p){const g=ab(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,Kl(r),o))})(n,t)}function iC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rE(n){return(t,i)=>{let r=!1;for(const o of Kl(n)){const u=sC(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function sC(n,t,i){const r=n.field.isKeyField()?vt.comparator(t.key,i.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):bt(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){mr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return F1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new he(vt.comparator);function gs(){return rC}const aE=new he(vt.comparator);function Bl(...n){let t=aE;for(const i of n)t=t.insert(i.key,i);return t}function oE(n){let t=aE;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Zr(){return Ql()}function lE(){return Ql()}function Ql(){return new la((n=>n.toString()),((n,t)=>n.isEqual(t)))}const aC=new he(vt.comparator),oC=new ke(vt.comparator);function Lt(...n){let t=oC;for(const i of n)t=t.add(i);return t}const lC=new ke(Pt);function uC(){return lC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(t)?"-0":t}}function uE(n){return{integerValue:""+n}}function cC(n,t){return LR(t)?uE(t):Kp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function hC(n,t,i){return n instanceof Nh?(function(o,u){const c={fields:{[G1]:{stringValue:H1},[K1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=Qh(u)),u&&(c.fields[Y1]=u),{mapValue:c}})(i,t):n instanceof au?hE(n,t):n instanceof ou?fE(n,t):(function(o,u){const c=cE(o,u),m=cb(c)+cb(o.Ae);return Zm(c)&&Zm(o.Ae)?uE(m):Kp(o.serializer,m)})(n,t)}function fC(n,t,i){return n instanceof au?hE(n,t):n instanceof ou?fE(n,t):i}function cE(n,t){return n instanceof Dh?(function(r){return Zm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Nh extends Zh{}class au extends Zh{constructor(t){super(),this.elements=t}}function hE(n,t){const i=dE(t);for(const r of n.elements)i.some((o=>Hi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class ou extends Zh{constructor(t){super(),this.elements=t}}function fE(n,t){let i=dE(t);for(const r of n.elements)i=i.filter((o=>!Hi(o,r)));return{arrayValue:{values:i}}}class Dh extends Zh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function cb(n){return _e(n.integerValue||n.doubleValue)}function dE(n){return qp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function dC(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof au&&o instanceof au||r instanceof ou&&o instanceof ou?go(r.elements,o.elements,Hi):r instanceof Dh&&o instanceof Dh?Hi(r.Ae,o.Ae):r instanceof Nh&&o instanceof Nh})(n.transform,t.transform)}class mC{constructor(t,i){this.version=t,this.transformResults=i}}class ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Wh{}function mE(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Qp(n.key,ui.none()):new pu(n.key,n.data,ui.none());{const i=n.data,r=vn.empty();let o=new ke(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new pr(n.key,r,new Dn(o.toArray()),ui.none())}}function pC(n,t,i){n instanceof pu?(function(o,u,c){const m=o.value.clone(),p=fb(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,i):n instanceof pr?(function(o,u,c){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=fb(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(pE(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function Xl(n,t,i,r){return n instanceof pu?(function(u,c,m,p){if(!fh(u.precondition,c))return m;const g=u.value.clone(),v=db(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,i,r):n instanceof pr?(function(u,c,m,p){if(!fh(u.precondition,c))return m;const g=db(u.fieldTransforms,p,c),v=c.data;return v.setAll(pE(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,t,i,r):(function(u,c,m){return fh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,i)}function gC(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=cE(r.transform,o||null);u!=null&&(i===null&&(i=vn.empty()),i.set(r.field,u))}return i||null}function hb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&go(r,o,((u,c)=>dC(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class pu extends Wh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pr extends Wh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pE(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function fb(n,t,i){const r=new Map;Kt(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,fC(c,m,i[o]))}return r}function db(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,hC(u,c,t))}return r}class Qp extends Wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yC extends Wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&pC(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Xl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Xl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=lE();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=i.has(o.key)?null:m;const p=mE(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&go(this.mutations,t.mutations,((i,r)=>hb(i,r)))&&go(this.baseMutations,t.baseMutations,((i,r)=>hb(i,r)))}}class Xp{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return aC})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Xp(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,zt;function TC(n){switch(n){case et.OK:return bt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return bt(15467,{code:n})}}function gE(n){if(n===void 0)return ps("GRPC error has no .code"),et.UNKNOWN;switch(n){case Ne.OK:return et.OK;case Ne.CANCELLED:return et.CANCELLED;case Ne.UNKNOWN:return et.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return et.INTERNAL;case Ne.UNAVAILABLE:return et.UNAVAILABLE;case Ne.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ne.NOT_FOUND:return et.NOT_FOUND;case Ne.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ne.ABORTED:return et.ABORTED;case Ne.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ne.DATA_LOSS:return et.DATA_LOSS;default:return bt(39323,{code:n})}}(zt=Ne||(Ne={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new sr([4294967295,4294967295],0);function mb(n){const t=EC().encode(n),i=new V1;return i.update(t),new Uint8Array(i.digest())}function pb(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new sr([i,r],0),new sr([o,u],0)]}class $p{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=sr.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(sr.fromNumber(r)));return o.compare(xC)===1&&(o=new sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=mb(t),[r,o]=pb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new $p(u,o,i);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const i=mb(t),[r,o]=pb(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,gu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Jh(At.min(),o,new he(Pt),gs(),Lt())}}class gu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new gu(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class yE{constructor(t,i){this.targetId=t,this.Ce=i}}class vE{constructor(t,i,r=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class gb{constructor(){this.ve=0,this.Fe=yb(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:u})}})),new gu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=yb()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AC{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.Je=nh(),this.He=nh(),this.Ye=new he(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Jm(u))if(r===0){const c=new vt(u.path);this.et(i,c,nn.newNoDocument(c,At.min()))}else Kt(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,m;try{c=ur(r).toUint8Array()}catch(p){if(p instanceof q1)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $p(c,o,u)}catch(p){return po(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Jm(m.target)){const p=new vt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Lt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Jh(t,i,this.Ye,this.je,r);return this.je=gs(),this.Je=nh(),this.He=nh(),this.Ye=new he(Pt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new gb,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ke(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ke(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gb),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function nh(){return new he(vt.comparator)}function yb(){return new he(vt.comparator)}const SC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RC={and:"AND",or:"OR"};class CC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function np(n,t){return n.useProto3Json||Kh(t)?t:{value:t}}function Vh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _E(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function NC(n,t){return Vh(n,t.toTimestamp())}function ki(n){return Kt(!!n,49232),At.fromTimestamp((function(i){const r=lr(i);return new ae(r.seconds,r.nanos)})(n))}function Zp(n,t){return ip(n,t).canonicalString()}function ip(n,t){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function bE(n){const t=ie.fromString(n);return Kt(SE(t),10190,{key:t.toString()}),t}function sp(n,t){return Zp(n.databaseId,t.path)}function Em(n,t){const i=bE(t);if(i.get(1)!==n.databaseId.projectId)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new vt(EE(i))}function TE(n,t){return Zp(n.databaseId,t)}function DC(n){const t=bE(n);return t.length===4?ie.emptyPath():EE(t)}function rp(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EE(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vb(n,t,i){return{name:sp(n,t),fields:i.value.mapValue.fields}}function VC(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?et.UNKNOWN:gE(g.code);return new ht(v,g.message||"")})(c);i=new vE(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Em(n,r.document.name),u=ki(r.document.updateTime),c=r.document.createTime?ki(r.document.createTime):At.min(),m=new vn({mapValue:{fields:r.document.fields}}),p=nn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];i=new dh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Em(n,r.document),u=r.readTime?ki(r.readTime):At.min(),c=nn.newNoDocument(o,u),m=r.removedTargetIds||[];i=new dh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Em(n,r.document),u=r.removedTargetIds||[];i=new dh([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new bC(o,u),m=r.targetId;i=new yE(m,c)}}return i}function MC(n,t){let i;if(t instanceof pu)i={update:vb(n,t.key,t.value)};else if(t instanceof Qp)i={delete:sp(n,t.key)};else if(t instanceof pr)i={update:vb(n,t.key,t.data),updateMask:zC(t.fieldMask)};else{if(!(t instanceof yC))return bt(16599,{Vt:t.type});i={verify:sp(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Nh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:NC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(n,t.precondition)),i}function IC(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?ki(o.updateTime):ki(u);return c.isEqual(At.min())&&(c=ki(u)),new mC(c,o.transformResults||[])})(i,t)))):[]}function OC(n,t){return{documents:[TE(n,t.path)]}}function jC(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=TE(n,o);const u=(function(g){if(g.length!==0)return AE(hi.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(x){return{field:io(x.field),direction:kC(x.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const m=np(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:o}}function PC(n){let t=DC(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(b){const x=xE(b);return x instanceof hi&&J1(x)?x.getFilters():[x]})(i.where));let c=[];i.orderBy&&(c=(function(b){return b.map((x=>(function(L){return new Ch(so(L.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(x)))})(i.orderBy));let m=null;i.limit&&(m=(function(b){let x;return x=typeof b=="object"?b.value:b,Kh(x)?null:x})(i.limit));let p=null;i.startAt&&(p=(function(b){const x=!!b.before,N=b.values||[];return new Rh(N,x)})(i.startAt));let g=null;return i.endAt&&(g=(function(b){const x=!b.before,N=b.values||[];return new Rh(N,x)})(i.endAt)),eC(t,o,c,u,m,"F",p,g)}function LC(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function xE(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=so(i.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=so(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(i.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=so(i.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return Ve.create(so(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return hi.create(i.compositeFilter.filters.map((r=>xE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(n):bt(30097,{filter:n})}function kC(n){return SC[n]}function UC(n){return wC[n]}function BC(n){return RC[n]}function io(n){return{fieldPath:n.canonicalString()}}function so(n){return Ze.fromServerFormat(n.fieldPath)}function AE(n){return n instanceof Ve?(function(i){if(i.op==="=="){if(rb(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(sb(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(rb(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(sb(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:UC(i.op),value:i.value}}})(n):n instanceof hi?(function(i){const r=i.getFilters().map((o=>AE(o)));return r.length===1?r[0]:{compositeFilter:{op:BC(i.op),filters:r}}})(n):bt(54877,{filter:n})}function zC(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function SE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,i,r,o,u=At.min(),c=At.min(),m=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new tr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.yt=t}}function qC(n){const t=PC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ep(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.Cn=new GC}addToCollectionParentIndex(t,i){return this.Cn.add(i),it.resolve()}getCollectionParents(t,i){return it.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return it.resolve()}deleteFieldIndex(t,i){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,i){return it.resolve()}getDocumentsMatchingTarget(t,i){return it.resolve(null)}getIndexType(t,i){return it.resolve(0)}getFieldIndexes(t,i){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,i){return it.resolve(or.min())}getMinOffsetFromCollectionGroup(t,i){return it.resolve(or.min())}updateCollectionGroup(t,i,r){return it.resolve()}updateIndexEntries(t,i){return it.resolve()}}class GC{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new ke(ie.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new ke(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(wE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="LruGarbageCollector",YC=1048576;function Tb([n,t],[i,r]){const o=Pt(n,i);return o===0?Pt(t,r):o}class KC{constructor(t){this.Ir=t,this.buffer=new ke(Tb),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Tb(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class QC{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(bb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){So(i)?ft(bb,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Vr(3e5)}))}}class XC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return it.resolve(Yh.ce);const r=new KC(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(_b)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_b):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,m=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(g=Date.now(),eo()<=Ft.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function $C(n,t){return new XC(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.changes=new la((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?it.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Xl(r.mutation,o,Dn.empty(),ae.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Lt()){const o=Zr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=Bl();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=Zr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Lt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{i.set(c,m)}))}))}computeViews(t,i,r,o){let u=gs();const c=Ql(),m=(function(){return Ql()})();return i.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof pr)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Xl(v.mutation,g,v.mutation.getFieldMask(),ae.now())):c.set(g.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),i.forEach(((g,v)=>m.set(g,new WC(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,i){const r=Ql();let o=new he(((c,m)=>c-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Dn.empty();v=m.applyToLocalView(g,v),r.set(p,v);const b=(o.get(m.batchId)||Lt()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=lE();v.forEach((x=>{if(!u.has(x)){const N=mE(i.get(x),r.get(x));N!==null&&b.set(x,N),u=u.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return it.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):iE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):it.resolve(Zr());let m=nu,p=u;return c.next((g=>it.forEach(g,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?it.resolve():this.remoteDocumentCache.getEntry(t,v).next((x=>{p=p.insert(v,x)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Lt()))).next((v=>({batchId:m,changes:oE(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((r=>{let o=Bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=Bl();return this.indexManager.getCollectionParents(t,u).next((m=>it.forEach(m,(p=>{const g=(function(b,x){return new mu(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))}));let m=Bl();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Xl(v.mutation,g,Dn.empty(),ae.now()),$h(i,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return it.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(i)),it.resolve()}getNamedQuery(t,i){return it.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:qC(o.bundledQuery),readTime:ki(o.readTime)}})(i)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.overlays=new he(vt.comparator),this.qr=new Map}getOverlay(t,i){return it.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Zr();return it.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),it.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),it.resolve()}getOverlaysForCollection(t,i,r){const o=Zr(),u=i.length+1,c=new vt(i.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new he(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Zr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Zr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return it.resolve(m)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new _C(i,r));let u=this.qr.get(i);u===void 0&&(u=Lt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.Qr=new ke(qe.$r),this.Ur=new ke(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new qe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new qe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new vt(new ie([])),r=new qe(i,t),o=new qe(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new ie([])),r=new qe(i,t),o=new qe(i,t+1);let u=Lt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new qe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(qe.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vC(u,i,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,i){return it.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new ke(Pt);return i.forEach((o=>{const u=new qe(o,0),c=new qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),it.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const c=new qe(new vt(u),0);let m=new ke(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),it.resolve(this.ti(m))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return it.forEach(i.mutations,(o=>{const u=new qe(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new qe(i,0),o=this.Zr.firstAfterOrEqual(r);return it.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.ri=t,this.docs=(function(){return new he(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return it.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let r=gs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),it.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=gs();const c=i.path,m=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||IR(MR(v),r)<=0||(o.has(v.key)||$h(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,i,r,o){bt(9500)}ii(t,i){return it.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new rN(this)}getSize(t){return it.resolve(this.size)}}class rN extends ZC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),it.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){this.persistence=t,this.si=new la((i=>Hp(i)),Gp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Wp,this.targetCount=0,this.ai=_o.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),it.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new _o(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,it.resolve()}updateTargetData(t,i){return this.Pr(i),it.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return it.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),it.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),it.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return it.resolve(r)}containsKey(t,i){return it.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new nN,this.referenceDelegate=t(this),this.Pi=new aN(this),this.indexManager=new HC,this.remoteDocumentCache=(function(o){return new sN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new FC(i),this.Ii=new tN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new eN,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new iN(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ft("MemoryPersistence","Starting transaction:",t);const o=new oN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return it.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class oN extends jR{constructor(t){super(),this.currentSequenceNumber=t}}class Jp{constructor(t){this.persistence=t,this.Ri=new Wp,this.Vi=null}static mi(t){return new Jp(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),it.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),it.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),it.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(r=>{const o=vt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return it.or([()=>it.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Mh{constructor(t,i){this.persistence=t,this.pi=new la((r=>kR(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=$C(this,i)}static mi(t,i){return new Mh(t,i)}Ei(){}di(t){return it.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return it.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?it.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((m=>{m||(r++,u.removeEntry(c,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),it.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),it.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=ch(t.data.value)),i}br(t,i,r){return it.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return it.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Lt(),o=Lt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aw()?8:PR(sw())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new lN;return this.Ss(t,i,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,i,c,m.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(eo()<=Ft.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(eo()<=Ft.DEBUG&&ft("QueryEngine","Query:",no(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(eo()<=Ft.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(i))):it.resolve())}ys(t,i){if(ub(i))return it.resolve(null);let r=Li(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ep(i,null,"F"),r=Li(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Lt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(i,m);return this.Cs(i,g,c,p.readTime)?this.ys(t,ep(i,null,"F")):this.vs(t,g,i,p)}))))})))))}ws(t,i,r,o){return ub(i)||o.isEqual(At.min())?it.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?it.resolve(null):(eo()<=Ft.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(i)),this.vs(t,c,i,VR(o,nu)).next((m=>m)))}))}Ds(t,i){let r=new ke(rE(t));return i.forEach(((o,u)=>{$h(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return eo()<=Ft.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",no(i)),this.ps.getDocumentsMatchingQuery(t,i,or.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",cN=3e8;class hN{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new he(Pt),this.xs=new la((u=>Hp(u)),Gp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function fN(n,t,i,r){return new hN(n,t,i,r)}async function CE(n,t){const i=wt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Lt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function dN(n,t){const i=wt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const b=g.batch,x=b.keys();let N=it.resolve();return x.forEach((L=>{N=N.next((()=>v.getEntry(p,L))).next((k=>{const B=g.docVersions.get(L);Kt(B!==null,48541),k.version.compareTo(B)<0&&(b.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),v.addEntry(k)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Lt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function NE(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function mN(n,t){const i=wt(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];t.targetChanges.forEach(((v,b)=>{const x=o.get(b);if(!x)return;m.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,b))));let N=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?N=N.withResumeToken(We.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,r)),o=o.insert(b,N),(function(k,B,G){return k.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=cN?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(x,N,v)&&m.push(i.Pi.updateTargetData(u,N))}));let p=gs(),g=Lt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(pN(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(At.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return it.waitFor(m).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(i.Ms=o,u)))}function pN(n,t,i){let r=Lt(),o=Lt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=gs();return i.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ft(eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function gN(n,t){const i=wt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=zp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function yN(n,t){const i=wt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,it.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new tr(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function ap(n,t,i){const r=wt(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!So(c))throw c;ft(eg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Eb(n,t,i){const r=wt(n);let o=At.min(),u=Lt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=wt(p),x=b.xs.get(v);return x!==void 0?it.resolve(b.Ms.get(x)):b.Pi.getTargetData(g,v)})(r,c,Li(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:At.min(),i?u:Lt()))).next((m=>(vN(r,iC(t),m),{documents:m,Qs:u})))))}function vN(n,t,i){let r=n.Os.get(t)||At.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class xb{constructor(){this.activeTargetIds=uC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _N{constructor(){this.Mo=new xb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new xb,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="ConnectivityMonitor";class Sb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(Ab,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(Ab,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function op(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",TN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Sh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=op(),m=this.zo(t,i.toUriEncodedString());ft(xm,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Hh(g);return this.Jo(t,m,p,r,v).then((b=>(ft(xm,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw po(xm,`RPC '${t}' ${c} failed with error: `,b,"url: ",m,"request:",r),b}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=TN[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class AN extends EN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=op();return new Promise(((m,p)=>{const g=new M1;g.setWithCredentials(!0),g.listenOnce(I1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case uh.NO_ERROR:const b=g.getResponseJson();ft(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),m(b);break;case uh.TIMEOUT:ft(tn,`RPC '${t}' ${c} timed out`),p(new ht(et.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const x=g.getStatus();if(ft(tn,`RPC '${t}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N==null?void 0:N.error;if(L&&L.status&&L.message){const k=(function(G){const tt=G.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(tt)>=0?tt:et.UNKNOWN})(L.status);p(new ht(k,L.message))}else p(new ht(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ht(et.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(tn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ft(tn,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=op(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=P1(),m=j1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ft(tn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const b=c.createWebChannel(v,p);this.I_(b);let x=!1,N=!1;const L=new xN({Yo:B=>{N?ft(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(x||(ft(tn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),x=!0),ft(tn,`RPC '${t}' stream ${o} sending:`,B),b.send(B))},Zo:()=>b.close()}),k=(B,G,tt)=>{B.listen(G,(F=>{try{tt(F)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return k(b,Ul.EventType.OPEN,(()=>{N||(ft(tn,`RPC '${t}' stream ${o} transport opened.`),L.o_())})),k(b,Ul.EventType.CLOSE,(()=>{N||(N=!0,ft(tn,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(b))})),k(b,Ul.EventType.ERROR,(B=>{N||(N=!0,po(tn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),L.a_(new ht(et.UNAVAILABLE,"The operation could not be completed")))})),k(b,Ul.EventType.MESSAGE,(B=>{var G;if(!N){const tt=B.data[0];Kt(!!tt,16349);const F=tt,rt=(F==null?void 0:F.error)||((G=F[0])==null?void 0:G.error);if(rt){ft(tn,`RPC '${t}' stream ${o} received error:`,rt);const at=rt.status;let nt=(function(R){const M=Ne[R];if(M!==void 0)return gE(M)})(at),C=rt.message;nt===void 0&&(nt=et.INTERNAL,C="Unknown error status: "+at+" with message "+rt.message),N=!0,L.a_(new ht(nt,C)),b.close()}else ft(tn,`RPC '${t}' stream ${o} received:`,tt),L.u_(tt)}})),k(m,O1.STAT_EVENT,(B=>{B.stat===Qm.PROXY?ft(tn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Qm.NOPROXY&&ft(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n){return new CC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="PersistentStream";class VE{constructor(t,i,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new ht(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(wb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ft(wb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SN extends VE{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=VC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?ki(c.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=rp(this.serializer),i.addTarget=(function(u,c){let m;const p=c.target;if(m=Jm(p)?{documents:OC(u,p)}:{query:jC(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=_E(u,c.resumeToken);const g=np(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){m.readTime=Vh(u,c.snapshotVersion.toTimestamp());const g=np(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=LC(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=rp(this.serializer),i.removeTarget=t,this.q_(i)}}class wN extends VE{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=IC(t.writeResults,t.commitTime),r=ki(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=rp(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>MC(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{}class CN extends RN{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,ip(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(et.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,ip(i,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):ft("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class DN{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ua(this)&&(ft(ra,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await yu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ef(g)})(this))}))})),this.Ra=new NN(r,o)}}async function ef(n){if(ua(n))for(const t of n.da)await t(!0)}async function yu(n){for(const t of n.da)await t(!1)}function ME(n,t){const i=wt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),rg(i)?sg(i):wo(i).O_()&&ig(i,t))}function ng(n,t){const i=wt(n),r=wo(i);i.Ia.delete(t),r.O_()&&IE(i,t),i.Ia.size===0&&(r.O_()?r.L_():ua(i)&&i.Ra.set("Unknown"))}function ig(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}wo(n).Y_(t)}function IE(n,t){n.Va.Ue(t),wo(n).Z_(t)}function sg(n){n.Va=new AC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),wo(n).start(),n.Ra.ua()}function rg(n){return ua(n)&&!wo(n).x_()&&n.Ia.size>0}function ua(n){return wt(n).Ea.size===0}function OE(n){n.Va=void 0}async function VN(n){n.Ra.set("Online")}async function MN(n){n.Ia.forEach(((t,i)=>{ig(n,t)}))}async function IN(n,t){OE(n),rg(n)?(n.Ra.ha(t),sg(n)):n.Ra.set("Unknown")}async function ON(n,t,i){if(n.Ra.set("Online"),t instanceof vE&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(n,t)}catch(r){ft(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ih(n,r)}else if(t instanceof dh?n.Va.Ze(t):t instanceof yE?n.Va.st(t):n.Va.tt(t),!i.isEqual(At.min()))try{const r=await NE(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),IE(u,p);const b=new tr(v.target,p,g,v.sequenceNumber);ig(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(n,i)}catch(r){ft(ra,"Failed to raise snapshot:",r),await Ih(n,r)}}async function Ih(n,t,i){if(!So(t))throw t;n.Ea.add(1),await yu(n),n.Ra.set("Offline"),i||(i=()=>NE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(ra,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await ef(n)}))}function jE(n,t){return t().catch((i=>Ih(n,i,t)))}async function nf(n){const t=wt(n),i=hr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zp;for(;jN(t);)try{const o=await gN(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,PN(t,o)}catch(o){await Ih(t,o)}PE(t)&&LE(t)}function jN(n){return ua(n)&&n.Ta.length<10}function PN(n,t){n.Ta.push(t);const i=hr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function PE(n){return ua(n)&&!hr(n).x_()&&n.Ta.length>0}function LE(n){hr(n).start()}async function LN(n){hr(n).ra()}async function kN(n){const t=hr(n);for(const i of n.Ta)t.ea(i.mutations)}async function UN(n,t,i){const r=n.Ta.shift(),o=Xp.from(r,t,i);await jE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await nf(n)}async function BN(n,t){t&&hr(n).X_&&await(async function(r,o){if((function(c){return TC(c)&&c!==et.ABORTED})(o.code)){const u=r.Ta.shift();hr(r).B_(),await jE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await nf(r)}})(n,t),PE(n)&&LE(n)}async function Rb(n,t){const i=wt(n);i.asyncQueue.verifyOperationInProgress(),ft(ra,"RemoteStore received new credentials");const r=ua(i);i.Ea.add(3),await yu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ef(i)}async function zN(n,t){const i=wt(n);t?(i.Ea.delete(2),await ef(i)):t||(i.Ea.add(2),await yu(i),i.Ra.set("Unknown"))}function wo(n){return n.ma||(n.ma=(function(i,r,o){const u=wt(i);return u.sa(),new SN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:VN.bind(null,n),t_:MN.bind(null,n),r_:IN.bind(null,n),H_:ON.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),rg(n)?sg(n):n.Ra.set("Unknown")):(await n.ma.stop(),OE(n))}))),n.ma}function hr(n){return n.fa||(n.fa=(function(i,r,o){const u=wt(i);return u.sa(),new wN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:LN.bind(null,n),r_:BN.bind(null,n),ta:kN.bind(null,n),na:UN.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await nf(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(ra,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,m=new ag(t,i,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(n,t){if(ps("AsyncQueue",`${t}: ${n}`),So(n))return new ht(et.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||vt.comparator(i.key,r.key):(i,r)=>vt.comparator(i.key,r.key),this.keyedMap=Bl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new ho;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.ga=new he(vt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class bo{constructor(t,i,r,o,u,c,m,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((m=>{c.push({type:0,doc:m})})),new bo(t,i,ho.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qN{constructor(){this.queries=Nb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=wt(i),u=o.queries;o.queries=Nb(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new ht(et.ABORTED,"Firestore shutting down"))}}function Nb(){return new la((n=>sE(n)),Xh)}async function kE(n,t){const i=wt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new FN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const m=og(c,`Initialization of query '${no(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&lg(i)}async function UE(n,t){const i=wt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HN(n,t){const i=wt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&lg(i)}function GN(n,t,i){const r=wt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function lg(n){n.Ca.forEach((t=>{t.next()}))}var lp,Db;(Db=lp||(lp={})).Ma="default",Db.Cache="cache";class BE{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t){this.key=t}}class FE{constructor(t){this.key=t}}class YN{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=rE(t),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Cb,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const x=o.get(v),N=$h(this.query,b)?b:null,L=!!x&&this.mutatedKeys.has(x.key),k=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;x&&N?x.data.isEqual(N.data)?L!==k&&(r.track({type:3,doc:N}),B=!0):this.su(x,N)||(r.track({type:2,doc:N}),B=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!x&&N?(r.track({type:0,doc:N}),B=!0):x&&!N&&(r.track({type:1,doc:x}),B=!0,(p||g)&&(m=!0)),B&&(N?(c=c.add(N),u=k?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(N,L){const k=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:B})}};return k(N)-k(L)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new bo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new FE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new zE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class KN{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class QN{constructor(t){this.key=t,this.hu=!1}}class XN{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new la((m=>sE(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new he(vt.comparator),this.Au=new Map,this.Ru=new Wp,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $N(n,t,i=!0){const r=QE(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qE(r,t,i,!0),o}async function ZN(n,t){const i=QE(n);await qE(i,t,!0,!1)}async function qE(n,t,i,r){const o=await yN(n.localStore,Li(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await WN(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&ME(n.remoteStore,o),m}async function WN(n,t,i,r,o){n.pu=(b,x,N)=>(async function(k,B,G,tt){let F=B.view.ru(G);F.Cs&&(F=await Eb(k.localStore,B.query,!1).then((({documents:C})=>B.view.ru(C,F))));const rt=tt&&tt.targetChanges.get(B.targetId),at=tt&&tt.targetMismatches.get(B.targetId)!=null,nt=B.view.applyChanges(F,k.isPrimaryClient,rt,at);return Mb(k,B.targetId,nt.au),nt.snapshot})(n,b,x,N);const u=await Eb(n.localStore,t,!0),c=new YN(t,u.Qs),m=c.ru(u.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);Mb(n,i,g.au);const v=new KN(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function JN(n,t,i){const r=wt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Xh(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&ng(r.remoteStore,o.targetId),up(r,o.targetId)})).catch(Ao)):(up(r,o.targetId),await ap(r.localStore,o.targetId,!0))}async function t4(n,t){const i=wt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ng(i.remoteStore,r.targetId))}async function e4(n,t,i){const r=l4(n);try{const o=await(function(c,m){const p=wt(c),g=ae.now(),v=m.reduce(((N,L)=>N.add(L.key)),Lt());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let L=gs(),k=Lt();return p.Ns.getEntries(N,v).next((B=>{L=B,L.forEach(((G,tt)=>{tt.isValidDocument()||(k=k.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,L))).next((B=>{b=B;const G=[];for(const tt of m){const F=gC(tt,b.get(tt.key).overlayedDocument);F!=null&&G.push(new pr(tt.key,F,$1(F.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,G,m)})).next((B=>{x=B;const G=B.applyToLocalDocumentSet(b,k);return p.documentOverlayCache.saveOverlays(N,B.batchId,G)}))})).then((()=>({batchId:x.batchId,changes:oE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new he(Pt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,i),await vu(r,o.changes),await nf(r.remoteStore)}catch(o){const u=og(o,"Failed to persist write");i.reject(u)}}async function HE(n,t){const i=wt(n);try{const r=await mN(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await vu(i,r,t)}catch(r){await Ao(r)}}function Vb(n,t,i){const r=wt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=wt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,b)=>{for(const x of b.Sa)x.va(m)&&(g=!0)})),g&&lg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function n4(n,t,i){const r=wt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new he(vt.comparator);c=c.insert(u,nn.newNoDocument(u,At.min()));const m=Lt().add(u),p=new Jh(At.min(),new Map,new he(Pt),c,m);await HE(r,p),r.du=r.du.remove(u),r.Au.delete(t),cg(r)}else await ap(r.localStore,t,!1).then((()=>up(r,t,i))).catch(Ao)}async function i4(n,t){const i=wt(n),r=t.batch.batchId;try{const o=await dN(i.localStore,t);YE(i,r,null),GE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await vu(i,o)}catch(o){await Ao(o)}}async function s4(n,t,i){const r=wt(n);try{const o=await(function(c,m){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Kt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);YE(r,t,i),GE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await vu(r,o)}catch(o){await Ao(o)}}function GE(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function YE(n,t,i){const r=wt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function up(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||KE(n,r)}))}function KE(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(ng(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),cg(n))}function Mb(n,t,i){for(const r of i)r instanceof zE?(n.Ru.addReference(r.key,t),r4(n,r)):r instanceof FE?(ft(ug,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||KE(n,r.key)):bt(19791,{wu:r})}function r4(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(ft(ug,"New document in limbo: "+i),n.Eu.add(r),cg(n))}function cg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new vt(ie.fromString(t)),r=n.fu.next();n.Au.set(r,new QN(i)),n.du=n.du.insert(i,r),ME(n.remoteStore,new tr(Li(Yp(i.path)),r,"TargetPurposeLimboResolution",Yh.ce))}}async function vu(n,t,i){const r=wt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,i).then((g=>{var v;if((g||i)&&r.isPrimaryClient){const b=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=tg.As(p.targetId,g);u.push(b)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>it.forEach(g,(x=>it.forEach(x.Es,(N=>v.persistence.referenceDelegate.addReference(b,x.targetId,N))).next((()=>it.forEach(x.ds,(N=>v.persistence.referenceDelegate.removeReference(b,x.targetId,N)))))))))}catch(b){if(!So(b))throw b;ft(eg,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const N=v.Ms.get(x),L=N.snapshotVersion,k=N.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(x,k)}}})(r.localStore,u))}async function a4(n,t){const i=wt(n);if(!i.currentUser.isEqual(t)){ft(ug,"User change. New user:",t.toKey());const r=await CE(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ht(et.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await vu(i,r.Ls)}}function o4(n,t){const i=wt(n),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const m=i.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function QE(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=o4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=n4.bind(null,t),t.Pu.H_=HN.bind(null,t.eventManager),t.Pu.yu=GN.bind(null,t.eventManager),t}function l4(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=i4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=s4.bind(null,t),t}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=tf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return fN(this.persistence,new uN,t.initialUser,this.serializer)}Cu(t){return new RE(Jp.mi,this.serializer)}Du(t){return new _N}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class u4 extends Oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QC(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new RE((r=>Mh.mi(r,i)),this.serializer)}}class cp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,this.syncEngine),await zN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qN})()}createDatastore(t){const i=tf(t.databaseInfo.databaseId),r=(function(u){return new AN(u)})(t.databaseInfo);return(function(u,c,m,p){return new CN(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,m){return new DN(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>Vb(this.syncEngine,i,0)),(function(){return Sb.v()?new Sb:new bN})())}createSyncEngine(t,i){return(function(o,u,c,m,p,g,v){const b=new XN(o,u,c,m,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const u=wt(o);ft(ra,"RemoteStore shutting down."),u.Ea.add(5),await yu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="FirestoreClient";class c4{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ft(fr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ft(fr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=og(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Sm(n,t){n.asyncQueue.verifyOperationInProgress(),ft(fr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await CE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Ib(n,t){n.asyncQueue.verifyOperationInProgress();const i=await h4(n);ft(fr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>Rb(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Rb(t.remoteStore,o))),n._onlineComponents=t}async function h4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(fr,"Using user provided OfflineComponentProvider");try{await Sm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;po("Error using user provided cache. Falling back to memory cache: "+i),await Sm(n,new Oh)}}else ft(fr,"Using default OfflineComponentProvider"),await Sm(n,new u4(void 0));return n._offlineComponents}async function $E(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(fr,"Using user provided OnlineComponentProvider"),await Ib(n,n._uninitializedComponentsProvider._online)):(ft(fr,"Using default OnlineComponentProvider"),await Ib(n,new cp))),n._onlineComponents}function f4(n){return $E(n).then((t=>t.syncEngine))}async function hp(n){const t=await $E(n),i=t.eventManager;return i.onListen=$N.bind(null,t.syncEngine),i.onUnlisten=JN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ZN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=t4.bind(null,t.syncEngine),i}function d4(n,t,i={}){const r=new rr;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new XE({next:x=>{v.Nu(),c.enqueueAndForget((()=>UE(u,b))),x.fromCache&&p.source==="server"?g.reject(new ht(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new BE(m,v,{includeMetadataChanges:!0,qa:!0});return kE(u,b)})(await hp(n),n.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firestore.googleapis.com",jb=!0;class Pb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=jb}else this.host=t.host,this.ssl=t.ssl??jb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YC)throw new ht(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sf{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bR;switch(r.type){case"firstParty":return new AR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Ob.get(i);r&&(ft("ComponentProvider","Removing Datastore"),Ob.delete(i),r.terminate())})(this),Promise.resolve()}}function m4(n,t,i,r={}){var g;n=Pi(n,sf);const o=Hh(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${i}`;o&&(y1(`https://${m}`),_1("Firestore",!0)),u.host!==WE&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!Eh(p,c)&&(n._setSettings(p),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=en.MOCK_USER;else{v=v1(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ht(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new en(x)}n._authCredentials=new TR(new k1(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ca(this.firestore,t,this._query)}}class Ie{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(du(i,Ie._jsonSchema))return new Ie(t,r||null,new vt(ie.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Me("string",Ie._jsonSchemaVersion),referencePath:Me("string")};class ar extends ca{constructor(t,i,r){super(t,i,Yp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new vt(t))}withConverter(t){return new ar(this.firestore,t,this._path)}}function Ro(n,t,...i){if(n=ci(n),U1("collection","path",t),n instanceof sf){const r=ie.fromString(t,...i);return X_(r),new ar(n,null,r)}{if(!(n instanceof Ie||n instanceof ar))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return X_(r),new ar(n.firestore,null,r)}}function rf(n,t,...i){if(n=ci(n),arguments.length===1&&(t=Bp.newId()),U1("doc","path",t),n instanceof sf){const r=ie.fromString(t,...i);return Q_(r),new Ie(n,null,new vt(r))}{if(!(n instanceof Ie||n instanceof ar))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return Q_(r),new Ie(n.firestore,n instanceof ar?n.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="AsyncQueue";class kb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DE(this,"async_queue_retry"),this._c=()=>{const r=Am();r&&ft(Lb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Am();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Am();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!So(t))throw t;ft(Lb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Ub(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=ag.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:Ub(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Ub(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class aa extends sf{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new kb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kb(t),this._firestoreClient=void 0,await t}}}function p4(n,t){const i=typeof n=="object"?n:C1(),r=typeof n=="string"?n:Sh,o=A1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=p1("firestore");u&&m4(o,...u)}return o}function hg(n){if(n._terminated)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||g4(n),n._firestoreClient}function g4(n){var r,o,u;const t=n._freezeSettings(),i=(function(m,p,g,v){return new zR(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,ZE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new c4(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(We.fromBase64String(t))}catch(i){throw new ht(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Gn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(du(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Me("string",Gn._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(du(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Me("string",Ui._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(du(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Bi(t.vectorValues);throw new ht(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Me("string",Bi._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=/^__.*__$/;class v4{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new pr(t,this.data,this.fieldMask,i,this.fieldTransforms):new pu(t,this.data,i,this.fieldTransforms)}}class JE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new pr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function tx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:n})}}class dg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new dg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(tx(this.Ac)&&y4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _4{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||tf(t)}Cc(t,i,r,o=!1){return new dg({Ac:t,methodName:i,Dc:r,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(n){const t=n._freezeSettings(),i=tf(n._databaseId);return new _4(n._databaseId,!!t.ignoreUndefinedProperties,i)}function b4(n,t,i,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);pg("Data must be an object, but it was:",c,r);const m=ex(r,c);let p,g;if(u.merge)p=new Dn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const x=fp(t,b,i);if(!c.contains(x))throw new ht(et.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ix(v,x)||v.push(x)}p=new Dn(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new v4(new vn(m),p,g)}class of extends fg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof of}}function T4(n,t,i,r){const o=n.Cc(1,t,i);pg("Data must be an object, but it was:",o,r);const u=[],c=vn.empty();mr(r,((p,g)=>{const v=gg(t,p,i);g=ci(g);const b=o.yc(v);if(g instanceof of)u.push(v);else{const x=_u(g,b);x!=null&&(u.push(v),c.set(v,x))}}));const m=new Dn(u);return new JE(c,m,o.fieldTransforms)}function E4(n,t,i,r,o,u){const c=n.Cc(1,t,i),m=[fp(t,r,i)],p=[o];if(u.length%2!=0)throw new ht(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(fp(t,u[x])),p.push(u[x+1]);const g=[],v=vn.empty();for(let x=m.length-1;x>=0;--x)if(!ix(g,m[x])){const N=m[x];let L=p[x];L=ci(L);const k=c.yc(N);if(L instanceof of)g.push(N);else{const B=_u(L,k);B!=null&&(g.push(N),v.set(N,B))}}const b=new Dn(g);return new JE(v,b,c.fieldTransforms)}function x4(n,t,i,r=!1){return _u(i,n.Cc(r?4:3,t))}function _u(n,t){if(nx(n=ci(n)))return pg("Unsupported field value:",t,n),ex(n,t);if(n instanceof fg)return(function(r,o){if(!tx(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=_u(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ci(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ae.fromDate(r);return{timestampValue:Vh(o.serializer,u)}}if(r instanceof ae){const u=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(r instanceof Ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:_E(o.serializer,r._byteString)};if(r instanceof Ie){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Bi)return(function(c,m){return{mapValue:{fields:{[Q1]:{stringValue:X1},[wh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Kp(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Gh(r)}`)})(n,t)}function ex(n,t){const i={};return F1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(n,((r,o)=>{const u=_u(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function nx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ae||n instanceof Ui||n instanceof Gn||n instanceof Ie||n instanceof fg||n instanceof Bi)}function pg(n,t,i){if(!nx(i)||!B1(i)){const r=Gh(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function fp(n,t,i){if((t=ci(t))instanceof af)return t._internalPath;if(typeof t=="string")return gg(n,t);throw jh("Field path arguments must be of type string or ",n,!1,void 0,i)}const A4=new RegExp("[~\\*/\\[\\]]");function gg(n,t,i){if(t.search(A4)>=0)throw jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new af(...t.split("."))._internalPath}catch{throw jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function jh(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new ht(et.INVALID_ARGUMENT,m+n+p)}function ix(n,t){return n.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new S4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(yg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class S4 extends sx{data(){return super.data()}}function yg(n,t){return typeof t=="string"?gg(n,t):t instanceof af?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class w4 extends vg{}function ax(n,t,...i){let r=[];t instanceof vg&&r.push(t),r=r.concat(i),(function(u){const c=u.filter((p=>p instanceof _g)).length,m=u.filter((p=>p instanceof lf)).length;if(c>1||c>0&&m>0)throw new ht(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class lf extends w4{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new lf(t,i,r)}_apply(t){const i=this._parse(t);return lx(t._query,i),new ca(t.firestore,t.converter,tp(t._query,i))}_parse(t){const i=mg(t.firestore);return(function(u,c,m,p,g,v,b){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ht(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Fb(b,v);const L=[];for(const k of b)L.push(zb(p,u,k));x={arrayValue:{values:L}}}else x=zb(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Fb(b,v),x=x4(m,c,b,v==="in"||v==="not-in");return Ve.create(g,v,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function ox(n,t,i){const r=t,o=yg("where",n);return lf._create(o,r,i)}class _g extends vg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new _g(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:hi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)lx(c,p),c=tp(c,p)})(t._query,i),new ca(t.firestore,t.converter,tp(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zb(n,t,i){if(typeof(i=ci(i))=="string"){if(i==="")throw new ht(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iE(t)&&i.indexOf("/")!==-1)throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ie.fromString(i));if(!vt.isDocumentKey(r))throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ib(n,new vt(r))}if(i instanceof Ie)return ib(n,i._key);throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(i)}.`)}function Fb(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lx(n,t){const i=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class R4{convertValue(t,i="none"){switch(cr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return mr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){var r,o,u;const i=(u=(o=(r=t.fields)==null?void 0:r[wh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>_e(c.doubleValue)));return new Bi(i)}convertGeoPoint(t){return new Ui(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Qh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(iu(t));default:return null}}convertTimestamp(t){const i=lr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Kt(SE(r),9688,{name:t});const o=new su(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(i)||ps(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(n,t,i){let r;return r=n?n.toFirestore(t):t,r}class Fl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ta extends sx{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(yg("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Me("string",ta._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class mh extends ta{data(t={}){return super.data(t)}}class ea{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new mh(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:N4(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ea._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function N4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Me("string",ea._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class bg extends R4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function D4(n){n=Pi(n,ca);const t=Pi(n.firestore,aa),i=hg(t),r=new bg(t);return rx(n._query),d4(i,n._query).then((o=>new ea(t,r,n,o)))}function V4(n,t,i,...r){n=Pi(n,Ie);const o=Pi(n.firestore,aa),u=mg(o);let c;return c=typeof(t=ci(t))=="string"||t instanceof af?E4(u,"updateDoc",n._key,t,i,r):T4(u,"updateDoc",n._key,t),xg(o,[c.toMutation(n._key,ui.exists(!0))])}function M4(n){return xg(Pi(n.firestore,aa),[new Qp(n._key,ui.none())])}function Tg(n,t){const i=Pi(n.firestore,aa),r=rf(n),o=C4(n.converter,t);return xg(i,[b4(mg(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then((()=>r))}function Eg(n,...t){var p,g,v;n=ci(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Bb(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Bb(t[r])){const b=t[r];t[r]=(p=b.next)==null?void 0:p.bind(b),t[r+1]=(g=b.error)==null?void 0:g.bind(b),t[r+2]=(v=b.complete)==null?void 0:v.bind(b)}let u,c,m;if(n instanceof Ie)c=Pi(n.firestore,aa),m=Yp(n._key.path),u={next:b=>{t[r]&&t[r](I4(c,n,b))},error:t[r+1],complete:t[r+2]};else{const b=Pi(n,ca);c=Pi(b.firestore,aa),m=b._query;const x=new bg(c);u={next:N=>{t[r]&&t[r](new ea(c,x,b,N))},error:t[r+1],complete:t[r+2]},rx(n._query)}return(function(x,N,L,k){const B=new XE(k),G=new BE(N,B,L);return x.asyncQueue.enqueueAndForget((async()=>kE(await hp(x),G))),()=>{B.Nu(),x.asyncQueue.enqueueAndForget((async()=>UE(await hp(x),G)))}})(hg(c),m,o,u)}function xg(n,t){return(function(r,o){const u=new rr;return r.asyncQueue.enqueueAndForget((async()=>e4(await f4(r),o,u))),u.promise})(hg(n),t)}function I4(n,t,i){const r=i.docs.get(t._key),o=new bg(n);return new ta(n,o,t._key,r,new Fl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){xo=o})(w1),tu(new mo("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new aa(new ER(r.getProvider("auth-internal")),new SR(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ir(H_,G_,t),ir(H_,G_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="firebasestorage.googleapis.com",O4="storageBucket",j4=120*1e3,P4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends oa{constructor(t,i,r=0){super(wm(t),`Firebase Storage: ${i} (${wm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return wm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gi||(Gi={}));function wm(n){return"storage/"+n}function L4(){const n="An unknown error occurred, please check the error payload for server response.";return new Qi(Gi.UNKNOWN,n)}function k4(){return new Qi(Gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U4(){return new Qi(Gi.CANCELED,"User canceled the upload/download.")}function B4(n){return new Qi(Gi.INVALID_URL,"Invalid URL '"+n+"'.")}function z4(n){return new Qi(Gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function qb(n){return new Qi(Gi.INVALID_ARGUMENT,n)}function cx(){return new Qi(Gi.APP_DELETED,"The Firebase app was deleted.")}function F4(n){return new Qi(Gi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=li.makeFromUrl(t,i)}catch{return new li(t,"")}if(r.path==="")return r;throw z4(t)}static makeFromUrl(t,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(rt){rt.path_=decodeURIComponent(rt.path)}const v="v[A-Za-z0-9_]+",b=i.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${v}/b/${o}/o${x}`,"i"),L={bucket:1,path:3},k=i===ux?"(?:storage.googleapis.com|storage.cloud.google.com)":i,B="([^?#]*)",G=new RegExp(`^https?://${k}/${o}/${B}`,"i"),F=[{regex:m,indices:p,postModify:u},{regex:N,indices:L,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let rt=0;rt<F.length;rt++){const at=F[rt],nt=at.regex.exec(t);if(nt){const C=nt[at.indices.bucket];let w=nt[at.indices.path];w||(w=""),r=new li(C,w),at.postModify(r);break}}if(r==null)throw B4(t);return r}}class q4{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n,t,i){let r=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...B){g||(g=!0,t.apply(null,B))}function b(B){o=setTimeout(()=>{o=null,n(N,p())},B)}function x(){u&&clearTimeout(u)}function N(B,...G){if(g){x();return}if(B){x(),v.call(null,B,...G);return}if(p()||c){x(),v.call(null,B,...G);return}r<64&&(r*=2);let F;m===1?(m=2,F=0):F=(r+Math.random())*1e3,b(F)}let L=!1;function k(B){L||(L=!0,x(),!g&&(o!==null?(B||(m=2),clearTimeout(o),b(0)):B||(m=1)))}return b(0),u=setTimeout(()=>{c=!0,k(!0)},i),k}function G4(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(n){return n!==void 0}function Hb(n,t,i,r){if(r<t)throw qb(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>i)throw qb(`Invalid value for '${n}'. Expected ${i} or less.`)}function K4(n){const t=encodeURIComponent;let i="?";for(const r in n)if(n.hasOwnProperty(r)){const o=t(r)+"="+t(n[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Ph;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ph||(Ph={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(n,t){const i=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,i,r,o,u,c,m,p,g,v,b,x=!0,N=!1){this.url_=t,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,k)=>{this.resolve_=L,this.reject_=k,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new sh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===Ph.NO_ERROR,p=u.getStatus();if(!m||Q4(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Ph.ABORT;r(!1,new sh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new sh(g,u))})},i=(r,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Y4(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=L4();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?cx():U4();c(p)}else{const p=k4();c(p)}};this.canceled_?i(!1,new sh(!1,null,!0)):this.backoffId_=H4(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&G4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function $4(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function Z4(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function W4(n,t){t&&(n["X-Firebase-GMPID"]=t)}function J4(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function tD(n,t,i,r,o,u,c=!0,m=!1){const p=K4(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return W4(v,t),$4(v,i),Z4(v,u),J4(v,r),new X4(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function nD(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,i){this._service=t,i instanceof li?this._location=i:this._location=li.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Lh(t,i)}get root(){const t=new li(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nD(this._location.path)}get storage(){return this._service}get parent(){const t=eD(this._location.path);if(t===null)return null;const i=new li(this._location.bucket,t);return new Lh(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw F4(t)}}function Gb(n,t){const i=t==null?void 0:t[O4];return i==null?null:li.makeFromBucketSpec(i,n)}function iD(n,t,i,r={}){n.host=`${t}:${i}`;const o=Hh(t);o&&(y1(`https://${n.host}/b`),_1("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(n._overrideAuthToken=typeof u=="string"?u:v1(u,n.app.options.projectId))}class sD{constructor(t,i,r,o,u,c=!1){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=ux,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=j4,this._maxUploadRetryTime=P4,this._requests=new Set,o!=null?this._bucket=li.makeFromBucketSpec(o,this._host):this._bucket=Gb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=li.makeFromBucketSpec(this._url,t):this._bucket=Gb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Hb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Hb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(S1(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Lh(this,t)}_makeRequest(t,i,r,o,u=!0){if(this._deleted)return new q4(cx());{const c=tD(t,this._appId,r,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,o).getPromise()}}const Yb="@firebase/storage",Kb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="storage";function rD(n=C1(),t){n=ci(n);const r=A1(n,hx).getImmediate({identifier:t}),o=p1("storage");return o&&aD(r,...o),r}function aD(n,t,i,r={}){iD(n,t,i,r)}function oD(n,{instanceIdentifier:t}){const i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new sD(i,r,o,t,w1)}function lD(){tu(new mo(hx,oD,"PUBLIC").setMultipleInstances(!0)),ir(Yb,Kb,""),ir(Yb,Kb,"esm2020")}lD();var uD="firebase",cD="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(uD,cD,"app");const ql={apiKey:"AIzaSyDMP1qs_egJbyS2rWiZihynlbA_HBbiMi0",authDomain:"manas-nidar-trip.firebaseapp.com",projectId:"manas-nidar-trip",storageBucket:"manas-nidar-trip.firebasestorage.app",messagingSenderId:"268881524512",appId:"1:268881524512:web:f66e24a451fb51b537c945",measurementId:"G-BVBR6CN7JG"},hD=()=>ql.apiKey&&!ql.apiKey.includes("YOUR_")&&ql.projectId&&!ql.projectId.includes("YOUR_"),fx=R1(ql),vs=p4(fx);rD(fx);const dx="trips",mx="expenses",uf="settlements",fD=async(n,t,i)=>{try{console.log(" Creating trip with:",{name:n,participants:t,hasAvatars:!!i});const r={name:n,participants:t,memberAvatars:i||{},createdAt:Date.now()};console.log(" Sending to Firestore:",r);const o=await Tg(Ro(vs,dx),r);return console.log(" Trip created with ID:",o.id),o.id}catch(r){throw console.error(" Create trip error details:",{code:r.code,message:r.message,stack:r.stack}),r}},dD=(n,t)=>Eg(rf(vs,dx,n),i=>{i.exists()?t({id:i.id,...i.data()}):t(null)},i=>{console.error("Firestore Subscribe Error:",i),t(null)}),mD=(n,t)=>{const i=ax(Ro(vs,mx),ox("tripId","==",n));return Eg(i,r=>{const o=r.docs.map(u=>({id:u.id,...u.data()}));o.sort((u,c)=>c.createdAt-u.createdAt),t(o)},r=>{console.error("Firestore Expenses Subscribe Error:",r),t([])})},pD=async(n,t)=>{console.log(" Creating expense:",{tripId:n,...t});const i=await Tg(Ro(vs,mx),{...t,tripId:n,createdAt:Date.now()});return console.log(" Expense created with ID:",i.id),i},Qb=async(n,t,i,r,o)=>(await Tg(Ro(vs,uf),{tripId:n,from:t,to:i,amount:r,isPaid:!1,proofImageUrl:null,createdAt:Date.now()})).id,gD=async(n,t)=>{const i=rf(vs,uf,n),r={isPaid:t,paidAt:t?Date.now():null};await V4(i,r)},yD=async n=>{const t=rf(vs,uf,n);await M4(t)},vD=(n,t)=>{const i=ax(Ro(vs,uf),ox("tripId","==",n));return Eg(i,r=>{const o=r.docs.map(u=>({id:u.id,...u.data()}));t(o)},r=>{console.error("Firestore Settlements Subscribe Error:",r),t([])})},ri="/manas-split/",zi=[{id:"manas",image:`${ri}pics/manas.png`},{id:"avatar1",image:`${ri}pics/Screenshot 2026-01-05 184222.png`},{id:"avatar2",image:`${ri}pics/Screenshot 2026-01-05 184242.png`},{id:"avatar3",image:`${ri}pics/Screenshot 2026-01-05 184251.png`},{id:"avatar4",image:`${ri}pics/Screenshot 2026-01-05 184317.png`},{id:"avatar5",image:`${ri}pics/Screenshot 2026-01-05 184328.png`},{id:"avatar6",image:`${ri}pics/Screenshot 2026-01-05 184347.png`},{id:"avatar7",image:`${ri}pics/Screenshot 2026-01-05 184406.png`},{id:"avatar8",image:`${ri}pics/Screenshot 2026-01-05 184426.png`},{id:"avatar9",image:`${ri}pics/Screenshot 2026-01-05 184453.png`},{id:"avatar10",image:`${ri}pics/Screenshot 2026-01-05 184505.png`}],ln=({className:n=""})=>E.jsx("i",{className:`fa fa-inr ${n}`}),_D=({onJoin:n})=>{const[t,i]=ot.useState(""),[r,o]=ot.useState(!1),u=async c=>{if(c.preventDefault(),!!t.trim()){o(!0);try{localStorage.setItem("trip_user_name",t.trim()),n(t.trim())}catch(m){console.error("Error joining:",m),alert("Error saving your name. Please try again.")}finally{o(!1)}}};return E.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center p-6 z-50",children:E.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-md p-12 text-center border-4 border-[#f49221]",children:[E.jsx("div",{className:"w-24 h-24 bg-[#f49221] rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-[#f49221]/30 rotate-3",children:E.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),E.jsx("h1",{className:"text-4xl font-bold text-black mb-2 font-pt tracking-tighter uppercase",children:"Manas Split"}),E.jsx("p",{className:"text-gray-500 mb-10 font-medium",children:"Smart expense tracking for your crew."}),E.jsxs("form",{onSubmit:u,className:"space-y-8 text-left",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Identify Yourself"}),E.jsx("input",{type:"text",required:!0,value:t,onChange:c=>i(c.target.value),placeholder:"Your Full Name",className:"w-full px-6 py-5 rounded-2xl border-2 border-gray-100 focus:outline-none focus:border-[#f49221] transition-all text-lg font-bold text-black"})]}),E.jsx("button",{type:"submit",disabled:r,className:"w-full bg-[#f49221] hover:bg-[#d97e1a] text-white font-bold py-5 rounded-2xl transition-all shadow-xl shadow-[#f49221]/30 disabled:opacity-50 uppercase tracking-widest",children:r?"Authenticating...":"Enter Dashboard"})]})]})})},bD=({onTripSelected:n})=>{const[t,i]=ot.useState("selection"),[r,o]=ot.useState(""),[u,c]=ot.useState(["",""]),[m,p]=ot.useState({}),[g,v]=ot.useState(null),[b,x]=ot.useState(""),[N,L]=ot.useState(!1),[k,B]=ot.useState(""),G=async()=>{try{console.log("Testing Firebase connection...");const F=Ro(vs,"trips"),rt=await D4(F);return console.log(" Firebase connected successfully. Found",rt.size,"trips"),{success:!0,error:null}}catch(F){console.error(" Firebase connection error:",F);let rt="Unknown error";return F.code==="permission-denied"?rt=" PERMISSION DENIED - Firebase security rules are NOT allowing access. Your rules may not have been saved properly.":F.code==="unavailable"?rt="Firebase service unavailable. Check your internet connection.":F.message&&(rt=F.message),console.error("Detailed error:",F),{success:!1,error:rt}}},tt=async F=>{F.preventDefault();const rt=u.filter(C=>C.trim()!=="");if(!r||rt.length<2)return alert("Trip name and 2+ people needed.");B(""),console.log("Creating trip with:",{tripName:r,participants:rt});const at=await G();if(!at.success){B(`Firebase Error: ${at.error}`);return}L(!0);const nt=setTimeout(()=>{L(!1),B("Connection timeout after 8 seconds. Firebase security rules may be blocking writes.")},8e3);try{console.log(" Starting trip creation...");const C=await fD(r,rt,m);clearTimeout(nt),console.log(" Trip created successfully with ID:",C),n(C)}catch(C){clearTimeout(nt),L(!1),console.error(" Create trip error:",C);let w="Error creating trip: ";C.code==="permission-denied"?w+=" Permission denied. Firebase rules are STILL not set correctly. Please check Firebase Console Firestore Rules.":C.message?w+=C.message:w+="Unknown error. Check browser console (F12) for details.",B(w)}};return t==="create"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"max-w-md mx-auto p-10 bg-white rounded-[2.5rem] shadow-2xl mt-12 border-4 border-black",children:[E.jsx("h2",{className:"text-3xl font-bold mb-8 text-black font-pt uppercase tracking-tight",children:"New Trip"}),k&&E.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-300 rounded-xl text-red-800 text-sm",children:[E.jsx("p",{className:"font-bold mb-2",children:" Error"}),E.jsx("p",{className:"text-xs leading-relaxed",children:k}),k.includes("security rules")&&E.jsxs("p",{className:"mt-3 text-xs",children:[E.jsx("strong",{children:"Fix:"})," Go to Firebase Console  Firestore Database  Rules and set:",E.jsx("br",{}),E.jsx("code",{className:"block mt-1 bg-red-100 p-2 rounded",children:"allow read, write: if true;"})]})]}),E.jsxs("form",{onSubmit:tt,className:"space-y-6",children:[E.jsx("input",{required:!0,className:"w-full px-6 py-4 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none font-bold text-black placeholder-gray-400",placeholder:"Destination Name",value:r,onChange:F=>o(F.target.value)}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Participants"}),u.map((F,rt)=>{var at;return E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex gap-2 items-center",children:[F.trim()&&m[F]&&E.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full overflow-hidden border-2 border-[#f49221]",children:E.jsx("img",{src:((at=zi.find(nt=>nt.id===m[F]))==null?void 0:at.image)||"",alt:F,className:"w-full h-full object-cover"})}),E.jsx("input",{required:!0,className:"flex-1 px-6 py-4 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none text-black placeholder-gray-400 font-bold",placeholder:`Friend ${rt+1}`,value:F,onChange:nt=>{const C=[...u];C[rt]=nt.target.value,c(C)}})]}),F.trim()&&E.jsx("button",{type:"button",onClick:()=>v(F),className:"ml-2 text-xs text-[#f49221] font-bold hover:underline",children:m[F]?" Change Avatar":"+ Add Avatar (Optional)"})]},rt)})]}),E.jsx("button",{type:"button",onClick:()=>c([...u,""]),className:"text-xs text-[#f49221] font-bold uppercase tracking-wider hover:underline ml-1",children:"+ Add Participant"}),E.jsxs("div",{className:"pt-8 flex flex-col gap-4",children:[E.jsx("button",{type:"submit",disabled:N,className:"w-full py-5 bg-[#f49221] text-white rounded-2xl font-bold shadow-xl shadow-[#f49221]/20 uppercase tracking-widest disabled:opacity-50",children:N?"Creating Trip...":"Launch Trip"}),E.jsx("button",{type:"button",onClick:()=>i("selection"),disabled:N,className:"w-full py-4 px-4 border-2 border-black rounded-2xl font-bold text-black uppercase tracking-widest text-xs disabled:opacity-50",children:"Back"})]})]})]}),g&&E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 border-2 border-[#f49221]",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-black",children:"Choose Avatar"}),E.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:zi.map(F=>E.jsx("button",{type:"button",onClick:()=>{p({...m,[g]:F.id}),v(null)},className:"w-full aspect-square rounded-2xl overflow-hidden hover:scale-110 transition-all border-2 border-transparent hover:border-[#f49221]",children:E.jsx("img",{src:F.image,alt:"avatar",className:"w-full h-full object-cover"})},F.id))}),E.jsx("button",{onClick:()=>v(null),className:"w-full py-3 bg-gray-100 text-black rounded-xl font-bold hover:bg-gray-200",children:"Cancel"})]})})]}):t==="join"?E.jsxs("div",{className:"max-w-md mx-auto p-10 bg-white rounded-[2.5rem] shadow-2xl mt-12 border-4 border-black text-center",children:[E.jsx("h2",{className:"text-3xl font-bold mb-8 text-black font-pt uppercase",children:"Join Trip"}),E.jsx("input",{className:"w-full px-6 py-5 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none mb-8 text-center font-mono text-xl text-black placeholder-gray-400",placeholder:"PASTE TRIP ID",value:b,onChange:F=>x(F.target.value)}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx("button",{onClick:()=>b&&n(b),className:"w-full py-5 bg-black text-white rounded-2xl font-bold shadow-xl uppercase tracking-widest",children:"Connect"}),E.jsx("button",{onClick:()=>i("selection"),className:"w-full py-4 font-bold text-gray-400 uppercase tracking-widest text-xs",children:"Cancel"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"max-w-md mx-auto mt-20 text-center p-12 bg-white rounded-[3.5rem] shadow-2xl border-2 border-gray-50",children:[E.jsx("div",{className:"w-28 h-28 bg-[#f49221] rounded-[2.5rem] flex items-center justify-center mx-auto mb-10 shadow-2xl shadow-[#f49221]/40 -rotate-3 border-4 border-white",children:E.jsx("svg",{className:"w-14 h-14 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),E.jsx("h1",{className:"text-5xl font-bold text-black mb-3 font-pt tracking-tighter uppercase",children:"Manas Split"}),E.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-[0.2em] text-[10px] mb-14",children:"Simplified Group Finance"}),E.jsxs("div",{className:"space-y-5",children:[E.jsx("button",{onClick:()=>i("create"),className:"w-full py-6 bg-[#f49221] text-white rounded-2xl font-bold hover:scale-[1.02] transition-all shadow-2xl shadow-[#f49221]/30 flex items-center justify-center gap-3 uppercase tracking-widest",children:"New Expedition"}),E.jsx("button",{onClick:()=>i("join"),className:"w-full py-6 bg-black text-white rounded-2xl font-bold hover:scale-[1.02] transition-all flex items-center justify-center gap-3 uppercase tracking-widest",children:"Connect to Trip"})]})]}),g&&E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 border-2 border-[#f49221]",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-black",children:"Choose Avatar"}),E.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:zi.map(F=>E.jsx("button",{type:"button",onClick:()=>{p({...m,[g]:F.id}),v(null)},className:"w-full aspect-square rounded-2xl overflow-hidden hover:scale-110 transition-all border-2 border-transparent hover:border-[#f49221]",children:E.jsx("img",{src:F.image,alt:"avatar",className:"w-full h-full object-cover"})},F.id))}),E.jsx("button",{onClick:()=>v(null),className:"w-full py-3 bg-gray-100 text-black rounded-xl font-bold hover:bg-gray-200",children:"Cancel"})]})})]})},TD=({tripId:n,participants:t,trip:i,onClose:r})=>{const o=(R,M="sm")=>{var Tt;const O=M==="sm"?"w-5 h-5 text-[8px]":"w-6 h-6 text-[10px]",V=M==="sm"?"border":"border-2";if((Tt=i==null?void 0:i.memberAvatars)!=null&&Tt[R]){const kt=zi.find(X=>X.id===i.memberAvatars[R]);if(kt)return E.jsx("img",{src:kt.image,alt:R,className:`${O} rounded-full object-cover ${V} border-white flex-shrink-0`,onError:X=>{X.currentTarget.style.display="none"}})}const D=R.split(" ").map(kt=>kt[0]).join("").toUpperCase().slice(0,2);return E.jsx("div",{className:`${O} rounded-full bg-[#f49221]/20 flex items-center justify-center font-bold text-[#f49221] flex-shrink-0`,children:D})},[u,c]=ot.useState(""),[m,p]=ot.useState(""),[g,v]=ot.useState(""),[b,x]=ot.useState([]),[N,L]=ot.useState("fair"),[k,B]=ot.useState({}),[G,tt]=ot.useState("UPI"),[F,rt]=ot.useState(!1),at=ot.useMemo(()=>{if(N==="custom")return 0;const R=parseFloat(m);return isNaN(R)||b.length===0?0:R/b.length},[m,b,N]),nt=ot.useMemo(()=>Object.values(k).reduce((R,M)=>R+(parseFloat(M)||0),0),[k]),C=ot.useMemo(()=>{const R=parseFloat(m);return isNaN(R)||N!=="custom"?{valid:!0,message:""}:Math.abs(nt-R)>.01?{valid:!1,message:`Custom amounts (${nt.toFixed(2)}) don't match total (${R})`}:{valid:!0,message:" Custom amounts match total"}},[nt,m,N]),w=async R=>{if(R.preventDefault(),!u||!m||!g||b.length===0)return alert("Please fill all required fields.");const M=parseFloat(m);if(isNaN(M)||M<=0)return alert("Please enter a valid amount greater than 0.");if(N==="custom"&&!C.valid)return alert(C.message);rt(!0);try{const O={title:u,amount:M,paidBy:g,splitBetween:b,perPersonAmount:at,splitType:N,paymentMethod:G};N==="custom"&&(O.customSplits=Object.fromEntries(Object.entries(k).map(([V,D])=>[V,parseFloat(D)||0]))),await pD(n,O),r()}catch(O){console.error("Error creating expense:",O),alert("Failed to save transaction. Check your backend/permissions.")}finally{rt(!1)}};return E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:E.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl p-10 border-4 border-[#f49221]",children:[E.jsxs("div",{className:"flex justify-between items-center mb-10",children:[E.jsx("h2",{className:"text-3xl font-bold text-black font-pt uppercase tracking-tight",children:"Add Transaction"}),E.jsx("button",{onClick:r,className:"p-3 hover:bg-gray-100 rounded-2xl transition-all",children:E.jsx("svg",{className:"w-6 h-6 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("form",{onSubmit:w,className:"space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Expense Item"}),E.jsx("input",{type:"text",placeholder:"e.g. Flight Tickets",className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none font-bold text-black",value:u,onChange:R=>c(R.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Amount ()"}),E.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none font-bold text-black",value:m,onChange:R=>p(R.target.value)})]})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Who Paid?"}),E.jsxs("select",{className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none bg-white font-bold text-black",value:g,onChange:R=>v(R.target.value),children:[E.jsx("option",{value:"",children:"Select Member"}),t.map(R=>E.jsx("option",{value:R,children:R},R))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Payment Channel"}),E.jsx("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl",children:["UPI","Cash"].map(R=>E.jsx("button",{type:"button",onClick:()=>tt(R),className:`flex-1 py-3 text-xs rounded-xl font-bold transition-all uppercase tracking-widest ${G===R?"bg-white shadow-xl text-[#f49221]":"text-gray-400"}`,children:R},R))})]})]}),E.jsx("div",{children:E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Split Type"}),E.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-xl",children:[E.jsx("button",{type:"button",onClick:()=>L("fair"),className:`px-4 py-2 text-[10px] rounded-lg font-bold transition-all uppercase tracking-widest ${N==="fair"?"bg-white shadow-lg text-[#f49221]":"text-gray-400"}`,children:"Fair Split"}),E.jsx("button",{type:"button",onClick:()=>L("custom"),className:`px-4 py-2 text-[10px] rounded-lg font-bold transition-all uppercase tracking-widest ${N==="custom"?"bg-white shadow-lg text-[#f49221]":"text-gray-400"}`,children:"Custom Split"})]})]})}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-end mb-3 ml-1",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Distributed Among"}),E.jsx("button",{type:"button",onClick:()=>x([...t]),className:"text-[10px] font-bold text-[#f49221] uppercase tracking-widest",children:"Select Everyone"})]}),E.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-40 overflow-y-auto pr-2 custom-scrollbar",children:t.map(R=>E.jsxs("label",{className:`flex items-center gap-2 p-4 rounded-2xl border-2 cursor-pointer transition-all ${b.includes(R)?"bg-[#f49221]/10 border-[#f49221]":"bg-white border-gray-100"}`,children:[E.jsx("input",{type:"checkbox",className:"hidden",checked:b.includes(R),onChange:()=>x(M=>M.includes(R)?M.filter(O=>O!==R):[...M,R])}),o(R,"sm"),E.jsx("span",{className:`text-xs font-black uppercase tracking-tight ${b.includes(R)?"text-black":"text-gray-400"}`,children:R})]},R))})]}),N==="custom"&&b.length>0&&E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 block ml-1",children:"Custom Amounts Per Person"}),E.jsx("div",{className:"space-y-3 max-h-52 overflow-y-auto pr-2",children:b.map(R=>E.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl",children:[o(R,"md"),E.jsx("span",{className:"text-sm font-bold text-black flex-1",children:R}),E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:E.jsx(ln,{})}),E.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-28 pl-8 pr-3 py-2 rounded-lg border-2 border-gray-200 focus:border-[#f49221] outline-none font-bold text-sm text-black",value:k[R]||"",onChange:M=>B({...k,[R]:M.target.value})})]})]},R))}),E.jsx("div",{className:`mt-3 p-3 rounded-xl text-xs font-bold ${C.valid?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:C.message||`Total: ${nt.toFixed(2)} / ${m||"0"}`})]}),E.jsx("button",{type:"submit",disabled:F,className:"w-full bg-[#f49221] text-white font-bold py-6 rounded-2xl shadow-2xl shadow-[#f49221]/40 transition-all uppercase tracking-[0.2em] disabled:opacity-50 text-sm",children:F?"Processing...":"Secure Transaction"})]})]})})},ED=({expenses:n,trip:t})=>{const[i,r]=ot.useState(null),o=u=>{var p;const c=(p=t==null?void 0:t.memberAvatars)==null?void 0:p[u],m=zi.find(g=>g.id===c);return m!=null&&m.image?E.jsx("img",{src:m.image,alt:u,className:"w-6 h-6 rounded-full object-cover"}):E.jsx("div",{className:"w-6 h-6 bg-[#f49221]/30 rounded-full flex items-center justify-center text-[#f49221] font-bold text-xs",children:u[0]})};return E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-3xl overflow-hidden shadow-2xl shadow-[#f49221]/10",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left text-sm",children:[E.jsx("thead",{className:"bg-gradient-to-r from-[#f49221] to-[#e58515] text-white backdrop-blur-xl",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Description"}),E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Value"}),E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Paid By"}),E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Split"}),E.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Proof"})]})}),E.jsx("tbody",{className:"divide-y divide-white/5",children:n.map(u=>E.jsxs("tr",{className:"hover:bg-white/10 transition-all border-l-4 border-transparent hover:border-[#f49221] backdrop-blur-sm group",children:[E.jsxs("td",{className:"px-6 py-5",children:[E.jsx("div",{className:"font-bold text-white text-base",children:u.title}),E.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(u.createdAt).toLocaleDateString()})]}),E.jsxs("td",{className:"px-6 py-5 font-bold text-lg text-white",children:[E.jsx(ln,{className:"mr-1"}),u.amount.toFixed(2)]}),E.jsx("td",{className:"px-6 py-5",children:E.jsxs("div",{className:"flex items-center gap-2",children:[o(u.paidBy),E.jsxs("div",{children:[E.jsx("div",{className:"text-gray-300 font-medium",children:u.paidBy}),E.jsxs("div",{className:"text-xs text-gray-600",children:["(",u.paymentMethod,")"]})]})]})}),E.jsxs("td",{className:"px-6 py-5",children:[E.jsxs("div",{className:"text-gray-300 font-medium text-sm",children:[u.splitBetween.length," person",u.splitBetween.length!==1?"s":""]}),u.splitType==="custom"?E.jsx("div",{className:"text-xs text-purple-400 font-bold mt-1",children:"CUSTOM SPLIT"}):E.jsxs("div",{className:"text-xs text-[#f49221] font-bold mt-1",children:[E.jsx(ln,{}),u.perPersonAmount.toFixed(2)," each"]})]}),E.jsx("td",{className:"px-6 py-5",children:u.proofImageUrl?E.jsx("button",{onClick:()=>r(u.proofImageUrl),className:"bg-[#f49221] hover:bg-[#e58515] text-white px-4 py-2 rounded-lg text-xs font-medium transition-colors",children:"View"}):E.jsx("span",{className:"text-gray-600 text-xs",children:"No proof"})})]},u.id))})]})})}),i&&E.jsx("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center p-6 z-[60] backdrop-blur-xl",onClick:()=>r(null),children:E.jsxs("div",{className:"relative max-w-4xl w-full flex flex-col items-center",children:[E.jsx("button",{className:"absolute -top-16 right-0 text-white hover:text-[#f49221] transition-colors p-4",children:E.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("img",{src:i,alt:"Payment Proof",className:"max-h-[80vh] object-contain rounded-3xl shadow-[0_0_100px_rgba(244,146,33,0.3)] border-4 border-white"})]})})]})},xD=({balances:n,tripId:t,trackedSettlements:i,participants:r,trip:o})=>{const[u,c]=ot.useState(null),[m,p]=ot.useState(!1),[g,v]=ot.useState(""),[b,x]=ot.useState(""),[N,L]=ot.useState(""),[k,B]=ot.useState(!1),[G,tt]=ot.useState(null),F=ot.useMemo(()=>{const V=n.filter(st=>st.net<0).map(st=>({name:st.name,amount:Math.abs(st.net)})),D=n.filter(st=>st.net>0).map(st=>({name:st.name,amount:st.net})),Tt=[];let kt=0,X=0;for(;kt<V.length&&X<D.length;){const st=V[kt],ct=D[X],Et=Math.min(st.amount,ct.amount);Et>.01&&Tt.push({from:st.name,to:ct.name,amount:Et}),st.amount-=Et,ct.amount-=Et,st.amount<.01&&(kt+=1),ct.amount<.01&&(X+=1)}return Tt},[n]),rt=i.filter(V=>!V.isPaid),at=i.filter(V=>V.isPaid),nt=V=>{var kt;const D=(kt=o==null?void 0:o.memberAvatars)==null?void 0:kt[V],Tt=zi.find(X=>X.id===D);return Tt!=null&&Tt.image?E.jsx("img",{src:Tt.image,alt:V,className:"w-10 h-10 rounded-lg object-cover"}):E.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:V[0]})},C=async V=>{const D=`${V.from}-${V.to}`;c(D);try{await Qb(t,V.from,V.to,V.amount)}catch(Tt){console.error("Error creating settlement",Tt),alert("Failed to track this payment.")}finally{c(null)}},w=async(V,D)=>{tt(V);try{await gD(V,D)}catch(Tt){console.error("Error updating paid status",Tt),alert("Failed to update status.")}finally{tt(null)}},R=async V=>{try{await yD(V)}catch(D){console.error("Error moving payment back to suggested",D),alert("Failed to move payment back.")}},M=async V=>{V.preventDefault();const D=parseFloat(N);if(!g||!b||Number.isNaN(D)||D<=0){alert("Please fill all fields with a valid amount.");return}if(g===b){alert("Payer and receiver cannot be the same.");return}B(!0);try{await Qb(t,g,b,D),p(!1),v(""),x(""),L("")}catch(Tt){console.error("Error creating custom settlement",Tt),alert("Failed to record payment.")}finally{B(!1)}};return F.length===0&&rt.length===0&&at.length===0?E.jsxs("div",{className:"mt-8 bg-gradient-to-br from-green-900 to-green-950 rounded-3xl p-8 text-center border-2 border-green-700",children:[E.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),E.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"All Settled!"}),E.jsx("p",{className:"text-green-300 text-sm",children:"Everyone is balanced. No payments needed."})]}):E.jsxs("div",{className:"mt-8 space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h3",{className:"text-white text-2xl font-bold",children:"Settlements"}),E.jsxs("button",{onClick:()=>p(V=>!V),className:"bg-[#f49221] hover:bg-[#e58515] text-white px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 transition-colors",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v12M6 12h12"})}),"Record Payment"]})]}),m&&E.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-[#f49221] rounded-2xl p-6 shadow-2xl shadow-[#f49221]/20",children:[E.jsx("h4",{className:"text-white font-bold text-lg mb-4",children:"Record a Payment"}),E.jsxs("form",{onSubmit:M,className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Who Paid"}),E.jsxs("select",{value:g,onChange:V=>v(V.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0,children:[E.jsx("option",{value:"",children:"Select person"}),r.map(V=>E.jsx("option",{value:V,children:V},V))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Paid To"}),E.jsxs("select",{value:b,onChange:V=>x(V.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0,children:[E.jsx("option",{value:"",children:"Select person"}),r.map(V=>E.jsx("option",{value:V,children:V},V))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Amount ()"}),E.jsx("input",{type:"number",step:"0.01",min:"0.01",value:N,onChange:V=>L(V.target.value),placeholder:"0.00",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0})]})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{type:"submit",disabled:k,className:"bg-[#f49221] hover:bg-[#e58515] text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 flex-1",children:k?"Saving...":"Save Payment"}),E.jsx("button",{type:"button",onClick:()=>p(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]}),rt.length>0&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-white text-xl font-bold",children:"Tracked Payments"}),E.jsxs("span",{className:"bg-red-900 text-red-200 text-xs font-bold px-3 py-1 rounded-full",children:[rt.length," Pending"]})]}),E.jsx("div",{className:"space-y-3",children:rt.map(V=>E.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-5 border-2 border-red-800",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[nt(V.from),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-white font-bold",children:V.from}),E.jsx("div",{className:"text-red-300 text-xs",children:"should pay"})]})]}),E.jsx("div",{className:"px-6",children:E.jsx("svg",{className:"w-8 h-8 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[E.jsxs("div",{className:"flex-1 text-right",children:[E.jsx("div",{className:"text-white font-bold",children:V.to}),E.jsx("div",{className:"text-red-300 text-xs",children:"receives"})]}),nt(V.to)]}),E.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[E.jsxs("div",{className:"bg-[#f49221] text-white font-bold px-4 py-2 rounded-xl text-lg",children:[E.jsx(ln,{className:"mr-1"}),V.amount.toFixed(2)]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("button",{onClick:()=>w(V.id,!0),disabled:G===V.id,className:"w-24 h-9 rounded-full flex items-center px-1 transition-all bg-red-700 text-white text-xs font-bold justify-between",title:"Mark as paid",children:[E.jsx("span",{className:"ml-2",children:"Unpaid"}),E.jsx("span",{className:"w-6 h-6 bg-white rounded-full shadow"})]}),E.jsx("button",{onClick:()=>R(V.id),className:"px-3 py-2 rounded-lg text-xs font-bold bg-gray-700 text-white hover:bg-gray-600 transition-colors",title:"Move back to suggested",children:"Move to Suggested"})]})]})]})},V.id))})]}),F.length>0&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-white text-xl font-bold",children:"Suggested Settlements"}),E.jsxs("span",{className:"bg-[#f49221] text-white text-xs font-bold px-3 py-1 rounded-full",children:[F.length," Suggested"]})]}),E.jsx("div",{className:"space-y-3",children:F.map((V,D)=>{const Tt=`${V.from}-${V.to}`;return rt.some(X=>X.from===V.from&&X.to===V.to&&Math.abs(X.amount-V.amount)<.01)?null:E.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-5 border-2 border-[#f49221]/30 hover:border-[#f49221] transition-all hover:shadow-xl hover:shadow-[#f49221]/20",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[nt(V.from),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-white font-bold",children:V.from}),E.jsx("div",{className:"text-gray-400 text-xs",children:"should pay"})]})]}),E.jsx("div",{className:"px-6",children:E.jsx("svg",{className:"w-8 h-8 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[E.jsxs("div",{className:"flex-1 text-right",children:[E.jsx("div",{className:"text-white font-bold",children:V.to}),E.jsx("div",{className:"text-gray-400 text-xs",children:"receives"})]}),nt(V.to)]}),E.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[E.jsxs("div",{className:"bg-[#f49221] text-white font-bold px-4 py-2 rounded-xl text-lg",children:[E.jsx(ln,{className:"mr-1"}),V.amount.toFixed(2)]}),E.jsx("button",{onClick:()=>C(V),disabled:u===Tt,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-xl font-bold text-sm transition-colors disabled:opacity-50",title:"Track this payment",children:u===Tt?"Adding...":"Track"})]})]})},Tt||D)})})]}),at.length>0&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-white text-xl font-bold",children:"Completed Payments"}),E.jsxs("span",{className:"bg-green-900 text-green-300 text-xs font-bold px-3 py-1 rounded-full",children:[at.length," Completed"]})]}),E.jsx("div",{className:"space-y-3",children:at.map(V=>E.jsx("div",{className:"bg-gradient-to-r from-green-950 to-green-900 rounded-2xl p-5 border-2 border-green-800 opacity-80",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[nt(V.from),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-white font-bold",children:V.from}),E.jsx("div",{className:"text-green-300 text-xs",children:"paid"})]})]}),E.jsx("div",{className:"px-6",children:E.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),E.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[E.jsxs("div",{className:"flex-1 text-right",children:[E.jsx("div",{className:"text-white font-bold",children:V.to}),E.jsx("div",{className:"text-green-300 text-xs",children:"received"})]}),nt(V.to)]}),E.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[E.jsxs("div",{className:"bg-green-700 text-white font-bold px-4 py-2 rounded-xl text-lg",children:[E.jsx(ln,{className:"mr-1"}),V.amount.toFixed(2)]}),E.jsxs("button",{onClick:()=>w(V.id,!1),disabled:G===V.id,className:"w-24 h-9 rounded-full flex items-center px-1 transition-all bg-green-700 text-white text-xs font-bold justify-between",title:"Mark as unpaid",children:[E.jsx("span",{className:"ml-2",children:"Paid"}),E.jsx("span",{className:"w-6 h-6 bg-white rounded-full shadow"})]})]})]})},V.id))})]})]})},AD=({person:n,balances:t,expenses:i,trip:r,onClose:o})=>{var b;const u=t.find(x=>x.name===n),m=(()=>{const x=t.filter(G=>G.net<0).map(G=>({name:G.name,amount:Math.abs(G.net)})),N=t.filter(G=>G.net>0).map(G=>({name:G.name,amount:G.net})),L=[];let k=0,B=0;for(;k<x.length&&B<N.length;){const G=x[k],tt=N[B],F=Math.min(G.amount,tt.amount);F>.01&&L.push({from:G.name,to:tt.name,amount:F}),G.amount-=F,tt.amount-=F,G.amount<.01&&k++,tt.amount<.01&&B++}return L.filter(G=>G.from===n||G.to===n)})(),p=m.filter(x=>x.from===n),g=m.filter(x=>x.to===n),v=i.filter(x=>x.paidBy===n||x.splitBetween.includes(n));return E.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center p-4 z-50 overflow-y-auto",children:E.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-3xl shadow-2xl w-full max-w-4xl border-4 border-[#f49221] relative",children:[E.jsx("div",{className:"bg-gradient-to-r from-[#f49221] to-[#e58515] p-8 rounded-t-3xl",children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[r.memberAvatars&&r.memberAvatars[n]?E.jsx("img",{src:((b=zi.find(x=>x.id===r.memberAvatars[n]))==null?void 0:b.image)||"",alt:n,className:"w-16 h-16 rounded-full object-cover border-4 border-white shadow-lg"}):E.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center text-[#f49221] font-bold text-2xl border-4 border-white shadow-lg",children:n[0]}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-white",children:n}),E.jsx("p",{className:"text-white/80 text-sm",children:"Payment Dashboard"})]})]}),E.jsx("button",{onClick:o,className:"p-3 hover:bg-white/20 rounded-2xl transition-all",children:E.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),E.jsx("div",{className:"p-8 border-b border-gray-700",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-gradient-to-br from-blue-900/50 to-blue-800/50 rounded-2xl p-6 border border-blue-700/50",children:[E.jsx("div",{className:"text-blue-300 text-xs font-bold uppercase tracking-widest mb-2",children:"Total Paid"}),E.jsxs("div",{className:"text-4xl font-black text-white",children:[E.jsx(ln,{className:"mr-2"}),u==null?void 0:u.paid.toFixed(2)]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-purple-900/50 to-purple-800/50 rounded-2xl p-6 border border-purple-700/50",children:[E.jsx("div",{className:"text-purple-300 text-xs font-bold uppercase tracking-widest mb-2",children:"Fair Share"}),E.jsxs("div",{className:"text-4xl font-black text-white",children:[E.jsx(ln,{className:"mr-2"}),u==null?void 0:u.owed.toFixed(2)]})]}),E.jsxs("div",{className:`bg-gradient-to-br ${u&&u.net<0?"from-red-900/50 to-red-800/50 border-red-700/50":u&&u.net>0?"from-green-900/50 to-green-800/50 border-green-700/50":"from-gray-700/50 to-gray-600/50 border-gray-600/50"} rounded-2xl p-6 border`,children:[E.jsx("div",{className:`text-xs font-bold uppercase tracking-widest mb-2 ${u&&u.net<0?"text-red-300":u&&u.net>0?"text-green-300":"text-gray-400"}`,children:u&&u.net<0?"You Owe":u&&u.net>0?"You Get Back":"Status"}),E.jsx("div",{className:`text-4xl font-black ${u&&u.net<0?"text-red-400":u&&u.net>0?"text-green-400":"text-gray-400"}`,children:u&&Math.abs(u.net)>.01?E.jsxs(E.Fragment,{children:[E.jsx(ln,{className:"mr-2"}),Math.abs(u.net).toFixed(2)]}):"Settled"})]})]})}),E.jsxs("div",{className:"p-8 space-y-6 max-h-[60vh] overflow-y-auto",children:[p.length>0&&E.jsxs("div",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"You Should Pay"]}),E.jsx("div",{className:"space-y-3",children:p.map((x,N)=>{var L;return E.jsx("div",{className:"bg-gradient-to-r from-red-950/50 to-gray-800/50 rounded-2xl p-5 border-2 border-red-700/50 hover:border-red-500/70 transition-all",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"bg-red-500/20 p-3 rounded-xl",children:E.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),E.jsxs("div",{className:"flex items-center gap-3",children:[r.memberAvatars&&r.memberAvatars[x.to]?E.jsx("img",{src:((L=zi.find(k=>k.id===r.memberAvatars[x.to]))==null?void 0:L.image)||"",alt:x.to,className:"w-10 h-10 rounded-full object-cover border-2 border-green-500/50"}):E.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center text-green-400 font-bold border-2 border-green-500/50",children:x.to[0]}),E.jsxs("div",{children:[E.jsxs("div",{className:"text-white font-bold text-lg",children:["Pay ",x.to]}),E.jsx("div",{className:"text-red-300 text-xs",children:"Settlement Required"})]})]})]}),E.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white font-black px-6 py-3 rounded-xl text-2xl shadow-lg",children:[E.jsx(ln,{className:"mr-2"}),x.amount.toFixed(2)]})]})},N)})})]}),g.length>0&&E.jsxs("div",{children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"You Should Receive"]}),E.jsx("div",{className:"space-y-3",children:g.map((x,N)=>{var L;return E.jsx("div",{className:"bg-gradient-to-r from-green-950/50 to-gray-800/50 rounded-2xl p-5 border-2 border-green-700/50 hover:border-green-500/70 transition-all",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"bg-green-500/20 p-3 rounded-xl",children:E.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})})}),E.jsxs("div",{className:"flex items-center gap-3",children:[r.memberAvatars&&r.memberAvatars[x.from]?E.jsx("img",{src:((L=zi.find(k=>k.id===r.memberAvatars[x.from]))==null?void 0:L.image)||"",alt:x.from,className:"w-10 h-10 rounded-full object-cover border-2 border-red-500/50"}):E.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center text-red-400 font-bold border-2 border-red-500/50",children:x.from[0]}),E.jsxs("div",{children:[E.jsxs("div",{className:"text-white font-bold text-lg",children:["From ",x.from]}),E.jsx("div",{className:"text-green-300 text-xs",children:"Pending Payment"})]})]})]}),E.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white font-black px-6 py-3 rounded-xl text-2xl shadow-lg",children:[E.jsx(ln,{className:"mr-2"}),x.amount.toFixed(2)]})]})},N)})})]}),p.length===0&&g.length===0&&E.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-2xl p-8 text-center border-2 border-green-700/50",children:[E.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),E.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"All Settled!"}),E.jsx("p",{className:"text-green-300 text-sm",children:"You're all balanced. No payments needed."})]}),v.length>0&&E.jsxs("div",{className:"mt-8",children:[E.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 bg-[#f49221] rounded-full"}),"Your Expense Activity"]}),E.jsx("div",{className:"bg-gray-800/50 rounded-2xl border border-gray-700 overflow-hidden",children:E.jsx("div",{className:"divide-y divide-gray-700",children:v.slice(0,10).map((x,N)=>E.jsx("div",{className:"p-4 hover:bg-gray-700/30 transition-colors",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("span",{className:"text-white font-bold",children:x.title}),x.paidBy===n&&E.jsx("span",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-0.5 rounded font-bold",children:"You Paid"}),x.splitBetween.includes(n)&&x.paidBy!==n&&E.jsx("span",{className:"bg-purple-500/20 text-purple-300 text-xs px-2 py-0.5 rounded font-bold",children:"You Split"})]}),E.jsxs("div",{className:"text-gray-400 text-xs",children:[new Date(x.createdAt).toLocaleDateString(),"  Paid by ",x.paidBy]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"text-white font-bold",children:[E.jsx(ln,{className:"mr-1"}),x.amount.toFixed(2)]}),x.splitBetween.includes(n)&&E.jsxs("div",{className:"text-[#f49221] text-xs font-bold",children:["Your share: ",E.jsx(ln,{className:"mr-1"}),(x.splitType==="custom"&&x.customSplits&&x.customSplits[n]?x.customSplits[n]:x.perPersonAmount).toFixed(2)]})]})]})},N))})}),v.length>10&&E.jsxs("p",{className:"text-gray-400 text-xs text-center mt-2",children:["Showing 10 of ",v.length," expenses"]})]})]}),E.jsx("div",{className:"p-6 bg-gray-900/50 rounded-b-3xl border-t border-gray-700",children:E.jsx("button",{onClick:o,className:"w-full bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white font-bold py-4 rounded-xl transition-all shadow-lg hover:shadow-xl",children:"Close"})})]})})},px=ot.createContext({});function gx(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ag=typeof window<"u",yx=Ag?ot.useLayoutEffect:ot.useEffect,Sg=ot.createContext(null);function wg(n,t){n.indexOf(t)===-1&&n.push(t)}function Rg(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Yi=(n,t,i)=>i>t?t:i<n?n:i;let lu=()=>{};const ys={},vx=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function _x(n){return typeof n=="object"&&n!==null}const bx=n=>/^0[^.\s]+$/u.test(n);function Cg(n){let t;return()=>(t===void 0&&(t=n()),t)}const bn=n=>n,SD=(n,t)=>i=>t(n(i)),bu=(...n)=>n.reduce(SD),To=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Ng{constructor(){this.subscriptions=[]}add(t){return wg(this.subscriptions,t),()=>Rg(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fi=n=>n*1e3,Yn=n=>n/1e3;function Dg(n,t){return t?n*(1e3/t):0}const Tx=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,wD=1e-7,RD=12;function CD(n,t,i,r,o){let u,c,m=0;do c=t+(i-t)/2,u=Tx(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>wD&&++m<RD);return c}function Tu(n,t,i,r){if(n===t&&i===r)return bn;const o=u=>CD(u,0,1,n,i);return u=>u===0||u===1?u:Tx(o(u),t,r)}const Ex=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,xx=n=>t=>1-n(1-t),Ax=Tu(.33,1.53,.69,.99),Vg=xx(Ax),Sx=Ex(Vg),wx=n=>(n*=2)<1?.5*Vg(n):.5*(2-Math.pow(2,-10*(n-1))),Mg=n=>1-Math.sin(Math.acos(n)),Rx=xx(Mg),Cx=Ex(Mg),ND=Tu(.42,0,1,1),DD=Tu(0,0,.58,1),Nx=Tu(.42,0,.58,1),VD=n=>Array.isArray(n)&&typeof n[0]!="number",Dx=n=>Array.isArray(n)&&typeof n[0]=="number",MD={linear:bn,easeIn:ND,easeInOut:Nx,easeOut:DD,circIn:Mg,circInOut:Cx,circOut:Rx,backIn:Vg,backInOut:Sx,backOut:Ax,anticipate:wx},ID=n=>typeof n=="string",Xb=n=>{if(Dx(n)){lu(n.length===4);const[t,i,r,o]=n;return Tu(t,i,r,o)}else if(ID(n))return MD[n];return n},rh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function OD(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(m)}const g={schedule:(v,b=!1,x=!1)=>{const L=x&&o?i:r;return b&&c.add(v),L.has(v)||L.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const jD=40;function Vx(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=rh.reduce((F,rt)=>(F[rt]=OD(u),F),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:b,preRender:x,render:N,postRender:L}=c,k=()=>{const F=ys.useManualTiming?o.timestamp:performance.now();i=!1,ys.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(F-o.timestamp,jD),1)),o.timestamp=F,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),b.process(o),x.process(o),N.process(o),L.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(k))},B=()=>{i=!0,r=!0,o.isProcessing||n(k)};return{schedule:rh.reduce((F,rt)=>{const at=c[rt];return F[rt]=(nt,C=!1,w=!1)=>(i||B(),at.schedule(nt,C,w)),F},{}),cancel:F=>{for(let rt=0;rt<rh.length;rt++)c[rh[rt]].cancel(F)},state:o,steps:c}}const{schedule:ee,cancel:Ki,state:Fe,steps:Rm}=Vx(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0);let ph;function PD(){ph=void 0}const _n={now:()=>(ph===void 0&&_n.set(Fe.isProcessing||ys.useManualTiming?Fe.timestamp:performance.now()),ph),set:n=>{ph=n,queueMicrotask(PD)}},Mx=n=>t=>typeof t=="string"&&t.startsWith(n),Ix=Mx("--"),LD=Mx("var(--"),Ig=n=>LD(n)?kD.test(n.split("/*")[0].trim()):!1,kD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Co={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},uu={...Co,transform:n=>Yi(0,1,n)},ah={...Co,default:1},$l=n=>Math.round(n*1e5)/1e5,Og=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UD(n){return n==null}const BD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jg=(n,t)=>i=>!!(typeof i=="string"&&BD.test(i)&&i.startsWith(n)||t&&!UD(i)&&Object.prototype.hasOwnProperty.call(i,t)),Ox=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Og);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},zD=n=>Yi(0,255,n),Cm={...Co,transform:n=>Math.round(zD(n))},Wr={test:jg("rgb","red"),parse:Ox("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+Cm.transform(n)+", "+Cm.transform(t)+", "+Cm.transform(i)+", "+$l(uu.transform(r))+")"};function FD(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const dp={test:jg("#"),parse:FD,transform:Wr.transform},Eu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ws=Eu("deg"),qi=Eu("%"),mt=Eu("px"),qD=Eu("vh"),HD=Eu("vw"),$b={...qi,parse:n=>qi.parse(n)/100,transform:n=>qi.transform(n*100)},ro={test:jg("hsl","hue"),parse:Ox("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+qi.transform($l(t))+", "+qi.transform($l(i))+", "+$l(uu.transform(r))+")"},De={test:n=>Wr.test(n)||dp.test(n)||ro.test(n),parse:n=>Wr.test(n)?Wr.parse(n):ro.test(n)?ro.parse(n):dp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Wr.transform(n):ro.transform(n),getAnimatableNone:n=>{const t=De.parse(n);return t.alpha=0,De.transform(t)}},GD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YD(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Og))==null?void 0:t.length)||0)+(((i=n.match(GD))==null?void 0:i.length)||0)>0}const jx="number",Px="color",KD="var",QD="var(",Zb="${}",XD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(XD,p=>(De.test(p)?(r.color.push(u),o.push(Px),i.push(De.parse(p))):p.startsWith(QD)?(r.var.push(u),o.push(KD),i.push(p)):(r.number.push(u),o.push(jx),i.push(parseFloat(p))),++u,Zb)).split(Zb);return{values:i,split:m,indexes:r,types:o}}function Lx(n){return cu(n).values}function kx(n){const{split:t,types:i}=cu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=i[c];m===jx?u+=$l(o[c]):m===Px?u+=De.transform(o[c]):u+=o[c]}return u}}const $D=n=>typeof n=="number"?0:De.test(n)?De.getAnimatableNone(n):n;function ZD(n){const t=Lx(n);return kx(n)(t.map($D))}const dr={test:YD,parse:Lx,createTransformer:kx,getAnimatableNone:ZD};function Nm(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function WD({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const m=i<.5?i*(1+t):i+t-i*t,p=2*i-m;o=Nm(p,m,n+1/3),u=Nm(p,m,n),c=Nm(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function kh(n,t){return i=>i>0?t:n}const ce=(n,t,i)=>n+(t-n)*i,Dm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},JD=[dp,Wr,ro],tV=n=>JD.find(t=>t.test(n));function Wb(n){const t=tV(n);if(!t)return!1;let i=t.parse(n);return t===ro&&(i=WD(i)),i}const Jb=(n,t)=>{const i=Wb(n),r=Wb(t);if(!i||!r)return kh(n,t);const o={...i};return u=>(o.red=Dm(i.red,r.red,u),o.green=Dm(i.green,r.green,u),o.blue=Dm(i.blue,r.blue,u),o.alpha=ce(i.alpha,r.alpha,u),Wr.transform(o))},mp=new Set(["none","hidden"]);function eV(n,t){return mp.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function nV(n,t){return i=>ce(n,t,i)}function Pg(n){return typeof n=="number"?nV:typeof n=="string"?Ig(n)?kh:De.test(n)?Jb:rV:Array.isArray(n)?Ux:typeof n=="object"?De.test(n)?Jb:iV:kh}function Ux(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>Pg(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function iV(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Pg(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function sV(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;i[o]=m,r[u]++}return i}const rV=(n,t)=>{const i=dr.createTransformer(t),r=cu(n),o=cu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?mp.has(n)&&!o.values.length||mp.has(t)&&!r.values.length?eV(n,t):bu(Ux(sV(r,o),o.values),i):kh(n,t)};function Bx(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?ce(n,t,i):Pg(n)(n,t)}const aV=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>ee.update(t,i),stop:()=>Ki(t),now:()=>Fe.isProcessing?Fe.timestamp:_n.now()}},zx=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Uh=2e4;function Lg(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<Uh;)t+=i,r=n.next(t);return t>=Uh?1/0:t}function oV(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Lg(r),Uh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Yn(o)}}const lV=5;function Fx(n,t,i){const r=Math.max(t-lV,0);return Dg(i-n(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vm=.001;function uV({duration:n=me.duration,bounce:t=me.bounce,velocity:i=me.velocity,mass:r=me.mass}){let o,u,c=1-t;c=Yi(me.minDamping,me.maxDamping,c),n=Yi(me.minDuration,me.maxDuration,Yn(n)),c<1?(o=g=>{const v=g*c,b=v*n,x=v-i,N=pp(g,c),L=Math.exp(-b);return Vm-x/N*L},u=g=>{const b=g*c*n,x=b*i+i,N=Math.pow(c,2)*Math.pow(g,2)*n,L=Math.exp(-b),k=pp(Math.pow(g,2),c);return(-o(g)+Vm>0?-1:1)*((x-N)*L)/k}):(o=g=>{const v=Math.exp(-g*n),b=(g-i)*n+1;return-Vm+v*b},u=g=>{const v=Math.exp(-g*n),b=(i-g)*(n*n);return v*b});const m=5/n,p=hV(o,u,m);if(n=Fi(n),isNaN(p))return{stiffness:me.stiffness,damping:me.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const cV=12;function hV(n,t,i){let r=i;for(let o=1;o<cV;o++)r=r-n(r)/t(r);return r}function pp(n,t){return n*Math.sqrt(1-t*t)}const fV=["duration","bounce"],dV=["stiffness","damping","mass"];function tT(n,t){return t.some(i=>n[i]!==void 0)}function mV(n){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...n};if(!tT(n,dV)&&tT(n,fV))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Yi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:me.mass,stiffness:o,damping:u}}else{const i=uV(n);t={...t,...i,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Bh(n=me.visualDuration,t=me.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:b,velocity:x,isResolvedFromDuration:N}=mV({...i,velocity:-Yn(i.velocity||0)}),L=x||0,k=g/(2*Math.sqrt(p*v)),B=c-u,G=Yn(Math.sqrt(p/v)),tt=Math.abs(B)<5;r||(r=tt?me.restSpeed.granular:me.restSpeed.default),o||(o=tt?me.restDelta.granular:me.restDelta.default);let F;if(k<1){const at=pp(G,k);F=nt=>{const C=Math.exp(-k*G*nt);return c-C*((L+k*G*B)/at*Math.sin(at*nt)+B*Math.cos(at*nt))}}else if(k===1)F=at=>c-Math.exp(-G*at)*(B+(L+G*B)*at);else{const at=G*Math.sqrt(k*k-1);F=nt=>{const C=Math.exp(-k*G*nt),w=Math.min(at*nt,300);return c-C*((L+k*G*B)*Math.sinh(w)+at*B*Math.cosh(w))/at}}const rt={calculatedDuration:N&&b||null,next:at=>{const nt=F(at);if(N)m.done=at>=b;else{let C=at===0?L:0;k<1&&(C=at===0?Fi(L):Fx(F,at,nt));const w=Math.abs(C)<=r,R=Math.abs(c-nt)<=o;m.done=w&&R}return m.value=m.done?c:nt,m},toString:()=>{const at=Math.min(Lg(rt),Uh),nt=zx(C=>rt.next(at*C).value,at,30);return at+"ms "+nt},toTransition:()=>{}};return rt}Bh.applyToOptions=n=>{const t=oV(n,100,Bh);return n.ease=t.ease,n.duration=Fi(t.duration),n.type="keyframes",n};function gp({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const b=n[0],x={done:!1,value:b},N=w=>m!==void 0&&w<m||p!==void 0&&w>p,L=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let k=i*t;const B=b+k,G=c===void 0?B:c(B);G!==B&&(k=G-b);const tt=w=>-k*Math.exp(-w/r),F=w=>G+tt(w),rt=w=>{const R=tt(w),M=F(w);x.done=Math.abs(R)<=g,x.value=x.done?G:M};let at,nt;const C=w=>{N(x.value)&&(at=w,nt=Bh({keyframes:[x.value,L(x.value)],velocity:Fx(F,w,x.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:w=>{let R=!1;return!nt&&at===void 0&&(R=!0,rt(w),C(w)),at!==void 0&&w>=at?nt.next(w-at):(!R&&rt(w),x)}}}function pV(n,t,i){const r=[],o=i||ys.mix||Bx,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||bn:t;m=bu(p,m)}r.push(m)}return r}function qx(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(lu(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=pV(t,r,o),p=m.length,g=v=>{if(c&&v<n[0])return t[0];let b=0;if(p>1)for(;b<n.length-2&&!(v<n[b+1]);b++);const x=To(n[b],n[b+1],v);return m[b](x)};return i?v=>g(Yi(n[0],n[u-1],v)):g}function gV(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=To(0,t,r);n.push(ce(i,1,o))}}function Hx(n){const t=[0];return gV(t,n.length-1),t}function yV(n,t){return n.map(i=>i*t)}function vV(n,t){return n.map(()=>t||Nx).splice(0,n.length-1)}function Zl({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=VD(r)?r.map(Xb):Xb(r),u={done:!1,value:t[0]},c=yV(i&&i.length===t.length?i:Hx(t),n),m=qx(c,t,{ease:Array.isArray(o)?o:vV(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const _V=n=>n!==null;function kg(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(_V),m=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const bV={decay:gp,inertia:gp,tween:Zl,keyframes:Zl,spring:Bh};function Gx(n){typeof n.type=="string"&&(n.type=bV[n.type])}class Ug{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const TV=n=>n/100;class Bg extends Ug{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Gx(t);const{type:i=Zl,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=i||Zl;p!==Zl&&typeof m[0]!="number"&&(this.mixKeyframes=bu(TV,Bx(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Lg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:x,repeatDelay:N,type:L,onUpdate:k,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const G=this.currentTime-g*(this.playbackSpeed>=0?1:-1),tt=this.playbackSpeed>=0?G<0:G>o;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let F=this.currentTime,rt=r;if(b){const w=Math.min(this.currentTime,o)/m;let R=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&R--,R=Math.min(R,b+1),!!(R%2)&&(x==="reverse"?(M=1-M,N&&(M-=N/m)):x==="mirror"&&(rt=c)),F=Yi(0,1,M)*m}const at=tt?{done:!1,value:v[0]}:rt.next(F);u&&(at.value=u(at.value));let{done:nt}=at;!tt&&p!==null&&(nt=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&nt);return C&&L!==gp&&(at.value=kg(v,this.options,B,this.speed)),k&&k(at.value),C&&this.finish(),at}then(t,i){return this.finished.then(t,i)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(this.currentTime)}set time(t){var i;t=Fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_n.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Yn(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=aV,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function EV(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Jr=n=>n*180/Math.PI,yp=n=>{const t=Jr(Math.atan2(n[1],n[0]));return vp(t)},xV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:yp,rotateZ:yp,skewX:n=>Jr(Math.atan(n[1])),skewY:n=>Jr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},vp=n=>(n=n%360,n<0&&(n+=360),n),eT=yp,nT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),AV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nT,scaleY:iT,scale:n=>(nT(n)+iT(n))/2,rotateX:n=>vp(Jr(Math.atan2(n[6],n[5]))),rotateY:n=>vp(Jr(Math.atan2(-n[2],n[0]))),rotateZ:eT,rotate:eT,skewX:n=>Jr(Math.atan(n[4])),skewY:n=>Jr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function _p(n){return n.includes("scale")?1:0}function bp(n,t){if(!n||n==="none")return _p(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=AV,o=i;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=xV,o=m}if(!o)return _p(t);const u=r[t],c=o[1].split(",").map(wV);return typeof u=="function"?u(c):c[u]}const SV=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return bp(i,t)};function wV(n){return parseFloat(n.trim())}const No=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Do=new Set(No),sT=n=>n===Co||n===mt,RV=new Set(["x","y","z"]),CV=No.filter(n=>!RV.has(n));function NV(n){const t=[];return CV.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const na={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>bp(t,"x"),y:(n,{transform:t})=>bp(t,"y")};na.translateX=na.x;na.translateY=na.y;const ia=new Set;let Tp=!1,Ep=!1,xp=!1;function Yx(){if(Ep){const n=Array.from(ia).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=NV(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{var m;(m=r.getValue(u))==null||m.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ep=!1,Tp=!1,ia.forEach(n=>n.complete(xp)),ia.clear()}function Kx(){ia.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ep=!0)})}function DV(){xp=!0,Kx(),Yx(),xp=!1}class zg{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ia.add(this),Tp||(Tp=!0,ee.read(Kx),ee.resolveKeyframes(Yx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const m=r.readValue(i,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}EV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ia.delete(this)}cancel(){this.state==="scheduled"&&(ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VV=n=>n.startsWith("--");function MV(n,t,i){VV(t)?n.style.setProperty(t,i):n.style[t]=i}const Qx=Cg(()=>window.ScrollTimeline!==void 0),IV={};function OV(n,t){const i=Cg(n);return()=>IV[t]??i()}const Xx=OV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,rT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hl([0,.65,.55,1]),circOut:Hl([.55,0,1,.45]),backIn:Hl([.31,.01,.66,-.59]),backOut:Hl([.33,1.53,.69,.99])};function $x(n,t){if(n)return typeof n=="function"?Xx()?zx(n,t):"ease-out":Dx(n)?Hl(n):Array.isArray(n)?n.map(i=>$x(i,t)||rT.easeOut):rT[n]}function jV(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const b=$x(m,o);Array.isArray(b)&&(v.easing=b);const x={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),n.animate(v,x)}function Zx(n){return typeof n=="function"&&"applyToOptions"in n}function PV({type:n,...t}){return Zx(n)&&Xx()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class LV extends Ug{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,lu(typeof t.type!="string");const g=PV(t);this.animation=jV(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=kg(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):MV(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return Yn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Qx()?(this.animation.timeline=t,bn):i(this)}}const Wx={anticipate:wx,backInOut:Sx,circInOut:Cx};function kV(n){return n in Wx}function UV(n){typeof n.ease=="string"&&kV(n.ease)&&(n.ease=Wx[n.ease])}const aT=10;class BV extends LV{constructor(t){UV(t),Gx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const m=new Bg({...c,autoplay:!1}),p=Fi(this.finishedTime??this.time);i.setWithVelocity(m.sample(p-aT).value,m.sample(p).value,aT),m.stop()}}const oT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(dr.test(n)||n==="0")&&!n.startsWith("url("));function zV(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function FV(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=oT(o,t),m=oT(u,t);return!c||!m?!1:zV(n)||(i==="spring"||Zx(i))&&r}function Ap(n){n.duration=0,n.type="keyframes"}const qV=new Set(["opacity","clipPath","filter","transform"]),HV=Cg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GV(n){var v;const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(((v=t==null?void 0:t.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return HV()&&i&&qV.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const YV=40;class KV extends Ug{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...b}){var L;super(),this.stop=()=>{var k,B;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(B=this.keyframeResolver)==null||B.cancel()},this.createdAt=_n.now();const x={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...b},N=(v==null?void 0:v.KeyframeResolver)||zg;this.keyframeResolver=new N(m,(k,B,G)=>this.onKeyframesResolved(k,B,x,!G),p,g,v),(L=this.keyframeResolver)==null||L.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=_n.now(),FV(t,u,c,m)||((ys.instantAnimations||!p)&&(v==null||v(kg(t,r,i))),t[0]=t[t.length-1],Ap(r),r.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>YV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},N=!g&&GV(x)?new BV({...x,element:x.motionValue.owner.current}):new Bg(x);N.finished.then(()=>this.notifyFinished()).catch(bn),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),DV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const QV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XV(n){const t=QV.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function Jx(n,t,i=1){const[r,o]=XV(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return vx(c)?parseFloat(c):c}return Ig(o)?Jx(o,t,i+1):o}function Fg(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const tA=new Set(["width","height","top","left","right","bottom",...No]),$V={test:n=>n==="auto",parse:n=>n},eA=n=>t=>t.test(n),nA=[Co,mt,qi,Ws,HD,qD,$V],lT=n=>nA.find(eA(n));function ZV(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||bx(n):!0}const WV=new Set(["brightness","contrast","saturate","opacity"]);function JV(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Og)||[];if(!r)return n;const o=i.replace(r,"");let u=WV.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const tM=/\b([a-z-]*)\(.*?\)/gu,Sp={...dr,getAnimatableNone:n=>{const t=n.match(tM);return t?t.map(JV).join(" "):n}},uT={...Co,transform:Math.round},eM={rotate:Ws,rotateX:Ws,rotateY:Ws,rotateZ:Ws,scale:ah,scaleX:ah,scaleY:ah,scaleZ:ah,skew:Ws,skewX:Ws,skewY:Ws,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:uu,originX:$b,originY:$b,originZ:mt},qg={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,backgroundPositionX:mt,backgroundPositionY:mt,...eM,zIndex:uT,fillOpacity:uu,strokeOpacity:uu,numOctaves:uT},nM={...qg,color:De,backgroundColor:De,outlineColor:De,fill:De,stroke:De,borderColor:De,borderTopColor:De,borderRightColor:De,borderBottomColor:De,borderLeftColor:De,filter:Sp,WebkitFilter:Sp},iA=n=>nM[n];function sA(n,t){let i=iA(n);return i!==Sp&&(i=dr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const iM=new Set(["auto","none","0"]);function sM(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!iM.has(u)&&cu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=sA(i,o)}class rM extends zg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Ig(g))){const v=Jx(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!tA.has(r)||t.length!==2)return;const[o,u]=t,c=lT(o),m=lT(u);if(c!==m)if(sT(c)&&sT(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else na[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||ZV(t[o]))&&r.push(o);r.length&&sM(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=na[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var m;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=na[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function rA(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const o=document.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const aA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function oA(n){return _x(n)&&"offsetHeight"in n}const cT=30,aM=n=>!isNaN(parseFloat(n));class oM{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=_n.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=_n.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Ng);const r=this.events[t].add(i);return t==="change"?()=>{r(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,cT);return Dg(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ji(n,t){return new oM(n,t)}const{schedule:Hg}=Vx(queueMicrotask,!1),oi={x:!1,y:!1};function lA(){return oi.x||oi.y}function lM(n){return n==="x"||n==="y"?oi[n]?null:(oi[n]=!0,()=>{oi[n]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}function uA(n,t){const i=rA(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function hT(n){return!(n.pointerType==="touch"||lA())}function uM(n,t,i={}){const[r,o,u]=uA(n,i),c=m=>{if(!hT(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=b=>{hT(b)&&(g(b),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const cA=(n,t)=>t?n===t?!0:cA(n,t.parentElement):!1,Gg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,cM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hM(n){return cM.has(n.tagName)||n.tabIndex!==-1}const gh=new WeakSet;function fT(n){return t=>{t.key==="Enter"&&n(t)}}function Mm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fM=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=fT(()=>{if(gh.has(i))return;Mm(i,"down");const o=fT(()=>{Mm(i,"up")}),u=()=>Mm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function dT(n){return Gg(n)&&!lA()}function dM(n,t,i={}){const[r,o,u]=uA(n,i),c=m=>{const p=m.currentTarget;if(!dT(m))return;gh.add(p);const g=t(p,m),v=(N,L)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),gh.has(p)&&gh.delete(p),dT(N)&&typeof g=="function"&&g(N,{success:L})},b=N=>{v(N,p===window||p===document||i.useGlobalTarget||cA(p,N.target))},x=N=>{v(N,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",x,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),oA(m)&&(m.addEventListener("focus",g=>fM(g,o)),!hM(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Yg(n){return _x(n)&&"ownerSVGElement"in n}const yh=new WeakMap;let Js;const hA=(n,t,i)=>(r,o)=>o&&o[0]?o[0][n+"Size"]:Yg(r)&&"getBBox"in r?r.getBBox()[t]:r[i],mM=hA("inline","width","offsetWidth"),pM=hA("block","height","offsetHeight");function gM({target:n,borderBoxSize:t}){var i;(i=yh.get(n))==null||i.forEach(r=>{r(n,{get width(){return mM(n,t)},get height(){return pM(n,t)}})})}function yM(n){n.forEach(gM)}function vM(){typeof ResizeObserver>"u"||(Js=new ResizeObserver(yM))}function _M(n,t){Js||vM();const i=rA(n);return i.forEach(r=>{let o=yh.get(r);o||(o=new Set,yh.set(r,o)),o.add(t),Js==null||Js.observe(r)}),()=>{i.forEach(r=>{const o=yh.get(r);o==null||o.delete(t),o!=null&&o.size||Js==null||Js.unobserve(r)})}}const vh=new Set;let ao;function bM(){ao=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};vh.forEach(t=>t(n))},window.addEventListener("resize",ao)}function TM(n){return vh.add(n),ao||bM(),()=>{vh.delete(n),!vh.size&&typeof ao=="function"&&(window.removeEventListener("resize",ao),ao=void 0)}}function EM(n,t){return typeof n=="function"?TM(n):_M(n,t)}function fA(n,t){let i;const r=()=>{const{currentTime:o}=t,c=(o===null?0:o.value)/100;i!==c&&n(c),i=c};return ee.preUpdate(r,!0),()=>Ki(r)}function xM(n){return Yg(n)&&n.tagName==="svg"}const sn=n=>!!(n&&n.getVelocity),AM=[...nA,De,dr],SM=n=>AM.find(eA(n)),dA=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function wM(n=!0){const t=ot.useContext(Sg);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=ot.useId();ot.useEffect(()=>{if(n)return o(u)},[n]);const c=ot.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const mA=ot.createContext({strict:!1}),mT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eo={};for(const n in mT)Eo[n]={isEnabled:t=>mT[n].some(i=>!!t[i])};function RM(n){for(const t in n)Eo[t]={...Eo[t],...n[t]}}const CM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||CM.has(n)}let pA=n=>!zh(n);function NM(n){typeof n=="function"&&(pA=t=>t.startsWith("on")?!zh(t):n(t))}try{NM(require("@emotion/is-prop-valid").default)}catch{}function DM(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(pA(o)||i===!0&&zh(o)||!t&&!zh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const cf=ot.createContext({});function hf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function hu(n){return typeof n=="string"||Array.isArray(n)}const Kg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qg=["initial",...Kg];function ff(n){return hf(n.animate)||Qg.some(t=>hu(n[t]))}function gA(n){return!!(ff(n)||n.variants)}function VM(n,t){if(ff(n)){const{initial:i,animate:r}=n;return{initial:i===!1||hu(i)?i:void 0,animate:hu(r)?r:void 0}}return n.inherit!==!1?t:{}}function MM(n){const{initial:t,animate:i}=VM(n,ot.useContext(cf));return ot.useMemo(()=>({initial:t,animate:i}),[pT(t),pT(i)])}function pT(n){return Array.isArray(n)?n.join(" "):n}function gT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ll={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(mt.test(n))n=parseFloat(n);else return n;const i=gT(n,t.target.x),r=gT(n,t.target.y);return`${i}% ${r}%`}},IM={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=dr.parse(n);if(o.length>5)return r;const u=dr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=i.x.scale*t.x,p=i.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ce(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},wp={borderRadius:{...Ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ll,borderTopRightRadius:Ll,borderBottomLeftRadius:Ll,borderBottomRightRadius:Ll,boxShadow:IM};function yA(n,{layout:t,layoutId:i}){return Do.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!wp[n]||n==="opacity")}const OM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jM=No.length;function PM(n,t,i){let r="",o=!0;for(let u=0;u<jM;u++){const c=No[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||i){const g=aA(m,qg[c]);if(!p){o=!1;const v=OM[c]||c;r+=`${v}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Xg(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(Do.has(p)){c=!0;continue}else if(Ix(p)){o[p]=g;continue}else{const v=aA(g,qg[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||i?r.transform=PM(t,n.transform,i):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const $g=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vA(n,t,i){for(const r in t)!sn(t[r])&&!yA(r,i)&&(n[r]=t[r])}function LM({transformTemplate:n},t){return ot.useMemo(()=>{const i=$g();return Xg(i,t,n),Object.assign({},i.vars,i.style)},[t])}function kM(n,t){const i=n.style||{},r={};return vA(r,i,n),Object.assign(r,LM(n,t)),r}function UM(n,t){const i={},r=kM(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const BM={offset:"stroke-dashoffset",array:"stroke-dasharray"},zM={offset:"strokeDashoffset",array:"strokeDasharray"};function FM(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?BM:zM;n[u.offset]=mt.transform(-r);const c=mt.transform(t),m=mt.transform(i);n[u.array]=`${c} ${m}`}function _A(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(Xg(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:x}=n;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),i!==void 0&&(b.y=i),r!==void 0&&(b.scale=r),o!==void 0&&FM(b,o,u,c,!1)}const bA=()=>({...$g(),attrs:{}}),TA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function qM(n,t,i,r){const o=ot.useMemo(()=>{const u=bA();return _A(u,t,TA(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};vA(u,n.style,n),o.style={...u,...o.style}}return o}const HM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zg(n){return typeof n!="string"||n.includes("-")?!1:!!(HM.indexOf(n)>-1||/[A-Z]/u.test(n))}function GM(n,t,i,{latestValues:r},o,u=!1,c){const p=(c??Zg(n)?qM:UM)(t,r,o,n),g=DM(t,typeof n=="string",u),v=n!==ot.Fragment?{...g,...p,ref:i}:{},{children:b}=t,x=ot.useMemo(()=>sn(b)?b.get():b,[b]);return ot.createElement(n,{...v,children:x})}function yT(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Wg(n,t,i,r){if(typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function _h(n){return sn(n)?n.get():n}function YM({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:KM(i,r,o,n),renderState:t()}}function KM(n,t,i,r){const o={},u=r(n,{});for(const x in u)o[x]=_h(u[x]);let{initial:c,animate:m}=n;const p=ff(n),g=gA(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const b=v?m:c;if(b&&typeof b!="boolean"&&!hf(b)){const x=Array.isArray(b)?b:[b];for(let N=0;N<x.length;N++){const L=Wg(n,x[N]);if(L){const{transitionEnd:k,transition:B,...G}=L;for(const tt in G){let F=G[tt];if(Array.isArray(F)){const rt=v?F.length-1:0;F=F[rt]}F!==null&&(o[tt]=F)}for(const tt in k)o[tt]=k[tt]}}}return o}const EA=n=>(t,i)=>{const r=ot.useContext(cf),o=ot.useContext(Sg),u=()=>YM(n,t,r,o);return i?u():gx(u)};function Jg(n,t,i){var u;const{style:r}=n,o={};for(const c in r)(sn(r[c])||t.style&&sn(t.style[c])||yA(c,n)||((u=i==null?void 0:i.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const QM=EA({scrapeMotionValuesFromProps:Jg,createRenderState:$g});function xA(n,t,i){const r=Jg(n,t,i);for(const o in n)if(sn(n[o])||sn(t[o])){const u=No.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const XM=EA({scrapeMotionValuesFromProps:xA,createRenderState:bA}),$M=Symbol.for("motionComponentSymbol");function oo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ZM(n,t,i){return ot.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):oo(i)&&(i.current=r))},[t])}const ty=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WM="framerAppearId",AA="data-"+ty(WM),SA=ot.createContext({});function JM(n,t,i,r,o,u){var B,G;const{visualElement:c}=ot.useContext(cf),m=ot.useContext(mA),p=ot.useContext(Sg),g=ot.useContext(dA).reducedMotion,v=ot.useRef(null);r=r||m.renderer,!v.current&&r&&(v.current=r(n,{visualState:t,parent:c,props:i,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,isSVG:u}));const b=v.current,x=ot.useContext(SA);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&tI(v.current,i,o,x);const N=ot.useRef(!1);ot.useInsertionEffect(()=>{b&&N.current&&b.update(i,p)});const L=i[AA],k=ot.useRef(!!L&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,L))&&((G=window.MotionHasOptimisedAnimation)==null?void 0:G.call(window,L)));return yx(()=>{b&&(N.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),k.current&&b.animationState&&b.animationState.animateChanges())}),ot.useEffect(()=>{b&&(!k.current&&b.animationState&&b.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var tt;(tt=window.MotionHandoffMarkAsComplete)==null||tt.call(window,L)}),k.current=!1),b.enteringChildren=void 0)}),b}function tI(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:wA(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&oo(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function wA(n){if(n)return n.options.allowProjection!==!1?n.projection:wA(n.parent)}function Im(n,{forwardMotionProps:t=!1,type:i}={},r,o){r&&RM(r);const u=i?i==="svg":Zg(n),c=u?XM:QM;function m(g,v){let b;const x={...ot.useContext(dA),...g,layoutId:eI(g)},{isStatic:N}=x,L=MM(g),k=c(g,N);if(!N&&Ag){nI();const B=iI(x);b=B.MeasureLayout,L.visualElement=JM(n,k,x,o,B.ProjectionNode,u)}return E.jsxs(cf.Provider,{value:L,children:[b&&L.visualElement?E.jsx(b,{visualElement:L.visualElement,...x}):null,GM(n,g,ZM(k,L.visualElement,v),k,N,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=ot.forwardRef(m);return p[$M]=n,p}function eI({layoutId:n}){const t=ot.useContext(px).id;return t&&n!==void 0?t+"-"+n:n}function nI(n,t){ot.useContext(mA).strict}function iI(n){const{drag:t,layout:i}=Eo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sI(n,t){if(typeof Proxy>"u")return Im;const i=new Map,r=(u,c)=>Im(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,Im(c,void 0,n,t)),i.get(c))})}function RA({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function rI({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function aI(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function Om(n){return n===void 0||n===1}function Rp({scale:n,scaleX:t,scaleY:i}){return!Om(n)||!Om(t)||!Om(i)}function $r(n){return Rp(n)||CA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function CA(n){return vT(n.x)||vT(n.y)}function vT(n){return n&&n!=="0%"}function Fh(n,t,i){const r=n-i,o=t*r;return i+o}function _T(n,t,i,r,o){return o!==void 0&&(n=Fh(n,o,r)),Fh(n,i,r)+t}function Cp(n,t=0,i=1,r,o){n.min=_T(n.min,t,i,r,o),n.max=_T(n.max,t,i,r,o)}function NA(n,{x:t,y:i}){Cp(n.x,t.translate,t.scale,t.originPoint),Cp(n.y,i.translate,i.scale,i.originPoint)}const bT=.999999999999,TT=1.0000000000001;function oI(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=i[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&uo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,NA(n,c)),r&&$r(u.latestValues)&&uo(n,u.latestValues))}t.x<TT&&t.x>bT&&(t.x=1),t.y<TT&&t.y>bT&&(t.y=1)}function lo(n,t){n.min=n.min+t,n.max=n.max+t}function ET(n,t,i,r,o=.5){const u=ce(n.min,n.max,o);Cp(n,t,i,u,r)}function uo(n,t){ET(n.x,t.x,t.scaleX,t.scale,t.originX),ET(n.y,t.y,t.scaleY,t.scale,t.originY)}function DA(n,t){return RA(aI(n.getBoundingClientRect(),t))}function lI(n,t,i){const r=DA(n,i),{scroll:o}=t;return o&&(lo(r.x,o.offset.x),lo(r.y,o.offset.y)),r}const xT=()=>({translate:0,scale:1,origin:0,originPoint:0}),co=()=>({x:xT(),y:xT()}),AT=()=>({min:0,max:0}),Le=()=>({x:AT(),y:AT()}),Np={current:null},VA={current:!1};function uI(){if(VA.current=!0,!!Ag)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Np.current=n.matches;n.addEventListener("change",t),t()}else Np.current=!1}const cI=new WeakMap;function hI(n,t,i){for(const r in t){const o=t[r],u=i[r];if(sn(o))n.addValue(r,o);else if(sn(u))n.addValue(r,ji(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,ji(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const ST=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fI{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=_n.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ee.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=ff(i),this.isVariantNode=gA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const x in b){const N=b[x];p[x]!==void 0&&sn(N)&&N.set(p[x])}}mount(t){var i;this.current=t,cI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),VA.current||uI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Np.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ki(this.notifyUpdate),Ki(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Do.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ee.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Eo){const i=Eo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<ST.length;r++){const o=ST[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=hI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=ji(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(vx(r)||bx(r))?r=parseFloat(r):!SM(r)&&dr.test(i)&&(r=sA(t,i)),this.setBaseTarget(t,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=Wg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!sn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Ng),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Hg.render(this.render)}}class MA extends fI{constructor(){super(...arguments),this.KeyframeResolver=rM}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function IA(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o==null||o.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function dI(n){return window.getComputedStyle(n)}class mI extends MA{constructor(){super(...arguments),this.type="html",this.renderInstance=IA}readValueFromInstance(t,i){var r;if(Do.has(i))return(r=this.projection)!=null&&r.isProjecting?_p(i):SV(t,i);{const o=dI(t),u=(Ix(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return DA(t,i)}build(t,i,r){Xg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Jg(t,i,r)}}const OA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pI(n,t,i,r){IA(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(OA.has(o)?o:ty(o),t.attrs[o])}class gI extends MA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Do.has(i)){const r=iA(i);return r&&r.default||0}return i=OA.has(i)?i:ty(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return xA(t,i,r)}build(t,i,r){_A(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){pI(t,i,r,o)}mount(t){this.isSVGTag=TA(t.tagName),super.mount(t)}}const yI=(n,t)=>t.isSVG??Zg(n)?new gI(t):new mI(t,{allowProjection:n!==ot.Fragment});function fo(n,t,i){const r=n.getProps();return Wg(r,t,i!==void 0?i:r.custom,n)}const Dp=n=>Array.isArray(n);function vI(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,ji(i))}function _I(n){return Dp(n)?n[n.length-1]||0:n}function bI(n,t){const i=fo(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const m=_I(u[c]);vI(n,c,m)}}function TI(n){return!!(sn(n)&&n.add)}function Vp(n,t){const i=n.getValue("willChange");if(TI(i))return i.add(t);if(!i&&ys.WillChange){const r=new ys.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function jA(n){return n.props[AA]}const EI=n=>n!==null;function xI(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(EI),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const AI={type:"spring",stiffness:500,damping:25,restSpeed:10},SI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),wI={type:"keyframes",duration:.8},RI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CI=(n,{keyframes:t})=>t.length>2?wI:Do.has(n)?n.startsWith("scale")?SI(t[1]):AI:RI;function NI({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const ey=(n,t,i,r={},o,u)=>c=>{const m=Fg(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Fi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};NI(m)||Object.assign(v,CI(n,v)),v.duration&&(v.duration=Fi(v.duration)),v.repeatDelay&&(v.repeatDelay=Fi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Ap(v),v.delay===0&&(b=!0)),(ys.instantAnimations||ys.skipAnimations)&&(b=!0,Ap(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,b&&!u&&t.get()!==void 0){const x=xI(v.keyframes,m);if(x!==void 0){ee.update(()=>{v.onUpdate(x),v.onComplete()});return}}return m.isSync?new Bg(v):new KV(v)};function DI({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function PA(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in m){const b=n.getValue(v,n.latestValues[v]??null),x=m[v];if(x===void 0||g&&DI(g,v))continue;const N={delay:i,...Fg(u||{},v)},L=b.get();if(L!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===L&&!N.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const G=jA(n);if(G){const tt=window.MotionHandoffAnimation(G,v,ee);tt!==null&&(N.startTime=tt,k=!0)}}Vp(n,v),b.start(ey(v,b,x,n.shouldReduceMotion&&tA.has(v)?{type:!1}:N,n,k));const B=b.animation;B&&p.push(B)}return c&&Promise.all(p).then(()=>{ee.update(()=>{c&&bI(n,c)})}),p}function LA(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,m=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:m-u*r}function Mp(n,t,i={}){var p;const r=fo(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(PA(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:x}=o;return VI(n,t,g,v,b,x,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,v]=m==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(i.delay)])}function VI(n,t,i=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(Mp(p,t,{...c,delay:i+(typeof r=="function"?0:r)+LA(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function MI(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Mp(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Mp(n,t,i);else{const o=typeof t=="function"?fo(n,t,i.custom):t;r=Promise.all(PA(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function kA(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const II=Qg.length;function UA(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?UA(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<II;i++){const r=Qg[i],o=n.props[r];(hu(o)||o===!1)&&(t[r]=o)}return t}const OI=[...Kg].reverse(),jI=Kg.length;function PI(n){return t=>Promise.all(t.map(({animation:i,options:r})=>MI(n,i,r)))}function LI(n){let t=PI(n),i=wT(),r=!0;const o=p=>(g,v)=>{var x;const b=fo(n,v,p==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(b){const{transition:N,transitionEnd:L,...k}=b;g={...g,...k,...L}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=UA(n.parent)||{},b=[],x=new Set;let N={},L=1/0;for(let B=0;B<jI;B++){const G=OI[B],tt=i[G],F=g[G]!==void 0?g[G]:v[G],rt=hu(F),at=G===p?tt.isActive:null;at===!1&&(L=B);let nt=F===v[G]&&F!==g[G]&&rt;if(nt&&r&&n.manuallyAnimateOnMount&&(nt=!1),tt.protectedKeys={...N},!tt.isActive&&at===null||!F&&!tt.prevProp||hf(F)||typeof F=="boolean")continue;const C=kI(tt.prevProp,F);let w=C||G===p&&tt.isActive&&!nt&&rt||B>L&&rt,R=!1;const M=Array.isArray(F)?F:[F];let O=M.reduce(o(G),{});at===!1&&(O={});const{prevResolvedValues:V={}}=tt,D={...V,...O},Tt=st=>{w=!0,x.has(st)&&(R=!0,x.delete(st)),tt.needsAnimating[st]=!0;const ct=n.getValue(st);ct&&(ct.liveStyle=!1)};for(const st in D){const ct=O[st],Et=V[st];if(N.hasOwnProperty(st))continue;let It=!1;Dp(ct)&&Dp(Et)?It=!kA(ct,Et):It=ct!==Et,It?ct!=null?Tt(st):x.add(st):ct!==void 0&&x.has(st)?Tt(st):tt.protectedKeys[st]=!0}tt.prevProp=F,tt.prevResolvedValues=O,tt.isActive&&(N={...N,...O}),r&&n.blockInitialAnimation&&(w=!1);const kt=nt&&C;w&&(!kt||R)&&b.push(...M.map(st=>{const ct={type:G};if(typeof st=="string"&&r&&!kt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Et}=n,It=fo(Et,st);if(Et.enteringChildren&&It){const{delayChildren:P}=It.transition||{};ct.delay=LA(Et.enteringChildren,n,P)}}return{animation:st,options:ct}}))}if(x.size){const B={};if(typeof g.initial!="boolean"){const G=fo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);G&&G.transition&&(B.transition=G.transition)}x.forEach(G=>{const tt=n.getBaseTarget(G),F=n.getValue(G);F&&(F.liveStyle=!0),B[G]=tt??null}),b.push({animation:B})}let k=!!b.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(k=!1),r=!1,k?t(b):Promise.resolve()}function m(p,g){var b;if(i[p].isActive===g)return Promise.resolve();(b=n.variantChildren)==null||b.forEach(x=>{var N;return(N=x.animationState)==null?void 0:N.setActive(p,g)}),i[p].isActive=g;const v=c(p);for(const x in i)i[x].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>i,reset:()=>{i=wT()}}}function kI(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!kA(t,n):!1}function Qr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wT(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}class gr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class UI extends gr{constructor(t){super(t),t.animationState||(t.animationState=LI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let BI=0;class zI extends gr{constructor(){super(...arguments),this.id=BI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FI={animation:{Feature:UI},exit:{Feature:zI}};function fu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function xu(n){return{point:{x:n.pageX,y:n.pageY}}}const qI=n=>t=>Gg(t)&&n(t,xu(t));function Wl(n,t,i,r){return fu(n,t,qI(i),r)}const BA=1e-4,HI=1-BA,GI=1+BA,zA=.01,YI=0-zA,KI=0+zA;function un(n){return n.max-n.min}function QI(n,t,i){return Math.abs(n-t)<=i}function RT(n,t,i,r=.5){n.origin=r,n.originPoint=ce(t.min,t.max,n.origin),n.scale=un(i)/un(t),n.translate=ce(i.min,i.max,n.origin)-n.originPoint,(n.scale>=HI&&n.scale<=GI||isNaN(n.scale))&&(n.scale=1),(n.translate>=YI&&n.translate<=KI||isNaN(n.translate))&&(n.translate=0)}function Jl(n,t,i,r){RT(n.x,t.x,i.x,r?r.originX:void 0),RT(n.y,t.y,i.y,r?r.originY:void 0)}function CT(n,t,i){n.min=i.min+t.min,n.max=n.min+un(t)}function XI(n,t,i){CT(n.x,t.x,i.x),CT(n.y,t.y,i.y)}function NT(n,t,i){n.min=t.min-i.min,n.max=n.min+un(t)}function qh(n,t,i){NT(n.x,t.x,i.x),NT(n.y,t.y,i.y)}function Hn(n){return[n("x"),n("y")]}const FA=({current:n})=>n?n.ownerDocument.defaultView:null,DT=(n,t)=>Math.abs(n-t);function $I(n,t){const i=DT(n.x,t.x),r=DT(n.y,t.y);return Math.sqrt(i**2+r**2)}class qA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Pm(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,L=$I(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!L)return;const{point:k}=x,{timestamp:B}=Fe;this.history.push({...k,timestamp:B});const{onStart:G,onMove:tt}=this.handlers;N||(G&&G(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),tt&&tt(this.lastMoveEvent,x)},this.handlePointerMove=(x,N)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=jm(N,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(x,N)=>{this.end();const{onEnd:L,onSessionEnd:k,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=Pm(x.type==="pointercancel"?this.lastMoveEventInfo:jm(N,this.transformPagePoint),this.history);this.startEvent&&L&&L(x,G),k&&k(x,G)},!Gg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=xu(t),p=jm(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Fe;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=i;b&&b(t,Pm(p,this.history)),this.removeListeners=bu(Wl(this.contextWindow,"pointermove",this.handlePointerMove),Wl(this.contextWindow,"pointerup",this.handlePointerUp),Wl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ki(this.updatePoint)}}function jm(n,t){return t?{point:t(n.point)}:n}function VT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Pm({point:n},t){return{point:n,delta:VT(n,HA(t)),offset:VT(n,ZI(t)),velocity:WI(t,.1)}}function ZI(n){return n[0]}function HA(n){return n[n.length-1]}function WI(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=HA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>Fi(t)));)i--;if(!r)return{x:0,y:0};const u=Yn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JI(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?ce(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?ce(i,n,r.max):Math.min(n,i)),n}function MT(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function t3(n,{top:t,left:i,bottom:r,right:o}){return{x:MT(n.x,i,o),y:MT(n.y,t,r)}}function IT(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function e3(n,t){return{x:IT(n.x,t.x),y:IT(n.y,t.y)}}function n3(n,t){let i=.5;const r=un(n),o=un(t);return o>r?i=To(t.min,t.max-r,n.min):r>o&&(i=To(n.min,n.max-o,t.min)),Yi(0,1,i)}function i3(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const Ip=.35;function s3(n=Ip){return n===!1?n=0:n===!0&&(n=Ip),{x:OT(n,"left","right"),y:OT(n,"top","bottom")}}function OT(n,t,i){return{min:jT(n,t),max:jT(n,i)}}function jT(n,t){return typeof n=="number"?n:n[t]||0}const r3=new WeakMap;class a3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(xu(b).point)},c=(b,x)=>{const{drag:N,dragPropagation:L,onDragStart:k}=this.getProps();if(N&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lM(N),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(G=>{let tt=this.getAxisMotionValue(G).get()||0;if(qi.test(tt)){const{projection:F}=this.visualElement;if(F&&F.layout){const rt=F.layout.layoutBox[G];rt&&(tt=un(rt)*(parseFloat(tt)/100))}}this.originPoint[G]=tt}),k&&ee.postRender(()=>k(b,x)),Vp(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},m=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:N,dragDirectionLock:L,onDirectionLock:k,onDrag:B}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:G}=x;if(L&&this.currentDirection===null){this.currentDirection=o3(G),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",x.point,G),this.updateAxis("y",x.point,G),this.visualElement.render(),B&&B(b,x)},p=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Hn(b=>{var x;return this.getAnimationState(b)==="paused"&&((x=this.getAxisMotionValue(b).animation)==null?void 0:x.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new qA(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:FA(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ee.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!oh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=JI(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&oo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=t3(r.layoutBox,t):this.constraints=!1,this.elastic=s3(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=i3(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!oo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=lI(r,o.root,this.visualElement.getTransformPagePoint());let c=e3(o.layout.layoutBox,u);if(i){const m=i(rI(c));this.hasMutatedConstraints=!!m,m&&(c=RA(m))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Hn(v=>{if(!oh(v,i,this.currentDirection))return;let b=p&&p[v]||{};c&&(b={min:0,max:0});const x=o?200:1e6,N=o?40:1e7,L={type:"inertia",velocity:r?t[v]:0,bounceStiffness:x,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(v,L)});return Promise.all(g).then(m)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Vp(this.visualElement,t),r.start(ey(t,r,0,i,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(i=>{const{drag:r}=this.getProps();if(!oh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[i];u.set(t[i]-ce(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!oo(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=n3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!oh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;r3.set(this.visualElement,this);const t=this.visualElement.current,i=Wl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();oo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ee.read(r);const c=fu(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Hn(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=p[v].translate,b.set(b.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Ip,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function oh(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function o3(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class l3 extends gr{constructor(t){super(t),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new a3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};t!==i&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const PT=n=>(t,i)=>{n&&ee.postRender(()=>n(t,i))};class u3 extends gr{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(t){this.session=new qA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:PT(t),onStart:PT(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&ee.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Wl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Lm=!1;class c3 extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),Lm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),bh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,Lm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ee.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Hg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;Lm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GA(n){const[t,i]=wM(),r=ot.useContext(px);return E.jsx(c3,{...n,layoutGroup:r,switchLayoutGroup:ot.useContext(SA),isPresent:t,safeToRemove:i})}function h3(n,t,i){const r=sn(n)?n:ji(n);return r.start(ey("",r,t,i)),r.animation}const f3=(n,t)=>n.depth-t.depth;class d3{constructor(){this.children=[],this.isDirty=!1}add(t){wg(this.children,t),this.isDirty=!0}remove(t){Rg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(f3),this.isDirty=!1,this.children.forEach(t)}}function m3(n,t){const i=_n.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Ki(r),n(u-t))};return ee.setup(r,!0),()=>Ki(r)}const YA=["TopLeft","TopRight","BottomLeft","BottomRight"],p3=YA.length,LT=n=>typeof n=="string"?parseFloat(n):n,kT=n=>typeof n=="number"||mt.test(n);function g3(n,t,i,r,o,u){o?(n.opacity=ce(0,i.opacity??1,y3(r)),n.opacityExit=ce(t.opacity??1,0,v3(r))):u&&(n.opacity=ce(t.opacity??1,i.opacity??1,r));for(let c=0;c<p3;c++){const m=`border${YA[c]}Radius`;let p=UT(t,m),g=UT(i,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||kT(p)===kT(g)?(n[m]=Math.max(ce(LT(p),LT(g),r),0),(qi.test(g)||qi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||i.rotate)&&(n.rotate=ce(t.rotate||0,i.rotate||0,r))}function UT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const y3=KA(0,.5,Rx),v3=KA(.5,.95,bn);function KA(n,t,i){return r=>r<n?0:r>t?1:i(To(n,t,r))}function BT(n,t){n.min=t.min,n.max=t.max}function ai(n,t){BT(n.x,t.x),BT(n.y,t.y)}function zT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function FT(n,t,i,r,o){return n-=t,n=Fh(n,1/i,r),o!==void 0&&(n=Fh(n,1/o,r)),n}function _3(n,t=0,i=1,r=.5,o,u=n,c=n){if(qi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ce(u.min,u.max,r);n===u&&(m-=t),n.min=FT(n.min,t,i,m,o),n.max=FT(n.max,t,i,m,o)}function qT(n,t,[i,r,o],u,c){_3(n,t[i],t[r],t[o],t.scale,u,c)}const b3=["x","scaleX","originX"],T3=["y","scaleY","originY"];function HT(n,t,i,r){qT(n.x,t,b3,i?i.x:void 0,r?r.x:void 0),qT(n.y,t,T3,i?i.y:void 0,r?r.y:void 0)}function GT(n){return n.translate===0&&n.scale===1}function QA(n){return GT(n.x)&&GT(n.y)}function YT(n,t){return n.min===t.min&&n.max===t.max}function E3(n,t){return YT(n.x,t.x)&&YT(n.y,t.y)}function KT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function XA(n,t){return KT(n.x,t.x)&&KT(n.y,t.y)}function QT(n){return un(n.x)/un(n.y)}function XT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class x3{constructor(){this.members=[]}add(t){wg(this.members,t),t.scheduleRender()}remove(t){if(Rg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A3(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:x,skewX:N,skewY:L}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),x&&(r+=`rotateY(${x}deg) `),N&&(r+=`skewX(${N}deg) `),L&&(r+=`skewY(${L}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const km=["","X","Y","Z"],S3=1e3;let w3=0;function Um(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function $A(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=jA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ee,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&$A(r)}function ZA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t==null?void 0:t()){this.id=w3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N3),this.nodes.forEach(I3),this.nodes.forEach(O3),this.nodes.forEach(D3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new d3)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ng),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Yg(c)&&!xM(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let v,b=0;const x=()=>this.root.updateBlockedByResize=!1;ee.read(()=>{b=window.innerWidth}),n(c,()=>{const N=window.innerWidth;N!==b&&(b=N,this.root.updateBlockedByResize=!0,v&&v(),v=m3(x,250),bh.hasAnimatedSinceResize&&(bh.hasAnimatedSinceResize=!1,this.nodes.forEach(WT)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||U3,{onLayoutAnimationStart:k,onLayoutAnimationComplete:B}=g.getProps(),G=!this.targetLayout||!XA(this.targetLayout,N),tt=!b&&x;if(this.options.layoutRoot||this.resumeFrom||tt||b&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Fg(L,"layout"),onPlay:k,onComplete:B};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,tt)}else b||WT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j3),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$A(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($T);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ZT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M3),this.nodes.forEach(R3),this.nodes.forEach(C3)):this.nodes.forEach(ZT),this.clearAllSnapshots();const m=_n.now();Fe.delta=Yi(0,1e3/60,m-Fe.timestamp),Fe.timestamp=m,Fe.isProcessing=!0,Rm.update.process(Fe),Rm.preRender.process(Fe),Rm.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V3),this.sharedNodes.forEach(P3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!QA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||$r(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),B3(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Le();const m=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(z3))){const{scroll:v}=this.root;v&&(lo(m.x,v.offset.x),lo(m.y,v.offset.y))}return m}removeElementScroll(c){var p;const m=Le();if(ai(m,c),(p=this.scroll)!=null&&p.wasRoot)return m;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:b,options:x}=v;v!==this.root&&b&&x.layoutScroll&&(b.wasRoot&&ai(m,c),lo(m.x,b.offset.x),lo(m.y,b.offset.y))}return m}applyTransform(c,m=!1){const p=Le();ai(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&uo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),$r(v.latestValues)&&uo(p,v.latestValues)}return $r(this.latestValues)&&uo(p,this.latestValues),p}removeTransform(c){const m=Le();ai(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!$r(g.latestValues))continue;Rp(g.latestValues)&&g.updateSnapshot();const v=Le(),b=g.measurePageBox();ai(v,b),HT(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return $r(this.latestValues)&&HT(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var N;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=Fe.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ai(this.target,this.layout.layoutBox),NA(this.target,this.targetDelta)):ai(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Rp(this.parent.latestValues)||CA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),qh(this.relativeTargetOrigin,m,p),ai(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var L;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ai(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;oI(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:N}=c;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zT(this.prevProjectionDelta.x,this.projectionDelta.x),zT(this.prevProjectionDelta.y,this.projectionDelta.y)),Jl(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!XT(this.projectionDelta.x,this.prevProjectionDelta.x)||!XT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=co(),this.projectionDelta=co(),this.projectionDeltaWithTransform=co()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},b=co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=Le(),N=p?p.source:void 0,L=this.layout?this.layout.source:void 0,k=N!==L,B=this.getStack(),G=!B||B.members.length<=1,tt=!!(k&&!G&&this.options.crossfade===!0&&!this.path.some(k3));this.animationProgress=0;let F;this.mixTargetDelta=rt=>{const at=rt/1e3;JT(b.x,c.x,at),JT(b.y,c.y,at),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L3(this.relativeTarget,this.relativeTargetOrigin,x,at),F&&E3(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Le()),ai(F,this.relativeTarget)),k&&(this.animationValues=v,g3(v,g,this.latestValues,at,tt,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var m,p,g;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(g=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{bh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ji(0)),this.currentAnimation=h3(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&WA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Le();const b=un(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+b;const x=un(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+x}ai(m,p),uo(m,v),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new x3),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var m;const{layoutId:c}=this.options;return c?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:c}=this.options;return c?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&Um("z",c,g,this.animationValues);for(let v=0;v<km.length;v++)Um(`rotate${km[v]}`,c,g,this.animationValues),Um(`skew${km[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=_h(m==null?void 0:m.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=_h(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!$r(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=A3(this.projectionDeltaWithTransform,this.treeScale,v);p&&(b=p(v,b)),c.transform=b;const{x,y:N}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${N.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in wp){if(v[L]===void 0)continue;const{correct:k,applyTo:B,isCSSVariable:G}=wp[L],tt=b==="none"?v[L]:k(v[L],g);if(B){const F=B.length;for(let rt=0;rt<F;rt++)c[B[rt]]=tt}else G?this.options.visualElement.renderState.vars[L]=tt:c[L]=tt}this.options.layoutId&&(c.pointerEvents=g===this?_h(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var m;return(m=c.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach($T),this.root.sharedNodes.clear()}}}function R3(n){n.updateLayout()}function C3(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,c=t.source!==n.layout.source;u==="size"?Hn(b=>{const x=c?t.measuredBox[b]:t.layoutBox[b],N=un(x);x.min=r[b].min,x.max=x.min+N}):WA(u,t.layoutBox,r)&&Hn(b=>{const x=c?t.measuredBox[b]:t.layoutBox[b],N=un(r[b]);x.max=x.min+N,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[b].max=n.relativeTarget[b].min+N)});const m=co();Jl(m,r,t.layoutBox);const p=co();c?Jl(p,n.applyTransform(o,!0),t.measuredBox):Jl(p,r,t.layoutBox);const g=!QA(m);let v=!1;if(!n.resumeFrom){const b=n.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:x,layout:N}=b;if(x&&N){const L=Le();qh(L,t.layoutBox,x.layoutBox);const k=Le();qh(k,r,N.layoutBox),XA(L,k)||(v=!0),b.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=L,n.relativeParent=b)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function N3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function D3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function V3(n){n.clearSnapshot()}function $T(n){n.clearMeasurements()}function ZT(n){n.isLayoutDirty=!1}function M3(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function WT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function I3(n){n.resolveTargetDelta()}function O3(n){n.calcProjection()}function j3(n){n.resetSkewAndRotation()}function P3(n){n.removeLeadSnapshot()}function JT(n,t,i){n.translate=ce(t.translate,0,i),n.scale=ce(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function t1(n,t,i,r){n.min=ce(t.min,i.min,r),n.max=ce(t.max,i.max,r)}function L3(n,t,i,r){t1(n.x,t.x,i.x,r),t1(n.y,t.y,i.y,r)}function k3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const U3={duration:.45,ease:[.4,0,.1,1]},e1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),n1=e1("applewebkit/")&&!e1("chrome/")?Math.round:bn;function i1(n){n.min=n1(n.min),n.max=n1(n.max)}function B3(n){i1(n.x),i1(n.y)}function WA(n,t,i){return n==="position"||n==="preserve-aspect"&&!QI(QT(t),QT(i),.2)}function z3(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const F3=ZA({attachResizeListener:(n,t)=>fu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bm={current:void 0},JA=ZA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Bm.current){const n=new F3({});n.mount(window),n.setOptions({layoutScroll:!0}),Bm.current=n}return Bm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),q3={pan:{Feature:u3},drag:{Feature:l3,ProjectionNode:JA,MeasureLayout:GA}};function s1(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&ee.postRender(()=>u(t,xu(t)))}class H3 extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=uM(t,(i,r)=>(s1(this.node,r,"Start"),o=>s1(this.node,o,"End"))))}unmount(){}}class G3 extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bu(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function r1(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&ee.postRender(()=>u(t,xu(t)))}class Y3 extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=dM(t,(i,r)=>(r1(this.node,r,"Start"),(o,{success:u})=>r1(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Op=new WeakMap,zm=new WeakMap,K3=n=>{const t=Op.get(n.target);t&&t(n)},Q3=n=>{n.forEach(K3)};function X3({root:n,...t}){const i=n||document;zm.has(i)||zm.set(i,{});const r=zm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(Q3,{root:n,...t})),r[o]}function $3(n,t,i){const r=X3(t);return Op.set(n,i),r.observe(n),()=>{Op.delete(n),r.unobserve(n)}}const Z3={some:0,all:1};class W3 extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Z3[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),x=g?v:b;x&&x(p)};return $3(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(J3(t,i))&&this.startObserver()}unmount(){}}function J3({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const t6={inView:{Feature:W3},tap:{Feature:Y3},focus:{Feature:G3},hover:{Feature:H3}},e6={layout:{ProjectionNode:JA,MeasureLayout:GA}},n6={...FI,...t6,...q3,...e6},i6=sI(n6,yI),s6=50,a1=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),r6=()=>({time:0,x:a1(),y:a1()}),a6={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function o1(n,t,i,r){const o=i[t],{length:u,position:c}=a6[t],m=o.current,p=i.time;o.current=n[`scroll${c}`],o.scrollLength=n[`scroll${u}`]-n[`client${u}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=To(0,o.scrollLength,o.current);const g=r-p;o.velocity=g>s6?0:Dg(o.current-m,g)}function o6(n,t,i){o1(n,"x",t,i),o1(n,"y",t,i),t.time=i}function l6(n,t){const i={x:0,y:0};let r=n;for(;r&&r!==t;)if(oA(r))i.x+=r.offsetLeft,i.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const o=r.getBoundingClientRect();r=r.parentElement;const u=r.getBoundingClientRect();i.x+=o.left-u.left,i.y+=o.top-u.top}else if(r instanceof SVGGraphicsElement){const{x:o,y:u}=r.getBBox();i.x+=o,i.y+=u;let c=null,m=r.parentNode;for(;!c;)m.tagName==="svg"&&(c=m),m=r.parentNode;r=c}else break;return i}const jp={start:0,center:.5,end:1};function l1(n,t,i=0){let r=0;if(n in jp&&(n=jp[n]),typeof n=="string"){const o=parseFloat(n);n.endsWith("px")?r=o:n.endsWith("%")?n=o/100:n.endsWith("vw")?r=o/100*document.documentElement.clientWidth:n.endsWith("vh")?r=o/100*document.documentElement.clientHeight:n=o}return typeof n=="number"&&(r=t*n),i+r}const u6=[0,0];function c6(n,t,i,r){let o=Array.isArray(n)?n:u6,u=0,c=0;return typeof n=="number"?o=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?o=n.split(" "):o=[n,jp[n]?n:"0"]),u=l1(o[0],i,r),c=l1(o[1],t),u-c}const h6={All:[[0,0],[1,1]]},f6={x:0,y:0};function d6(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function m6(n,t,i){const{offset:r=h6.All}=i,{target:o=n,axis:u="y"}=i,c=u==="y"?"height":"width",m=o!==n?l6(o,n):f6,p=o===n?{width:n.scrollWidth,height:n.scrollHeight}:d6(o),g={width:n.clientWidth,height:n.clientHeight};t[u].offset.length=0;let v=!t[u].interpolate;const b=r.length;for(let x=0;x<b;x++){const N=c6(r[x],g[c],p[c],m[u]);!v&&N!==t[u].interpolatorOffsets[x]&&(v=!0),t[u].offset[x]=N}v&&(t[u].interpolate=qx(t[u].offset,Hx(r),{clamp:!1}),t[u].interpolatorOffsets=[...t[u].offset]),t[u].progress=Yi(0,1,t[u].interpolate(t[u].current))}function p6(n,t=n,i){if(i.x.targetOffset=0,i.y.targetOffset=0,t!==n){let r=t;for(;r&&r!==n;)i.x.targetOffset+=r.offsetLeft,i.y.targetOffset+=r.offsetTop,r=r.offsetParent}i.x.targetLength=t===n?t.scrollWidth:t.clientWidth,i.y.targetLength=t===n?t.scrollHeight:t.clientHeight,i.x.containerLength=n.clientWidth,i.y.containerLength=n.clientHeight}function g6(n,t,i,r={}){return{measure:o=>{p6(n,r.target,i),o6(n,i,o),(r.offset||r.target)&&m6(n,i,r)},notify:()=>t(i)}}const kl=new WeakMap,u1=new WeakMap,Fm=new WeakMap,c1=n=>n===document.scrollingElement?window:n;function tS(n,{container:t=document.scrollingElement,...i}={}){if(!t)return bn;let r=Fm.get(t);r||(r=new Set,Fm.set(t,r));const o=r6(),u=g6(t,n,o,i);if(r.add(u),!kl.has(t)){const m=()=>{for(const b of r)b.measure(Fe.timestamp);ee.preUpdate(p)},p=()=>{for(const b of r)b.notify()},g=()=>ee.read(m);kl.set(t,g);const v=c1(t);window.addEventListener("resize",g,{passive:!0}),t!==document.documentElement&&u1.set(t,EM(t,g)),v.addEventListener("scroll",g,{passive:!0}),g()}const c=kl.get(t);return ee.read(c,!1,!0),()=>{var g;Ki(c);const m=Fm.get(t);if(!m||(m.delete(u),m.size))return;const p=kl.get(t);kl.delete(t),p&&(c1(t).removeEventListener("scroll",p),(g=u1.get(t))==null||g(),window.removeEventListener("resize",p))}}const h1=new Map;function y6(n){const t={value:0},i=tS(r=>{t.value=r[n.axis].progress*100},n);return{currentTime:t,cancel:i}}function eS({source:n,container:t,...i}){const{axis:r}=i;n&&(t=n);const o=h1.get(t)??new Map;h1.set(t,o);const u=i.target??"self",c=o.get(u)??{},m=r+(i.offset??[]).join(",");return c[m]||(c[m]=!i.target&&Qx()?new ScrollTimeline({source:t,axis:r}):y6({container:t,...i})),c[m]}function v6(n,t){const i=eS(t);return n.attachTimeline({timeline:t.target?void 0:i,observe:r=>(r.pause(),fA(o=>{r.time=r.iterationDuration*o},i))})}function _6(n){return n.length===2}function b6(n,t){return _6(n)?tS(i=>{n(i[t.axis].progress,i)},t):fA(n,eS(t))}function T6(n,{axis:t="y",container:i=document.scrollingElement,...r}={}){if(!i)return bn;const o={axis:t,container:i,...r};return typeof n=="function"?b6(n,o):v6(n,o)}const E6=()=>({scrollX:ji(0),scrollY:ji(0),scrollXProgress:ji(0),scrollYProgress:ji(0)}),lh=n=>n?!n.current:!1;function x6({container:n,target:t,...i}={}){const r=gx(E6),o=ot.useRef(null),u=ot.useRef(!1),c=ot.useCallback(()=>(o.current=T6((m,{x:p,y:g})=>{r.scrollX.set(p.current),r.scrollXProgress.set(p.progress),r.scrollY.set(g.current),r.scrollYProgress.set(g.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var m;(m=o.current)==null||m.call(o)}),[n,t,JSON.stringify(i.offset)]);return yx(()=>{if(u.current=!1,lh(n)||lh(t)){u.current=!0;return}else return c()},[c]),ot.useEffect(()=>{if(u.current)return lu(!lh(n)),lu(!lh(t)),c()},[c]),r}const A6=()=>{const{scrollYProgress:n}=x6();return E.jsx(i6.div,{style:{scaleX:n,position:"fixed",top:0,left:0,right:0,height:4,originX:0,background:"linear-gradient(90deg, #f49221, #ff6b35)",zIndex:9999}})},S6=()=>{var at;const[n,t]=ot.useState(localStorage.getItem("trip_user_name")),[i,r]=ot.useState(null),[o,u]=ot.useState(null),[c,m]=ot.useState([]),[p,g]=ot.useState([]),[v,b]=ot.useState(!1),[x,N]=ot.useState(!1),[L,k]=ot.useState(null),[B,G]=ot.useState(!1),[tt,F]=ot.useState(null),rt=ot.useMemo(()=>o?o.participants.map(nt=>{let C=0,w=0;return c.forEach(M=>{M.paidBy===nt&&(C+=M.amount),M.splitBetween.includes(nt)&&(M.splitType==="custom"&&M.customSplits&&M.customSplits[nt]?w+=M.customSplits[nt]:w+=M.perPersonAmount)}),p.filter(M=>M.isPaid).forEach(M=>{M.from===nt&&(C+=M.amount),M.to===nt&&(w+=M.amount)}),{name:nt,paid:C,owed:w,net:C-w}}):[],[o,c,p]);return ot.useEffect(()=>{const nt=localStorage.getItem("current_trip_id");nt&&r(nt)},[]),ot.useEffect(()=>{if(!i){u(null),m([]),G(!1);return}G(!0),k(null),localStorage.setItem("current_trip_id",i);const nt=setTimeout(()=>{G(!1),k("Connection timeout. Please check your internet connection and try again."),r(null),localStorage.removeItem("current_trip_id")},5e3),C=dD(i,M=>{clearTimeout(nt),G(!1),M?(u(M),k(null)):(k("Trip not found. Verify the Trip ID or check if it was deleted."),r(null),localStorage.removeItem("current_trip_id"))}),w=mD(i,M=>{m(M)}),R=vD(i,M=>{g(M)});return()=>{clearTimeout(nt),C(),w(),R()}},[i]),hD()?n?!i||L?E.jsxs("div",{className:"min-h-screen bg-white pt-10 px-4",children:[L&&E.jsxs("div",{className:"max-w-md mx-auto mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-2xl text-sm font-bold shadow-sm flex items-center gap-3",children:[E.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),L]}),E.jsx(bD,{onTripSelected:r})]}):B?E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#f49221] border-t-transparent mb-4 shadow-lg shadow-[#f49221]/20"}),E.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] mb-6",children:"Connecting to Firebase..."}),E.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:"Clear & Restart"})]}):!o&&i?E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#f49221] border-t-transparent mb-4 shadow-lg shadow-[#f49221]/20"}),E.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] mb-6",children:"Loading trip..."})]}):E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-[#1a0a00] to-black pb-20 relative overflow-hidden",children:[E.jsx(A6,{}),E.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#f49221] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),E.jsx("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-[#e58515] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),E.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-96 h-96 bg-[#f49221] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),E.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-gradient-to-r from-[#f49221]/80 to-[#e58515]/80 border-b border-white/10 shadow-2xl shadow-[#f49221]/20",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:"/manas-split/pics/manas.png",alt:"Manas Split Logo",className:"w-10 h-10 rounded-xl shadow-lg hover:scale-110 transition-transform object-cover"}),E.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"Manas Split"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:()=>{r(null),localStorage.removeItem("current_trip_id")},className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white rounded-lg text-sm font-medium transition-all border border-white/30 hover:border-white/50 flex items-center gap-2",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Trips"]}),E.jsx("div",{className:"w-11 h-11 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white font-bold border-2 border-white/40 shadow-lg hover:scale-110 transition-transform cursor-pointer",children:(at=n==null?void 0:n[0])==null?void 0:at.toUpperCase()})]})]})}),E.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:[E.jsxs("div",{className:"mb-8 backdrop-blur-sm bg-white/5 rounded-3xl p-6 border border-white/10",children:[E.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-white via-[#f49221] to-white bg-clip-text text-transparent mb-3",children:"Dashboard"}),E.jsx("p",{className:"text-gray-300 text-sm",children:"An overview of your group's expenses and balances."}),E.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(i),N(!0),setTimeout(()=>N(!1),2e3)},className:"mt-3 text-xs text-gray-400 hover:text-[#f49221] transition-colors backdrop-blur-sm bg-white/5 px-4 py-2 rounded-lg border border-white/10 hover:border-[#f49221]/50",children:["Trip: ",o.name,"  ID: ",i.substring(0,12),"... ",x?" Copied":" Copy"]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[E.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-[#f49221] to-[#e58515] rounded-full"}),"Balances"]}),E.jsxs("button",{onClick:()=>b(!0),className:"bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white px-6 py-3 rounded-xl font-medium text-sm flex items-center gap-2 transition-all shadow-lg shadow-[#f49221]/50 hover:shadow-xl hover:shadow-[#f49221]/60 hover:scale-105",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:rt.map(nt=>{var C;return E.jsxs("div",{className:"group relative backdrop-blur-xl bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-2xl p-6 hover:border-[#f49221]/50 transition-all hover:shadow-2xl hover:shadow-[#f49221]/30 hover:scale-105 duration-300 cursor-pointer",onClick:()=>F(nt.name),children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f49221]/10 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),E.jsxs("div",{className:"relative z-10",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[o.memberAvatars&&o.memberAvatars[nt.name]?E.jsx("img",{src:((C=zi.find(w=>w.id===o.memberAvatars[nt.name]))==null?void 0:C.image)||"",alt:nt.name,className:"w-10 h-10 rounded-full object-cover border-2 border-[#f49221]/50"}):E.jsx("div",{className:"w-10 h-10 bg-[#f49221]/20 rounded-full flex items-center justify-center text-[#f49221] font-bold border-2 border-[#f49221]/50",children:nt.name[0]}),E.jsx("h4",{className:"text-white font-bold text-lg",children:nt.name})]}),E.jsx("span",{className:`text-xs font-bold px-3 py-1.5 rounded-full backdrop-blur-md ${nt.net<-.01?"bg-red-500/30 text-red-200 border border-red-400/30":nt.net>.01?"bg-[#f49221]/30 text-[#f49221] border border-[#f49221]/30":"bg-gray-500/30 text-gray-300 border border-gray-400/30"}`,children:nt.net<-.01?"Owes":nt.net>.01?"Gets Back":"Settled"})]}),E.jsxs("div",{className:"text-4xl font-black bg-gradient-to-r from-[#f49221] via-[#ff9d3d] to-[#e58515] bg-clip-text text-transparent mb-3 drop-shadow-lg",children:[E.jsx(ln,{className:"mr-2"}),Math.abs(nt.net).toFixed(2)]}),E.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[E.jsx("span",{className:"w-2 h-2 bg-[#f49221] rounded-full animate-pulse"}),"Paid: ",E.jsxs("span",{className:"text-[#f49221] font-bold",children:[E.jsx(ln,{className:"mr-1"}),nt.paid.toFixed(2)]})]})]})]},nt.name)})})]}),E.jsx(xD,{balances:rt,tripId:o.id,trackedSettlements:p,participants:o.participants,trip:o}),E.jsxs("div",{className:"mt-8",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[E.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-[#f49221] to-[#e58515] rounded-full"}),"Recent Expenses"]}),E.jsxs("span",{className:"backdrop-blur-md bg-white/10 border border-white/20 text-gray-300 text-sm px-4 py-2 rounded-full font-medium",children:[c.length," transaction",c.length!==1?"s":""]})]}),c.length===0?E.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border-2 border-dashed border-[#f49221]/30 rounded-3xl p-16 text-center",children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#f49221]/20 to-[#e58515]/20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-md border border-[#f49221]/30",children:E.jsx("svg",{className:"w-10 h-10 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),E.jsx("p",{className:"text-gray-300 text-xl font-semibold mb-2",children:"No expenses yet"}),E.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Get started by adding your first expense."}),E.jsxs("button",{onClick:()=>b(!0),className:"bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white px-8 py-3 rounded-xl font-semibold inline-flex items-center gap-2 transition-all shadow-xl shadow-[#f49221]/50 hover:shadow-2xl hover:shadow-[#f49221]/60 hover:scale-105",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]})]}):E.jsx(ED,{expenses:c,trip:o})]})]}),E.jsx("button",{onClick:()=>b(!0),className:"fixed bottom-8 right-8 w-16 h-16 bg-[#f49221] text-white rounded-2xl shadow-2xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-40 shadow-[#f49221]/40 border-4 border-white",children:E.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),v&&E.jsx(TD,{tripId:o.id,participants:o.participants,trip:o,onClose:()=>b(!1)}),tt&&o&&E.jsx(AD,{person:tt,balances:rt,expenses:c,trip:o,onClose:()=>F(null)})]}):E.jsx(_D,{onJoin:t}):E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-6 text-center",children:E.jsxs("div",{className:"max-w-md bg-white p-10 rounded-[2rem] shadow-2xl border-2 border-[#f49221]",children:[E.jsx("div",{className:"w-20 h-20 bg-[#f49221] text-white rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:E.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),E.jsx("h1",{className:"text-2xl font-bold text-black mb-4 font-pt",children:"Configuration Required"}),E.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"The application needs valid Firebase credentials to function. Check your setup."})]})})},nS=document.getElementById("root");if(!nS)throw new Error("Could not find root element to mount to");const w6=H2.createRoot(nS);w6.render(E.jsx(P2.StrictMode,{children:E.jsx(S6,{})}));
