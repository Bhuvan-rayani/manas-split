(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function l0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bf={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function Pb(){if(Oy)return Fl;Oy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Fl.Fragment=e,Fl.jsx=i,Fl.jsxs=i,Fl}var jy;function qb(){return jy||(jy=1,Bf.exports=Pb()),Bf.exports}var b=qb(),Pf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function Hb(){if(Uy)return Et;Uy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function P(j){return j===null||typeof j!="object"?null:(j=R&&j[R]||j["@@iterator"],typeof j=="function"?j:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,K={};function it(j,X,at){this.props=j,this.context=X,this.refs=K,this.updater=at||J}it.prototype.isReactComponent={},it.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},it.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function ft(){}ft.prototype=it.prototype;function tt(j,X,at){this.props=j,this.context=X,this.refs=K,this.updater=at||J}var rt=tt.prototype=new ft;rt.constructor=tt,W(rt,it.prototype),rt.isPureReactComponent=!0;var _t=Array.isArray;function st(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(j,X,at){var ut=at.ref;return{$$typeof:r,type:j,key:X,ref:ut!==void 0?ut:null,props:at}}function V(j,X){return D(j.type,X,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function C(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(at){return X[at]})}var N=/\/+/g;function xt(j,X){return typeof j=="object"&&j!==null&&j.key!=null?C(""+j.key):X.toString(36)}function Wt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(st,st):(j.status="pending",j.then(function(X){j.status==="pending"&&(j.status="fulfilled",j.value=X)},function(X){j.status==="pending"&&(j.status="rejected",j.reason=X)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,X,at,ut,vt){var Rt=typeof j;(Rt==="undefined"||Rt==="boolean")&&(j=null);var kt=!1;if(j===null)kt=!0;else switch(Rt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(j.$$typeof){case r:case e:kt=!0;break;case A:return kt=j._init,F(kt(j._payload),X,at,ut,vt)}}if(kt)return vt=vt(j),kt=ut===""?"."+xt(j,0):ut,_t(vt)?(at="",kt!=null&&(at=kt.replace(N,"$&/")+"/"),F(vt,X,at,"",function(Gs){return Gs})):vt!=null&&(M(vt)&&(vt=V(vt,at+(vt.key==null||j&&j.key===vt.key?"":(""+vt.key).replace(N,"$&/")+"/")+kt)),X.push(vt)),1;kt=0;var Ce=ut===""?".":ut+":";if(_t(j))for(var ae=0;ae<j.length;ae++)ut=j[ae],Rt=Ce+xt(ut,ae),kt+=F(ut,X,at,Rt,vt);else if(ae=P(j),typeof ae=="function")for(j=ae.call(j),ae=0;!(ut=j.next()).done;)ut=ut.value,Rt=Ce+xt(ut,ae++),kt+=F(ut,X,at,Rt,vt);else if(Rt==="object"){if(typeof j.then=="function")return F(Wt(j),X,at,ut,vt);throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function et(j,X,at){if(j==null)return j;var ut=[],vt=0;return F(j,ut,"","",function(Rt){return X.call(at,Rt,vt++)}),ut}function dt(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(at){(j._status===0||j._status===-1)&&(j._status=1,j._result=at)},function(at){(j._status===0||j._status===-1)&&(j._status=2,j._result=at)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var Ct=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Gt={map:et,forEach:function(j,X,at){et(j,function(){X.apply(this,arguments)},at)},count:function(j){var X=0;return et(j,function(){X++}),X},toArray:function(j){return et(j,function(X){return X})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Et.Activity=S,Et.Children=Gt,Et.Component=it,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=tt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Et.__COMPILER_RUNTIME={__proto__:null,c:function(j){return x.H.useMemoCache(j)}},Et.cache=function(j){return function(){return j.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(j,X,at){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ut=W({},j.props),vt=j.key;if(X!=null)for(Rt in X.key!==void 0&&(vt=""+X.key),X)!w.call(X,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&X.ref===void 0||(ut[Rt]=X[Rt]);var Rt=arguments.length-2;if(Rt===1)ut.children=at;else if(1<Rt){for(var kt=Array(Rt),Ce=0;Ce<Rt;Ce++)kt[Ce]=arguments[Ce+2];ut.children=kt}return D(j.type,vt,ut)},Et.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},Et.createElement=function(j,X,at){var ut,vt={},Rt=null;if(X!=null)for(ut in X.key!==void 0&&(Rt=""+X.key),X)w.call(X,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(vt[ut]=X[ut]);var kt=arguments.length-2;if(kt===1)vt.children=at;else if(1<kt){for(var Ce=Array(kt),ae=0;ae<kt;ae++)Ce[ae]=arguments[ae+2];vt.children=Ce}if(j&&j.defaultProps)for(ut in kt=j.defaultProps,kt)vt[ut]===void 0&&(vt[ut]=kt[ut]);return D(j,Rt,vt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(j){return{$$typeof:p,render:j}},Et.isValidElement=M,Et.lazy=function(j){return{$$typeof:A,_payload:{_status:-1,_result:j},_init:dt}},Et.memo=function(j,X){return{$$typeof:_,type:j,compare:X===void 0?null:X}},Et.startTransition=function(j){var X=x.T,at={};x.T=at;try{var ut=j(),vt=x.S;vt!==null&&vt(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(st,Ct)}catch(Rt){Ct(Rt)}finally{X!==null&&at.types!==null&&(X.types=at.types),x.T=X}},Et.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Et.use=function(j){return x.H.use(j)},Et.useActionState=function(j,X,at){return x.H.useActionState(j,X,at)},Et.useCallback=function(j,X){return x.H.useCallback(j,X)},Et.useContext=function(j){return x.H.useContext(j)},Et.useDebugValue=function(){},Et.useDeferredValue=function(j,X){return x.H.useDeferredValue(j,X)},Et.useEffect=function(j,X){return x.H.useEffect(j,X)},Et.useEffectEvent=function(j){return x.H.useEffectEvent(j)},Et.useId=function(){return x.H.useId()},Et.useImperativeHandle=function(j,X,at){return x.H.useImperativeHandle(j,X,at)},Et.useInsertionEffect=function(j,X){return x.H.useInsertionEffect(j,X)},Et.useLayoutEffect=function(j,X){return x.H.useLayoutEffect(j,X)},Et.useMemo=function(j,X){return x.H.useMemo(j,X)},Et.useOptimistic=function(j,X){return x.H.useOptimistic(j,X)},Et.useReducer=function(j,X,at){return x.H.useReducer(j,X,at)},Et.useRef=function(j){return x.H.useRef(j)},Et.useState=function(j){return x.H.useState(j)},Et.useSyncExternalStore=function(j,X,at){return x.H.useSyncExternalStore(j,X,at)},Et.useTransition=function(){return x.H.useTransition()},Et.version="19.2.3",Et}var ky;function wd(){return ky||(ky=1,Pf.exports=Hb()),Pf.exports}var Tt=wd();const Fb=l0(Tt);var qf={exports:{}},Gl={},Hf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function Gb(){return Ly||(Ly=1,(function(r){function e(F,et){var dt=F.length;F.push(et);t:for(;0<dt;){var Ct=dt-1>>>1,Gt=F[Ct];if(0<o(Gt,et))F[Ct]=et,F[dt]=Gt,dt=Ct;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],dt=F.pop();if(dt!==et){F[0]=dt;t:for(var Ct=0,Gt=F.length,j=Gt>>>1;Ct<j;){var X=2*(Ct+1)-1,at=F[X],ut=X+1,vt=F[ut];if(0>o(at,dt))ut<Gt&&0>o(vt,at)?(F[Ct]=vt,F[ut]=dt,Ct=ut):(F[Ct]=at,F[X]=dt,Ct=X);else if(ut<Gt&&0>o(vt,dt))F[Ct]=vt,F[ut]=dt,Ct=ut;else break t}}return et}function o(F,et){var dt=F.sortIndex-et.sortIndex;return dt!==0?dt:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,S=null,R=3,P=!1,J=!1,W=!1,K=!1,it=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function rt(F){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=F)a(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function _t(F){if(W=!1,rt(F),!J)if(i(v)!==null)J=!0,st||(st=!0,C());else{var et=i(_);et!==null&&Wt(_t,et.startTime-F)}}var st=!1,x=-1,w=5,D=-1;function V(){return K?!0:!(r.unstable_now()-D<w)}function M(){if(K=!1,st){var F=r.unstable_now();D=F;var et=!0;try{t:{J=!1,W&&(W=!1,ft(x),x=-1),P=!0;var dt=R;try{e:{for(rt(F),S=i(v);S!==null&&!(S.expirationTime>F&&V());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,R=S.priorityLevel;var Gt=Ct(S.expirationTime<=F);if(F=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,rt(F),et=!0;break e}S===i(v)&&a(v),rt(F)}else a(v);S=i(v)}if(S!==null)et=!0;else{var j=i(_);j!==null&&Wt(_t,j.startTime-F),et=!1}}break t}finally{S=null,R=dt,P=!1}et=void 0}}finally{et?C():st=!1}}}var C;if(typeof tt=="function")C=function(){tt(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,xt=N.port2;N.port1.onmessage=M,C=function(){xt.postMessage(null)}}else C=function(){it(M,0)};function Wt(F,et){x=it(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(F){switch(R){case 1:case 2:case 3:var et=3;break;default:et=R}var dt=R;R=et;try{return F()}finally{R=dt}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=R;R=F;try{return et()}finally{R=dt}},r.unstable_scheduleCallback=function(F,et,dt){var Ct=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ct+dt:Ct):dt=Ct,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,F={id:A++,callback:et,priorityLevel:F,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>Ct?(F.sortIndex=dt,e(_,F),i(v)===null&&F===i(_)&&(W?(ft(x),x=-1):W=!0,Wt(_t,dt-Ct))):(F.sortIndex=Gt,e(v,F),J||P||(J=!0,st||(st=!0,C()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var et=R;return function(){var dt=R;R=et;try{return F.apply(this,arguments)}finally{R=dt}}}})(Ff)),Ff}var zy;function Qb(){return zy||(zy=1,Hf.exports=Gb()),Hf.exports}var Gf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function Yb(){if(By)return Qe;By=1;var r=wd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:P}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:R,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var Py;function Kb(){if(Py)return Gf.exports;Py=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gf.exports=Yb(),Gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function Xb(){if(qy)return Gl;qy=1;var r=Qb(),e=wd(),i=Kb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case it:return"Profiler";case K:return"StrictMode";case _t:return"Suspense";case st:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case tt:return t.displayName||"Context";case ft:return(t._context.displayName||"Context")+".Consumer";case rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:xt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return xt(t(n))}catch{}}return null}var Wt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ct=[],Gt=-1;function j(t){return{current:t}}function X(t){0>Gt||(t.current=Ct[Gt],Ct[Gt]=null,Gt--)}function at(t,n){Gt++,Ct[Gt]=t.current,t.current=n}var ut=j(null),vt=j(null),Rt=j(null),kt=j(null);function Ce(t,n){switch(at(Rt,n),at(vt,t),at(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?iy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=iy(n),t=sy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ut),at(ut,t)}function ae(){X(ut),X(vt),X(Rt)}function Gs(t){t.memoizedState!==null&&at(kt,t);var n=ut.current,s=sy(n,t.type);n!==s&&(at(vt,t),at(ut,s))}function Ma(t){vt.current===t&&(X(ut),X(vt)),kt.current===t&&(X(kt),Bl._currentValue=dt)}var Oa,ja;function Zn(t){if(Oa===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Oa=n&&n[1]||"",ja=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+t+ja}var Br=!1;function Qs(t,n){if(!t||Br)return"";Br=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){B=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(c=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===I.length||c===z.length)for(l=I.length-1,c=z.length-1;1<=l&&0<=c&&I[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(I[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||I[l]!==z[c]){var G=`
`+I[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Br=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Zn(s):""}function Pr(t,n){switch(t.tag){case 26:case 27:case 5:return Zn(t.type);case 16:return Zn("Lazy");case 13:return t.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Qs(t.type,!1);case 11:return Qs(t.type.render,!1);case 1:return Qs(t.type,!0);case 31:return Zn("Activity");default:return""}}function qr(t){try{var n="",s=null;do n+=Pr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Zi=r.unstable_cancelCallback,Pc=r.unstable_shouldYield,_o=r.unstable_requestPaint,Ze=r.unstable_now,Ys=r.unstable_getCurrentPriorityLevel,Hr=r.unstable_ImmediatePriority,Fr=r.unstable_UserBlockingPriority,$i=r.unstable_NormalPriority,qc=r.unstable_LowPriority,vo=r.unstable_IdlePriority,bo=r.log,Eo=r.unstable_setDisableYieldValue,Mn=null,ke=null;function vn(t){if(typeof bo=="function"&&Eo(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Mn,t)}catch{}}var he=Math.clz32?Math.clz32:Ao,To=Math.log,Ua=Math.LN2;function Ao(t){return t>>>=0,t===0?32:31-(To(t)/Ua|0)|0}var $n=256,Ks=262144,ye=4194304;function Jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Jn(l):(g&=E,g!==0?c=Jn(g):s||(s=E&~t,s!==0&&(c=Jn(s))))):(E=l&~f,E!==0?c=Jn(E):g!==0?c=Jn(g):s||(s=l&~t,s!==0&&(c=Jn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function On(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Hc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ti(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Xs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-he(s),Y=1<<G;E[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}s&=~Y}l!==0&&Zs(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Zs(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Gr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-he(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Qr(t,n){var s=n&-n;return s=(s&42)!==0?1:$s(s),(s&(t.suspendedLanes|n))!==0?0:s}function $s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function So(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Ry(t.type))}function jn(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var Un=Math.random().toString(36).slice(2),_e="__reactFiber$"+Un,Me="__reactProps$"+Un,ei="__reactContainer$"+Un,ka="__reactEvents$"+Un,Gc="__reactListeners$"+Un,wo="__reactHandles$"+Un,Ro="__reactResources$"+Un,ni="__reactMarker$"+Un;function La(t){delete t[_e],delete t[Me],delete t[ka],delete t[Gc],delete t[wo]}function ii(t){var n=t[_e];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ei]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=hy(t);t!==null;){if(s=t[_e])return s;t=hy(t)}return n}t=s,s=t.parentNode}return null}function bn(t){if(t=t[_e]||t[ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function si(t){var n=t[Ro];return n||(n=t[Ro]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ni]=!0}var Yr=new Set,Kr={};function ai(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(Kr[t]=n,t=0;t<n.length;t++)Yr.add(n[t])}var Xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zr={},$r={};function No(t){return pe.call($r,t)?!0:pe.call(Zr,t)?!1:Xr.test(t)?$r[t]=!0:(Zr[t]=!0,!1)}function za(t,n,s){if(No(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function cn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function be(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ji(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jr(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=Ji(t)?"checked":"value";t._valueTracker=Jr(t,n,""+t[n])}}function Js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ji(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ws=/[\n"\\]/g;function We(t){return t.replace(Ws,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ba(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Wr(t,g,Oe(n)):s!=null?Wr(t,g,Oe(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function Co(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(t);return}s=s!=null?""+Oe(s):"",n=n!=null?""+Oe(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Qt(t)}function Wr(t,n,s){n==="number"&&li(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Wi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Oe(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Do(t,n,s){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Oe(s):""}function ts(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Wt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Oe(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Qt(t)}function tn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Io.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function el(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&tl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&tl(t,f,n[f])}function Pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(t){return es.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kn(){}var nl=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ns=null,oi=null;function ta(t){var n=bn(t);if(n&&(t=n.stateNode)){var s=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ba(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(a(90));Ba(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Js(l)}break t;case"textarea":Do(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Wi(t,!!s.multiple,n,!1)}}}var Ha=!1;function is(t,n,s){if(Ha)return t(n,s);Ha=!0;try{var l=t(n);return l}finally{if(Ha=!1,(ns!==null||oi!==null)&&(Su(),ns&&(n=ns,t=oi,oi=ns=null,ta(n),t)))for(n=0;n<t.length;n++)ta(t[n])}}function Ln(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Me]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if(Tn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ea=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ea=!1}var ui=null,il=null,na=null;function sl(){if(na)return na;var t,n=il,s=n.length,l,c="value"in ui?ui.value:ui.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return na=c.slice(t,1<l?1-l:void 0)}function ia(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ni(){return!0}function zn(){return!1}function Le(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:zn,this.isPropagationStopped=zn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=Le(Ci),ss=S({},Ci,{view:0,detail:0}),al=Le(ss),as,Fa,hi,Ga=S({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(as=t.screenX-hi.screenX,Fa=t.screenY-hi.screenY):Fa=as=0,hi=t),as)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),rl=Le(Ga),sa=S({},Ga,{dataTransfer:0}),Mo=Le(sa),Oo=S({},ss,{relatedTarget:0}),aa=Le(Oo),ll=S({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=Le(ll),Qa=S({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uo=Le(Qa),ko=S({},Ci,{data:0}),fi=Le(ko),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function rs(){return Po}var $e=S({},ss,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(t){return t.type==="keypress"?ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qo=Le($e),Ho=S({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Le(Ho),u=S({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),m=Le(u),y=S({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(y),k=S({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Le(k),nt=S({},Ci,{newState:0,oldState:0}),St=Le(nt),fe=[9,13,27,32],qt=Tn&&"CompositionEvent"in window,re=null;Tn&&"documentMode"in document&&(re=document.documentMode);var An=Tn&&"TextEvent"in window&&!re,di=Tn&&(!qt||re&&8<re&&11>=re),Bn=" ",Pn=!1;function ra(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function h1(t,n){switch(t){case"compositionend":return Ya(n);case"keypress":return n.which!==32?null:(Pn=!0,Bn);case"textInput":return t=n.data,t===Bn&&Pn?null:t;default:return null}}function f1(t,n){if(Ka)return t==="compositionend"||!qt&&ra(t,n)?(t=sl(),na=il=ui=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!d1[t.type]:n==="textarea"}function gm(t,n,s,l){ns?oi?oi.push(l):oi=[l]:ns=l,n=Vu(n,"onChange"),0<n.length&&(s=new ci("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var ol=null,ul=null;function m1(t){$p(t,0)}function Fo(t){var n=un(t);if(Js(n))return t}function pm(t,n){if(t==="change")return n}var ym=!1;if(Tn){var Qc;if(Tn){var Yc="oninput"in document;if(!Yc){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),Yc=typeof _m.oninput=="function"}Qc=Yc}else Qc=!1;ym=Qc&&(!document.documentMode||9<document.documentMode)}function vm(){ol&&(ol.detachEvent("onpropertychange",bm),ul=ol=null)}function bm(t){if(t.propertyName==="value"&&Fo(ul)){var n=[];gm(n,ul,t,En(t)),is(m1,n)}}function g1(t,n,s){t==="focusin"?(vm(),ol=n,ul=s,ol.attachEvent("onpropertychange",bm)):t==="focusout"&&vm()}function p1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(ul)}function y1(t,n){if(t==="click")return Fo(n)}function _1(t,n){if(t==="input"||t==="change")return Fo(n)}function v1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:v1;function cl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!pe.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function Em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tm(t,n){var s=Em(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Em(s)}}function Am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=li(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=li(t.document)}return n}function Kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var b1=Tn&&"documentMode"in document&&11>=document.documentMode,Xa=null,Xc=null,hl=null,Zc=!1;function Sm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zc||Xa==null||Xa!==li(l)||(l=Xa,"selectionStart"in l&&Kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Vu(Xc,"onSelect"),0<l.length&&(n=new ci("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Xa)))}function la(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Za={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},$c={},wm={};Tn&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function oa(t){if($c[t])return $c[t];if(!Za[t])return t;var n=Za[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in wm)return $c[t]=n[s];return t}var Rm=oa("animationend"),Nm=oa("animationiteration"),Cm=oa("animationstart"),E1=oa("transitionrun"),T1=oa("transitionstart"),A1=oa("transitioncancel"),Dm=oa("transitionend"),Im=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function qn(t,n){Im.set(t,n),ai(n,[t])}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],$a=0,Wc=0;function Qo(){for(var t=$a,n=Wc=$a=0;n<t;){var s=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var c=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Vm(s,c,f)}}function Yo(t,n,s,l){xn[$a++]=t,xn[$a++]=n,xn[$a++]=s,xn[$a++]=l,Wc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function th(t,n,s,l){return Yo(t,n,s,l),Ko(t)}function ua(t,n){return Yo(t,null,null,n),Ko(t)}function Vm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Ko(t){if(50<Ml)throw Ml=0,cf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ja={};function x1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,s,l){return new x1(t,n,s,l)}function eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,n){var s=t.alternate;return s===null?(s=fn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Mm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")eh(t)&&(g=1);else if(typeof t=="string")g=Cb(t,s,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=fn(31,s,n,c),t.elementType=D,t.lanes=f,t;case W:return ca(s.children,c,f,n);case K:g=8,c|=24;break;case it:return t=fn(12,s,n,c|2),t.elementType=it,t.lanes=f,t;case _t:return t=fn(13,s,n,c),t.elementType=_t,t.lanes=f,t;case st:return t=fn(19,s,n,c),t.elementType=st,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:g=10;break t;case ft:g=9;break t;case rt:g=11;break t;case x:g=14;break t;case w:g=16,l=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ca(t,n,s,l){return t=fn(7,t,l,n),t.lanes=s,t}function nh(t,n,s){return t=fn(6,t,null,n),t.lanes=s,t}function Om(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function ih(t,n,s){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jm=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var s=jm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:qr(n)},jm.set(t,n),n)}return{value:t,source:n,stack:qr(n)}}var Wa=[],tr=0,Zo=null,fl=0,wn=[],Rn=0,ls=null,mi=1,gi="";function Vi(t,n){Wa[tr++]=fl,Wa[tr++]=Zo,Zo=t,fl=n}function Um(t,n,s){wn[Rn++]=mi,wn[Rn++]=gi,wn[Rn++]=ls,ls=t;var l=mi;t=gi;var c=32-he(l)-1;l&=~(1<<c),s+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,mi=1<<32-he(n)+c|s<<c|l,gi=f+t}else mi=1<<f|s<<c|l,gi=t}function sh(t){t.return!==null&&(Vi(t,1),Um(t,1,0))}function ah(t){for(;t===Zo;)Zo=Wa[--tr],Wa[tr]=null,fl=Wa[--tr],Wa[tr]=null;for(;t===ls;)ls=wn[--Rn],wn[Rn]=null,gi=wn[--Rn],wn[Rn]=null,mi=wn[--Rn],wn[Rn]=null}function km(t,n){wn[Rn++]=mi,wn[Rn++]=gi,wn[Rn++]=ls,mi=n.id,gi=n.overflow,ls=t}var ze=null,ne=null,Ut=!1,os=null,Nn=!1,rh=Error(a(519));function us(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(Sn(n,t)),rh}function Lm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Me]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<jl.length;s++)It(jl[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Co(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ts(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ey(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||us(t,!0)}function zm(t){for(ze=t.return;ze;)switch(ze.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ze=ze.return}}function er(t){if(t!==ze)return!1;if(!Ut)return zm(t),Ut=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Sf(t.type,t.memoizedProps)),s=!s),s&&ne&&us(t),zm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ne=cy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ne=cy(t)}else n===27?(n=ne,As(t.type)?(t=Df,Df=null,ne=t):ne=n):ne=ze?Dn(t.stateNode.nextSibling):null;return!0}function ha(){ne=ze=null,Ut=!1}function lh(){var t=os;return t!==null&&(an===null?an=t:an.push.apply(an,t),os=null),t}function dl(t){os===null?os=[t]:os.push(t)}var oh=j(null),fa=null,Mi=null;function cs(t,n,s){at(oh,n._currentValue),n._currentValue=s}function Oi(t){t._currentValue=oh.current,X(oh)}function uh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ch(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),uh(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),uh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function nr(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===kt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&ch(n,t,s,l),n.flags|=262144}function $o(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function da(t){fa=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return Bm(fa,t)}function Jo(t,n){return fa===null&&da(t),Bm(t,n)}function Bm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Mi===null){if(t===null)throw Error(a(308));Mi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Mi=Mi.next=n;return s}var S1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},w1=r.unstable_scheduleCallback,R1=r.unstable_NormalPriority,Ee={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new S1,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&w1(R1,function(){t.controller.abort()})}var gl=null,fh=0,ir=0,sr=null;function N1(t,n){if(gl===null){var s=gl=[];fh=0,ir=pf(),sr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return fh++,n.then(Pm,Pm),n}function Pm(){if(--fh===0&&gl!==null){sr!==null&&(sr.status="fulfilled");var t=gl;gl=null,ir=0,sr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function C1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var qm=F.S;F.S=function(t,n){Sp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&N1(t,n),qm!==null&&qm(t,n)};var ma=j(null);function dh(){var t=ma.current;return t!==null?t:te.pooledCache}function Wo(t,n){n===null?at(ma,ma.current):at(ma,n.pool)}function Hm(){var t=dh();return t===null?null:{parent:Ee._currentValue,pool:t}}var ar=Error(a(460)),mh=Error(a(474)),tu=Error(a(542)),eu={then:function(){}};function Fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(kn,kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ym(t),t;default:if(typeof n.status=="string")n.then(kn,kn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ym(t),t}throw pa=n,ar}}function ga(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(pa=s,ar):s}}var pa=null;function Qm(){if(pa===null)throw Error(a(459));var t=pa;return pa=null,t}function Ym(t){if(t===ar||t===tu)throw Error(a(483))}var rr=null,pl=0;function nu(t){var n=pl;return pl+=1,rr===null&&(rr=[]),Gm(rr,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Km(t){function n(U,O){if(t){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function s(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=Ii(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,L,Q){return O===null||O.tag!==6?(O=nh(L,U.mode,Q),O.return=U,O):(O=c(O,L),O.return=U,O)}function I(U,O,L,Q){var mt=L.type;return mt===W?G(U,O,L.props.children,Q,L.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&ga(mt)===O.type)?(O=c(O,L.props),yl(O,L),O.return=U,O):(O=Xo(L.type,L.key,L.props,null,U.mode,Q),yl(O,L),O.return=U,O)}function z(U,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=ih(L,U.mode,Q),O.return=U,O):(O=c(O,L.children||[]),O.return=U,O)}function G(U,O,L,Q,mt){return O===null||O.tag!==7?(O=ca(L,U.mode,Q,mt),O.return=U,O):(O=c(O,L),O.return=U,O)}function Y(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=nh(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return L=Xo(O.type,O.key,O.props,null,U.mode,L),yl(L,O),L.return=U,L;case J:return O=ih(O,U.mode,L),O.return=U,O;case w:return O=ga(O),Y(U,O,L)}if(Wt(O)||C(O))return O=ca(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return Y(U,nu(O),L);if(O.$$typeof===tt)return Y(U,Jo(U,O),L);iu(U,O)}return null}function B(U,O,L,Q){var mt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return mt!==null?null:E(U,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===mt?I(U,O,L,Q):null;case J:return L.key===mt?z(U,O,L,Q):null;case w:return L=ga(L),B(U,O,L,Q)}if(Wt(L)||C(L))return mt!==null?null:G(U,O,L,Q,null);if(typeof L.then=="function")return B(U,O,nu(L),Q);if(L.$$typeof===tt)return B(U,O,Jo(U,L),Q);iu(U,L)}return null}function H(U,O,L,Q,mt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(L)||null,E(O,U,""+Q,mt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return U=U.get(Q.key===null?L:Q.key)||null,I(O,U,Q,mt);case J:return U=U.get(Q.key===null?L:Q.key)||null,z(O,U,Q,mt);case w:return Q=ga(Q),H(U,O,L,Q,mt)}if(Wt(Q)||C(Q))return U=U.get(L)||null,G(O,U,Q,mt,null);if(typeof Q.then=="function")return H(U,O,L,nu(Q),mt);if(Q.$$typeof===tt)return H(U,O,L,Jo(O,Q),mt);iu(O,Q)}return null}function ct(U,O,L,Q){for(var mt=null,Bt=null,ht=O,Nt=O=0,Mt=null;ht!==null&&Nt<L.length;Nt++){ht.index>Nt?(Mt=ht,ht=null):Mt=ht.sibling;var Pt=B(U,ht,L[Nt],Q);if(Pt===null){ht===null&&(ht=Mt);break}t&&ht&&Pt.alternate===null&&n(U,ht),O=f(Pt,O,Nt),Bt===null?mt=Pt:Bt.sibling=Pt,Bt=Pt,ht=Mt}if(Nt===L.length)return s(U,ht),Ut&&Vi(U,Nt),mt;if(ht===null){for(;Nt<L.length;Nt++)ht=Y(U,L[Nt],Q),ht!==null&&(O=f(ht,O,Nt),Bt===null?mt=ht:Bt.sibling=ht,Bt=ht);return Ut&&Vi(U,Nt),mt}for(ht=l(ht);Nt<L.length;Nt++)Mt=H(ht,U,Nt,L[Nt],Q),Mt!==null&&(t&&Mt.alternate!==null&&ht.delete(Mt.key===null?Nt:Mt.key),O=f(Mt,O,Nt),Bt===null?mt=Mt:Bt.sibling=Mt,Bt=Mt);return t&&ht.forEach(function(Ns){return n(U,Ns)}),Ut&&Vi(U,Nt),mt}function pt(U,O,L,Q){if(L==null)throw Error(a(151));for(var mt=null,Bt=null,ht=O,Nt=O=0,Mt=null,Pt=L.next();ht!==null&&!Pt.done;Nt++,Pt=L.next()){ht.index>Nt?(Mt=ht,ht=null):Mt=ht.sibling;var Ns=B(U,ht,Pt.value,Q);if(Ns===null){ht===null&&(ht=Mt);break}t&&ht&&Ns.alternate===null&&n(U,ht),O=f(Ns,O,Nt),Bt===null?mt=Ns:Bt.sibling=Ns,Bt=Ns,ht=Mt}if(Pt.done)return s(U,ht),Ut&&Vi(U,Nt),mt;if(ht===null){for(;!Pt.done;Nt++,Pt=L.next())Pt=Y(U,Pt.value,Q),Pt!==null&&(O=f(Pt,O,Nt),Bt===null?mt=Pt:Bt.sibling=Pt,Bt=Pt);return Ut&&Vi(U,Nt),mt}for(ht=l(ht);!Pt.done;Nt++,Pt=L.next())Pt=H(ht,U,Nt,Pt.value,Q),Pt!==null&&(t&&Pt.alternate!==null&&ht.delete(Pt.key===null?Nt:Pt.key),O=f(Pt,O,Nt),Bt===null?mt=Pt:Bt.sibling=Pt,Bt=Pt);return t&&ht.forEach(function(Bb){return n(U,Bb)}),Ut&&Vi(U,Nt),mt}function Jt(U,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:t:{for(var mt=L.key;O!==null;){if(O.key===mt){if(mt=L.type,mt===W){if(O.tag===7){s(U,O.sibling),Q=c(O,L.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&ga(mt)===O.type){s(U,O.sibling),Q=c(O,L.props),yl(Q,L),Q.return=U,U=Q;break t}s(U,O);break}else n(U,O);O=O.sibling}L.type===W?(Q=ca(L.props.children,U.mode,Q,L.key),Q.return=U,U=Q):(Q=Xo(L.type,L.key,L.props,null,U.mode,Q),yl(Q,L),Q.return=U,U=Q)}return g(U);case J:t:{for(mt=L.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(U,O.sibling),Q=c(O,L.children||[]),Q.return=U,U=Q;break t}else{s(U,O);break}else n(U,O);O=O.sibling}Q=ih(L,U.mode,Q),Q.return=U,U=Q}return g(U);case w:return L=ga(L),Jt(U,O,L,Q)}if(Wt(L))return ct(U,O,L,Q);if(C(L)){if(mt=C(L),typeof mt!="function")throw Error(a(150));return L=mt.call(L),pt(U,O,L,Q)}if(typeof L.then=="function")return Jt(U,O,nu(L),Q);if(L.$$typeof===tt)return Jt(U,O,Jo(U,L),Q);iu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(U,O.sibling),Q=c(O,L),Q.return=U,U=Q):(s(U,O),Q=nh(L,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,O)}return function(U,O,L,Q){try{pl=0;var mt=Jt(U,O,L,Q);return rr=null,mt}catch(ht){if(ht===ar||ht===tu)throw ht;var Bt=fn(29,ht,null,U.mode);return Bt.lanes=Q,Bt.return=U,Bt}finally{}}}var ya=Km(!0),Xm=Km(!1),hs=!1;function gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ds(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ko(t),Vm(t,null,s),n}return Yo(t,l,n,s),Ko(t)}function _l(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Gr(t,s)}}function yh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var _h=!1;function vl(){if(_h){var t=sr;if(t!==null)throw t}}function bl(t,n,s,l){_h=!1;var c=t.updateQueue;hs=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var Y=c.baseState;g=0,G=z=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Vt&B)===B:(l&B)===B){B!==0&&B===ir&&(_h=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=t,pt=E;B=n;var Jt=s;switch(pt.tag){case 1:if(ct=pt.payload,typeof ct=="function"){Y=ct.call(Jt,Y,B);break t}Y=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=pt.payload,B=typeof ct=="function"?ct.call(Jt,Y,B):ct,B==null)break t;Y=S({},Y,B);break t;case 2:hs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=Y):G=G.next=H,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);G===null&&(I=Y),c.baseState=I,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),_s|=g,t.lanes=g,t.memoizedState=Y}}function Zm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $m(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zm(s[t],n)}var lr=j(null),su=j(0);function Jm(t,n){t=Hi,at(su,t),at(lr,n),Hi=t|n.baseLanes}function vh(){at(su,Hi),at(lr,lr.current)}function bh(){Hi=su.current,X(lr),X(su)}var dn=j(null),Cn=null;function ms(t){var n=t.alternate;at(de,de.current&1),at(dn,t),Cn===null&&(n===null||lr.current!==null||n.memoizedState!==null)&&(Cn=t)}function Eh(t){at(de,de.current),at(dn,t),Cn===null&&(Cn=t)}function Wm(t){t.tag===22?(at(de,de.current),at(dn,t),Cn===null&&(Cn=t)):gs()}function gs(){at(de,de.current),at(dn,dn.current)}function mn(t){X(dn),Cn===t&&(Cn=null),X(de)}var de=j(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Nf(s)||Cf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,wt=null,Zt=null,Te=null,ru=!1,or=!1,_a=!1,lu=0,El=0,ur=null,D1=0;function ue(){throw Error(a(321))}function Th(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!hn(t[s],n[s]))return!1;return!0}function Ah(t,n,s,l,c,f){return ji=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Ug:Lh,_a=!1,f=s(l,c),_a=!1,or&&(f=eg(n,s,l,c)),tg(t),f}function tg(t){F.H=xl;var n=Zt!==null&&Zt.next!==null;if(ji=0,Te=Zt=wt=null,ru=!1,El=0,ur=null,n)throw Error(a(300));t===null||Ae||(t=t.dependencies,t!==null&&$o(t)&&(Ae=!0))}function eg(t,n,s,l){wt=t;var c=0;do{if(or&&(ur=null),El=0,or=!1,25<=c)throw Error(a(301));if(c+=1,Te=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=kg,f=n(s,l)}while(or);return f}function I1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Tl(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(wt.flags|=1024),n}function xh(){var t=lu!==0;return lu=0,t}function Sh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function wh(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}ji=0,Te=Zt=wt=null,or=!1,El=lu=0,ur=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?wt.memoizedState=Te=t:Te=Te.next=t,Te}function me(){if(Zt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Te===null?wt.memoizedState:Te.next;if(n!==null)Te=n,Zt=t;else{if(t===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Te===null?wt.memoizedState=Te=t:Te=Te.next=t}return Te}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var n=El;return El+=1,ur===null&&(ur=[]),t=Gm(ur,t,n),n=wt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Ug:Lh),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===tt)return Be(t)}throw Error(a(438,String(t)))}function Rh(t){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ou(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function Ui(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=me();return Nh(n,Zt,t)}function Nh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,I=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Vt&Y)===Y:(ji&Y)===Y){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===ir&&(G=!0);else if((ji&B)===B){z=z.next,B===ir&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,wt.lanes|=B,_s|=B;Y=z.action,_a&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else B={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,g=f):I=I.next=B,wt.lanes|=Y,_s|=Y;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!hn(f,t.memoizedState)&&(Ae=!0,G&&(s=sr,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=I,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ch(t){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ng(t,n,s){var l=wt,c=me(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!hn((Zt||c).memoizedState,s);if(g&&(c.memoizedState=s,Ae=!0),c=c.queue,Vh(ag.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,cr(9,{destroy:void 0},sg.bind(null,l,c,s,n),null),te===null)throw Error(a(349));f||(ji&127)!==0||ig(l,n,s)}return s}function ig(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=ou(),wt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function sg(t,n,s,l){n.value=s,n.getSnapshot=l,rg(n)&&lg(t)}function ag(t,n,s){return s(function(){rg(n)&&lg(t)})}function rg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!hn(t,s)}catch{return!0}}function lg(t){var n=ua(t,2);n!==null&&rn(n,t,2)}function Dh(t){var n=Je();if(typeof t=="function"){var s=t;if(t=s(),_a){vn(!0);try{s()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function og(t,n,s,l){return t.baseState=s,Nh(t,Zt,typeof l=="function"?l:Ui)}function V1(t,n,s,l,c){if(du(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,ug(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ug(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(c,l),I=F.S;I!==null&&I(g,E),cg(t,n,E)}catch(z){Ih(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(c,l),cg(t,n,f)}catch(z){Ih(t,n,z)}}function cg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){hg(t,n,l)},function(l){return Ih(t,n,l)}):hg(t,n,s)}function hg(t,n,s){n.status="fulfilled",n.value=s,fg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ug(t,s)))}function Ih(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,fg(n),n=n.next;while(n!==l)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function mg(t,n){if(Ut){var s=te.formState;if(s!==null){t:{var l=wt;if(Ut){if(ne){e:{for(var c=ne,f=Nn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=Dn(c.nextSibling),l=c.data==="F!";break t}}us(l)}l=!1}l&&(n=s[0])}}return s=Je(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},s.queue=l,s=Mg.bind(null,wt,l),l.dispatch=s,l=Dh(!1),f=kh.bind(null,wt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=V1.bind(null,wt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function gg(t){var n=me();return pg(n,Zt,t)}function pg(t,n,s){if(n=Nh(t,n,dg)[0],t=cu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Tl(n)}catch(g){throw g===ar?tu:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,cr(9,{destroy:void 0},M1.bind(null,c,s),null)),[l,f,t]}function M1(t,n){t.action=n}function yg(t){var n=me(),s=Zt;if(s!==null)return pg(n,s,t);me(),n=n.memoizedState,s=me();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function cr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=ou(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function _g(){return me().memoizedState}function hu(t,n,s,l){var c=Je();wt.flags|=t,c.memoizedState=cr(1|n,{destroy:void 0},s,l===void 0?null:l)}function fu(t,n,s,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&Th(l,Zt.memoizedState.deps)?c.memoizedState=cr(n,f,s,l):(wt.flags|=t,c.memoizedState=cr(1|n,f,s,l))}function vg(t,n){hu(8390656,8,t,n)}function Vh(t,n){fu(2048,8,t,n)}function O1(t){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=ou(),wt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function bg(t){var n=me().memoizedState;return O1({ref:n,nextImpl:t}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Eg(t,n){return fu(4,2,t,n)}function Tg(t,n){return fu(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,s){s=s!=null?s.concat([t]):null,fu(4,4,Ag.bind(null,n,t),s)}function Mh(){}function Sg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Th(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function wg(t,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Th(n,l[1]))return l[0];if(l=t(),_a){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,n],l}function Oh(t,n,s){return s===void 0||(ji&1073741824)!==0&&(Vt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Rp(),wt.lanes|=t,_s|=t,s)}function Rg(t,n,s,l){return hn(s,n)?s:lr.current!==null?(t=Oh(t,s,l),hn(t,n)||(Ae=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(Vt&261930)===0?(Ae=!0,t.memoizedState=s):(t=Rp(),wt.lanes|=t,_s|=t,n)}function Ng(t,n,s,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,kh(t,!1,n,s);try{var I=c(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=C1(I,l);Al(t,n,G,yn(t))}else Al(t,n,l,yn(t))}catch(Y){Al(t,n,{then:function(){},status:"rejected",reason:Y},yn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function j1(){}function jh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Cg(t).queue;Ng(t,c,n,dt,s===null?j1:function(){return Dg(t),s(l)})}function Cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dg(t){var n=Cg(t);n.next===null&&(n=t.alternate.memoizedState),Al(t,n.next.queue,{},yn())}function Uh(){return Be(Bl)}function Ig(){return me().memoizedState}function Vg(){return me().memoizedState}function U1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();t=fs(s);var l=ds(n,t,s);l!==null&&(rn(l,n,s),_l(l,n,s)),n={cache:hh()},t.payload=n;return}n=n.return}}function k1(t,n,s){var l=yn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},du(t)?Og(n,s):(s=th(t,n,s,l),s!==null&&(rn(s,t,l),jg(s,n,l)))}function Mg(t,n,s){var l=yn();Al(t,n,s,l)}function Al(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(du(t))Og(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Yo(t,n,c,0),te===null&&Qo(),!1}catch{}finally{}if(s=th(t,n,c,l),s!==null)return rn(s,t,l),jg(s,n,l),!0}return!1}function kh(t,n,s,l){if(l={lane:2,revertLane:pf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(a(479))}else n=th(t,s,l,2),n!==null&&rn(n,t,2)}function du(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Og(t,n){or=ru=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function jg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Gr(t,s)}}var xl={readContext:Be,use:uu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};xl.useEffectEvent=ue;var Ug={readContext:Be,use:uu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:vg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,hu(4194308,4,Ag.bind(null,n,t),s)},useLayoutEffect:function(t,n){return hu(4194308,4,t,n)},useInsertionEffect:function(t,n){hu(4,2,t,n)},useMemo:function(t,n){var s=Je();n=n===void 0?null:n;var l=t();if(_a){vn(!0);try{t()}finally{vn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Je();if(s!==void 0){var c=s(n);if(_a){vn(!0);try{s(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=k1.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Dh(t);var n=t.queue,s=Mg.bind(null,wt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Mh,useDeferredValue:function(t,n){var s=Je();return Oh(s,t,n)},useTransition:function(){var t=Dh(!1);return t=Ng.bind(null,wt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=wt,c=Je();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Vt&127)!==0||ig(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,vg(ag.bind(null,l,f,t),[t]),l.flags|=2048,cr(9,{destroy:void 0},sg.bind(null,l,f,s,n),null),s},useId:function(){var t=Je(),n=te.identifierPrefix;if(Ut){var s=gi,l=mi;s=(l&~(1<<32-he(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=D1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uh,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=kh.bind(null,wt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Rh,useCacheRefresh:function(){return Je().memoizedState=U1.bind(null,wt)},useEffectEvent:function(t){var n=Je(),s={impl:t};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Lh={readContext:Be,use:uu,useCallback:Sg,useContext:Be,useEffect:Vh,useImperativeHandle:xg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:cu,useRef:_g,useState:function(){return cu(Ui)},useDebugValue:Mh,useDeferredValue:function(t,n){var s=me();return Rg(s,Zt.memoizedState,t,n)},useTransition:function(){var t=cu(Ui)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:ng,useId:Ig,useHostTransitionStatus:Uh,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var s=me();return og(s,Zt,t,n)},useMemoCache:Rh,useCacheRefresh:Vg};Lh.useEffectEvent=bg;var kg={readContext:Be,use:uu,useCallback:Sg,useContext:Be,useEffect:Vh,useImperativeHandle:xg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:Ch,useRef:_g,useState:function(){return Ch(Ui)},useDebugValue:Mh,useDeferredValue:function(t,n){var s=me();return Zt===null?Oh(s,t,n):Rg(s,Zt.memoizedState,t,n)},useTransition:function(){var t=Ch(Ui)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:ng,useId:Ig,useHostTransitionStatus:Uh,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=me();return Zt!==null?og(s,Zt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:Vg};kg.useEffectEvent=bg;function zh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Bh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=yn(),c=fs(l);c.payload=n,s!=null&&(c.callback=s),n=ds(t,c,l),n!==null&&(rn(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=yn(),c=fs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ds(t,c,l),n!==null&&(rn(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=yn(),l=fs(s);l.tag=2,n!=null&&(l.callback=n),n=ds(t,l,s),n!==null&&(rn(n,t,s),_l(n,t,s))}};function Lg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!cl(s,l)||!cl(c,f):!0}function zg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Bh.enqueueReplaceState(n,n.state,null)}function va(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Bg(t){Go(t)}function Pg(t){console.error(t)}function qg(t){Go(t)}function mu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ph(t,n,s){return s=fs(s),s.tag=3,s.payload={element:null},s.callback=function(){mu(t,n)},s}function Fg(t){return t=fs(t),t.tag=3,t}function Gg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Hg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Hg(n,s,l),typeof c!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function L1(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&nr(n,s,c,!0),s=dn.current,s!==null){switch(s.tag){case 31:case 13:return Cn===null?wu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===eu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),df(t,l,c)),!1;case 22:return s.flags|=65536,l===eu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),df(t,l,c)),!1}throw Error(a(435,s.tag))}return df(t,l,c),wu(),!1}if(Ut)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==rh&&(t=Error(a(422),{cause:l}),dl(Sn(t,s)))):(l!==rh&&(n=Error(a(423),{cause:l}),dl(Sn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Sn(l,s),c=Ph(t.stateNode,l,c),yh(t,c),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=Sn(f,s),Vl===null?Vl=[f]:Vl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Sn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Ph(s.stateNode,l,t),yh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vs===null||!vs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Fg(c),Gg(c,t,s,l),yh(s,c),!1}s=s.return}while(s!==null);return!1}var qh=Error(a(461)),Ae=!1;function Pe(t,n,s,l){n.child=t===null?Xm(n,null,s,l):ya(n,t.child,s,l)}function Qg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return da(n),l=Ah(t,n,s,g,f,c),E=xh(),t!==null&&!Ae?(Sh(t,n,c),ki(t,n,c)):(Ut&&E&&sh(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Yg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!eh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Kg(t,n,f,l,c)):(t=Xo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:cl,s(g,l)&&t.ref===n.ref)return ki(t,n,c)}return n.flags|=1,t=Ii(f,l),t.ref=n.ref,t.return=n,n.child=t}function Kg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(cl(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,Zh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,ki(t,n,c)}return Hh(t,n,s,l,c)}function Xg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Zg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,f!==null?f.cachePool:null),f!==null?Jm(n,f):vh(),Wm(n);else return l=n.lanes=536870912,Zg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Wo(n,f.cachePool),Jm(n,f),gs(),n.memoizedState=null):(t!==null&&Wo(n,null),vh(),gs());return Pe(t,n,c,s),n.child}function Sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zg(t,n,s,l,c){var f=dh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Wo(n,null),vh(),Wm(n),t!==null&&nr(t,n,l,!0),n.childLanes=c,null}function gu(t,n){return n=yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,s){return ya(n,t.child,null,s),t=gu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function z1(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=gu(n,l),n.lanes=536870912,Sl(null,t);if(Eh(n),(t=ne)?(t=uy(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ls!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},s=Om(t),s.return=n,n.child=s,ze=n,ne=null)):t=null,t===null)throw us(n);return n.lanes=536870912,null}return gu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Eh(n),c)if(n.flags&256)n.flags&=-257,n=$g(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||nr(t,n,s,!1),c=(s&t.childLanes)!==0,Ae||c){if(l=te,l!==null&&(g=Qr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ua(t,g),rn(l,t,g),qh;wu(),n=$g(t,n,s)}else t=f.treeContext,ne=Dn(g.nextSibling),ze=n,Ut=!0,os=null,Nn=!1,t!==null&&km(n,t),n=gu(n,l),n.flags|=4096;return n}return t=Ii(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function pu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Hh(t,n,s,l,c){return da(n),s=Ah(t,n,s,l,void 0,c),l=xh(),t!==null&&!Ae?(Sh(t,n,c),ki(t,n,c)):(Ut&&l&&sh(n),n.flags|=1,Pe(t,n,s,c),n.child)}function Jg(t,n,s,l,c,f){return da(n),n.updateQueue=null,s=eg(n,l,s,c),tg(t),l=xh(),t!==null&&!Ae?(Sh(t,n,f),ki(t,n,f)):(Ut&&l&&sh(n),n.flags|=1,Pe(t,n,s,f),n.child)}function Wg(t,n,s,l,c){if(da(n),n.stateNode===null){var f=Ja,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):Ja,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(zh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Bh.enqueueReplaceState(f,f.state,null),bl(n,l,f,c),vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=va(s,E);f.props=I;var z=f.context,G=s.contextType;g=Ja,typeof G=="object"&&G!==null&&(g=Be(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&zg(n,f,l,g),hs=!1;var B=n.memoizedState;f.state=B,bl(n,l,f,c),vl(),z=n.memoizedState,E||B!==z||hs?(typeof Y=="function"&&(zh(n,s,Y,l),z=n.memoizedState),(I=hs||Lg(n,s,I,l,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(t,n),g=n.memoizedProps,G=va(s,g),f.props=G,Y=n.pendingProps,B=f.context,z=s.contextType,I=Ja,typeof z=="object"&&z!==null&&(I=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||B!==I)&&zg(n,f,l,I),hs=!1,B=n.memoizedState,f.state=B,bl(n,l,f,c),vl();var H=n.memoizedState;g!==Y||B!==H||hs||t!==null&&t.dependencies!==null&&$o(t.dependencies)?(typeof E=="function"&&(zh(n,s,E,l),H=n.memoizedState),(G=hs||Lg(n,s,G,l,B,H,I)||t!==null&&t.dependencies!==null&&$o(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,pu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ya(n,t.child,null,c),n.child=ya(n,null,s,c)):Pe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=ki(t,n,c),t}function tp(t,n,s,l){return ha(),n.flags|=256,Pe(t,n,s,l),n.child}var Fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gh(t){return{baseLanes:t,cachePool:Hm()}}function Qh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=pn),t}function ep(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?ms(n):gs(),(t=ne)?(t=uy(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ls!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},s=Om(t),s.return=n,n.child=s,ze=n,ne=null)):t=null,t===null)throw us(n);return Cf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(gs(),c=n.mode,E=yu({mode:"hidden",children:E},c),l=ca(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Gh(s),l.childLanes=Qh(t,g,s),n.memoizedState=Fh,Sl(null,l)):(ms(n),Yh(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ms(n),n.flags&=-257,n=Kh(t,n,s)):n.memoizedState!==null?(gs(),n.child=t.child,n.flags|=128,n=null):(gs(),E=l.fallback,c=n.mode,l=yu({mode:"visible",children:l.children},c),E=ca(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ya(n,t.child,null,s),l=n.child,l.memoizedState=Gh(s),l.childLanes=Qh(t,g,s),n.memoizedState=Fh,n=Sl(null,l));else if(ms(n),Cf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,dl({value:l,source:null,stack:null}),n=Kh(t,n,s)}else if(Ae||nr(t,n,s,!1),g=(s&t.childLanes)!==0,Ae||g){if(g=te,g!==null&&(l=Qr(g,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,ua(t,l),rn(g,t,l),qh;Nf(E)||wu(),n=Kh(t,n,s)}else Nf(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ne=Dn(E.nextSibling),ze=n,Ut=!0,os=null,Nn=!1,t!==null&&km(n,t),n=Yh(n,l.children),n.flags|=4096);return n}return c?(gs(),E=l.fallback,c=n.mode,I=t.child,z=I.sibling,l=Ii(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Ii(z,E):(E=ca(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Sl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Gh(s):(c=E.cachePool,c!==null?(I=Ee._currentValue,c=c.parent!==I?{parent:I,pool:I}:c):c=Hm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Qh(t,g,s),n.memoizedState=Fh,Sl(t.child,l)):(ms(n),s=t.child,t=s.sibling,s=Ii(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Yh(t,n){return n=yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Kh(t,n,s){return ya(n,t.child,null,s),t=Yh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function np(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uh(t.return,n,s)}function Xh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function ip(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,at(de,g),Pe(t,n,l,s),l=Ut?fl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&np(t,s,n);else if(t.tag===19)np(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&au(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Xh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Xh(n,!0,s,null,f,l);break;case"together":Xh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ki(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),_s|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(nr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ii(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ii(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&$o(t)))}function B1(t,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),cs(n,Ee,t.memoizedState.cache),ha();break;case 27:case 5:Gs(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:cs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Eh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ms(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ep(t,n,s):(ms(n),t=ki(t,n,s),t!==null?t.sibling:null);ms(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(nr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return ip(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),at(de,de.current),l)break;return null;case 22:return n.lanes=0,Xg(t,n,s,n.pendingProps);case 24:cs(n,Ee,t.memoizedState.cache)}return ki(t,n,s)}function sp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Zh(t,s)&&(n.flags&128)===0)return Ae=!1,B1(t,n,s);Ae=(t.flags&131072)!==0}else Ae=!1,Ut&&(n.flags&1048576)!==0&&Um(n,fl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ga(n.elementType),n.type=t,typeof t=="function")eh(t)?(l=va(t,l),n.tag=1,n=Wg(null,n,t,l,s)):(n.tag=0,n=Hh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===rt){n.tag=11,n=Qg(null,n,t,l,s);break t}else if(c===x){n.tag=14,n=Yg(null,n,t,l,s);break t}}throw n=xt(t)||t,Error(a(306,n,""))}}return n;case 0:return Hh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=va(l,n.pendingProps),Wg(t,n,l,c,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ph(t,n),bl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,cs(n,Ee,l),l!==f.cache&&ch(n,[Ee],s,!0),vl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tp(t,n,l,s);break t}else if(l!==c){c=Sn(Error(a(424)),n),dl(c),n=tp(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ne=Dn(t.firstChild),ze=n,Ut=!0,os=null,Nn=!0,s=Xm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ha(),l===c){n=ki(t,n,s);break t}Pe(t,n,l,s)}n=n.child}return n;case 26:return pu(t,n),t===null?(s=gy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,t=n.pendingProps,l=Mu(Rt.current).createElement(s),l[_e]=n,l[Me]=t,qe(l,s,t),ve(l),n.stateNode=l):n.memoizedState=gy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Gs(n),t===null&&Ut&&(l=n.stateNode=fy(n.type,n.pendingProps,Rt.current),ze=n,Nn=!0,c=ne,As(n.type)?(Df=c,ne=Dn(l.firstChild)):ne=c),Pe(t,n,n.pendingProps.children,s),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=ne)&&(l=pb(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,ze=n,ne=Dn(l.firstChild),Nn=!1,c=!0):c=!1),c||us(n)),Gs(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Sf(c,f)?l=null:g!==null&&Sf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Ah(t,n,I1,null,null,s),Bl._currentValue=c),pu(t,n),Pe(t,n,l,s),n.child;case 6:return t===null&&Ut&&((t=s=ne)&&(s=yb(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,ze=n,ne=null,t=!0):t=!1),t||us(n)),null;case 13:return ep(t,n,s);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ya(n,null,l,s):Pe(t,n,l,s),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,s);case 7:return Pe(t,n,n.pendingProps,s),n.child;case 8:return Pe(t,n,n.pendingProps.children,s),n.child;case 12:return Pe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,cs(n,n.type,l.value),Pe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,da(n),c=Be(c),l=l(c),n.flags|=1,Pe(t,n,l,s),n.child;case 14:return Yg(t,n,n.type,n.pendingProps,s);case 15:return Kg(t,n,n.type,n.pendingProps,s);case 19:return ip(t,n,s);case 31:return z1(t,n,s);case 22:return Xg(t,n,s,n.pendingProps);case 24:return da(n),l=Be(Ee),t===null?(c=dh(),c===null&&(c=te,f=hh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},gh(n),cs(n,Ee,c)):((t.lanes&s)!==0&&(ph(t,n),bl(n,null,null,s),vl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),cs(n,Ee,l)):(l=f.cache,cs(n,Ee,l),l!==c.cache&&ch(n,[Ee],s,!0))),Pe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Li(t){t.flags|=4}function $h(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ip())t.flags|=8192;else throw pa=eu,mh}else t.flags&=-16777217}function ap(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!by(n))if(Ip())t.flags|=8192;else throw pa=eu,mh}function _u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xo():536870912,t.lanes|=n,mr|=n)}function wl(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function P1(t,n,s){var l=n.pendingProps;switch(ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(Ee),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(er(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lh())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Li(n),f!==null?(ie(n),ap(n,f)):(ie(n),$h(n,c,null,l,s))):f?f!==t.memoizedState?(Li(n),ie(n),ap(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Li(n),ie(n),$h(n,c,t,l,s)),null;case 27:if(Ma(n),s=Rt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}t=ut.current,er(n)?Lm(n):(t=fy(c,l,s),n.stateNode=t,Li(n))}return ie(n),null;case 5:if(Ma(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=ut.current,er(n))Lm(n);else{var g=Mu(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Li(n)}}return ie(n),$h(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Rt.current,er(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ey(t.nodeValue,s)),t||us(n,!0)}else t=Mu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ie(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=er(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[_e]=n}else ha(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else s=lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=er(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else ha(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),_u(n,n.updateQueue),ie(n),null);case 4:return ae(),t===null&&bf(n.stateNode.containerInfo),ie(n),null;case 10:return Oi(n.type),ie(n),null;case 19:if(X(de),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)wl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,wl(l,!1),t=f.updateQueue,n.updateQueue=t,_u(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Mm(s,t),s=s.sibling;return at(de,de.current&1|2),Ut&&Vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Au&&(n.flags|=128,c=!0,wl(l,!1),n.lanes=4194304)}else{if(!c)if(t=au(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,_u(n,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*Ze()-l.renderingStartTime>Au&&s!==536870912&&(n.flags|=128,c=!0,wl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,s=de.current,at(de,c?s&1|2:s&1),Ut&&Vi(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return mn(n),bh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&_u(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&X(ma),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Oi(Ee),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function q1(t,n){switch(ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ma(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(a(340));ha()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ha()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(de),null;case 4:return ae(),null;case 10:return Oi(n.type),null;case 22:case 23:return mn(n),bh(),t!==null&&X(ma),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(Ee),null;case 25:return null;default:return null}}function rp(t,n){switch(ah(n),n.tag){case 3:Oi(Ee),ae();break;case 26:case 27:case 5:Ma(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:X(de);break;case 10:Oi(n.type);break;case 22:case 23:mn(n),bh(),t!==null&&X(ma);break;case 24:Oi(Ee)}}function Rl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Kt(n,n.return,E)}}function ps(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var I=s,z=E;try{z()}catch(G){Kt(c,I,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function lp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{$m(n,s)}catch(l){Kt(t,t.return,l)}}}function op(t,n,s){s.props=va(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Nl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Kt(t,n,c)}}function pi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Kt(t,n,c)}else s.current=null}function up(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Kt(t,t.return,c)}}function Jh(t,n,s){try{var l=t.stateNode;cb(l,t.type,s,n),l[Me]=n}catch(c){Kt(t,t.return,c)}}function cp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&As(t.type)||t.tag===4}function Wh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&As(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=kn));else if(l!==4&&(l===27&&As(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(tf(t,n,s),t=t.sibling;t!==null;)tf(t,n,s),t=t.sibling}function vu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&As(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(vu(t,n,s),t=t.sibling;t!==null;)vu(t,n,s),t=t.sibling}function hp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,s),n[_e]=t,n[Me]=s}catch(f){Kt(t,t.return,f)}}var zi=!1,xe=!1,ef=!1,fp=typeof WeakSet=="function"?WeakSet:Set,je=null;function H1(t,n){if(t=t.containerInfo,Af=Bu,t=xm(t),Kc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,z=0,G=0,Y=t,B=null;e:for(;;){for(var H;Y!==s||c!==0&&Y.nodeType!==3||(E=g+c),Y!==f||l!==0&&Y.nodeType!==3||(I=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===t)break e;if(B===s&&++z===c&&(E=g),B===f&&++G===l&&(I=g),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(xf={focusedElem:t,selectionRange:s},Bu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ct=va(s.type,c);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Kt(s,s.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Rf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function dp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(t,s),l&4&&Rl(5,s);break;case 1:if(Pi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var c=va(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}l&64&&lp(s),l&512&&Nl(s,s.return);break;case 3:if(Pi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$m(t,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&l&4&&hp(s);case 26:case 5:Pi(t,s),n===null&&l&4&&up(s),l&512&&Nl(s,s.return);break;case 12:Pi(t,s);break;case 31:Pi(t,s),l&4&&pp(t,s);break;case 13:Pi(t,s),l&4&&yp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=J1.bind(null,s),_b(t,s))));break;case 22:if(l=s.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||xe,c=zi;var f=xe;zi=l,(xe=n)&&!f?qi(t,s,(s.subtreeFlags&8772)!==0):Pi(t,s),zi=c,xe=f}break;case 30:break;default:Pi(t,s)}}function mp(t){var n=t.alternate;n!==null&&(t.alternate=null,mp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&La(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,en=!1;function Bi(t,n,s){for(s=s.child;s!==null;)gp(t,n,s),s=s.sibling}function gp(t,n,s){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Mn,s)}catch{}switch(s.tag){case 26:xe||pi(s,n),Bi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||pi(s,n);var l=le,c=en;As(s.type)&&(le=s.stateNode,en=!1),Bi(t,n,s),kl(s.stateNode),le=l,en=c;break;case 5:xe||pi(s,n);case 6:if(l=le,c=en,le=null,Bi(t,n,s),le=l,en=c,le!==null)if(en)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:le!==null&&(en?(t=le,ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Tr(t)):ly(le,s.stateNode));break;case 4:l=le,c=en,le=s.stateNode.containerInfo,en=!0,Bi(t,n,s),le=l,en=c;break;case 0:case 11:case 14:case 15:ps(2,s,n),xe||ps(4,s,n),Bi(t,n,s);break;case 1:xe||(pi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&op(s,n,l)),Bi(t,n,s);break;case 21:Bi(t,n,s);break;case 22:xe=(l=xe)||s.memoizedState!==null,Bi(t,n,s),xe=l;break;default:Bi(t,n,s)}}function pp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(s){Kt(n,n.return,s)}}}function yp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(s){Kt(n,n.return,s)}}function F1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fp),n;default:throw Error(a(435,t.tag))}}function bu(t,n){var s=F1(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=W1.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(As(E.type)){le=E.stateNode,en=!1;break t}break;case 5:le=E.stateNode,en=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(le===null)throw Error(a(160));gp(f,g,c),le=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_p(n,t),n=n.sibling}var Hn=null;function _p(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),sn(t),l&4&&(ps(3,t,t.return),Rl(3,t),ps(5,t,t.return));break;case 1:nn(n,t),sn(t),l&512&&(xe||s===null||pi(s,s.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Hn;if(nn(n,t),sn(t),l&512&&(xe||s===null||pi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ni]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,s),f[_e]=t,ve(f),l=f;break t;case"link":var g=_y("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=_y("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else vy(c,t.type,t.stateNode);else t.stateNode=yy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?vy(c,t.type,t.stateNode):yy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jh(t,t.memoizedProps,s.memoizedProps)}break;case 27:nn(n,t),sn(t),l&512&&(xe||s===null||pi(s,s.return)),s!==null&&l&4&&Jh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(nn(n,t),sn(t),l&512&&(xe||s===null||pi(s,s.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(ct){Kt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Jh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(ef=!0);break;case 6:if(nn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ct){Kt(t,t.return,ct)}}break;case 3:if(Uu=null,c=Hn,Hn=Ou(n.containerInfo),nn(n,t),Hn=c,sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Tr(n.containerInfo)}catch(ct){Kt(t,t.return,ct)}ef&&(ef=!1,vp(t));break;case 4:l=Hn,Hn=Ou(t.stateNode.containerInfo),nn(n,t),sn(t),Hn=l;break;case 12:nn(n,t),sn(t);break;case 31:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 13:nn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Tu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 22:c=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=zi,G=xe;if(zi=z||c,xe=G||I,nn(n,t),xe=G,zi=z,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||I||zi||xe||ba(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Kt(I,I.return,ct)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(ct){Kt(I,I.return,ct)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;c?oy(H,!0):oy(I.stateNode,!1)}catch(ct){Kt(I,I.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,bu(t,s))));break;case 19:nn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(cp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Wh(t);vu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(tn(g,""),s.flags&=-33);var E=Wh(t);vu(t,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Wh(t);tf(t,z,I);break;default:throw Error(a(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dp(t,n.alternate,n),n=n.sibling}function ba(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ps(4,n,n.return),ba(n);break;case 1:pi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&op(n,n.return,s),ba(n);break;case 27:kl(n.stateNode);case 26:case 5:pi(n,n.return),ba(n);break;case 22:n.memoizedState===null&&ba(n);break;case 30:ba(n);break;default:ba(n)}t=t.sibling}}function qi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(c,f,s),Rl(4,f);break;case 1:if(qi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)Zm(I[c],E)}catch(z){Kt(l,l.return,z)}}s&&g&64&&lp(f),Nl(f,f.return);break;case 27:hp(f);case 26:case 5:qi(c,f,s),s&&l===null&&g&4&&up(f),Nl(f,f.return);break;case 12:qi(c,f,s);break;case 31:qi(c,f,s),s&&g&4&&pp(c,f);break;case 13:qi(c,f,s),s&&g&4&&yp(c,f);break;case 22:f.memoizedState===null&&qi(c,f,s),Nl(f,f.return);break;case 30:break;default:qi(c,f,s)}n=n.sibling}}function nf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ml(s))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function Fn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(t,n,s,l),n=n.sibling}function bp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,s,l),c&2048&&Rl(9,n);break;case 1:Fn(t,n,s,l);break;case 3:Fn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(c&2048){Fn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Kt(n,n.return,I)}}else Fn(t,n,s,l);break;case 31:Fn(t,n,s,l);break;case 13:Fn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,s,l):Cl(t,n):f._visibility&2?Fn(t,n,s,l):(f._visibility|=2,hr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&nf(g,n);break;case 24:Fn(t,n,s,l),c&2048&&sf(n.alternate,n);break;default:Fn(t,n,s,l)}}function hr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,I=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:hr(f,g,E,I,c),Rl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?hr(f,g,E,I,c):Cl(f,g):(G._visibility|=2,hr(f,g,E,I,c)),c&&z&2048&&nf(g.alternate,g);break;case 24:hr(f,g,E,I,c),c&&z&2048&&sf(g.alternate,g);break;default:hr(f,g,E,I,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(s,l),c&2048&&nf(l.alternate,l);break;case 24:Cl(s,l),c&2048&&sf(l.alternate,l);break;default:Cl(s,l)}n=n.sibling}}var Dl=8192;function fr(t,n,s){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Ep(t,n,s),t=t.sibling}function Ep(t,n,s){switch(t.tag){case 26:fr(t,n,s),t.flags&Dl&&t.memoizedState!==null&&Db(s,Hn,t.memoizedState,t.memoizedProps);break;case 5:fr(t,n,s);break;case 3:case 4:var l=Hn;Hn=Ou(t.stateNode.containerInfo),fr(t,n,s),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,fr(t,n,s),Dl=l):fr(t,n,s));break;default:fr(t,n,s)}}function Tp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,xp(l,t)}Tp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ap(t),t=t.sibling}function Ap(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&ps(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Il(t);break;default:Il(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,xp(l,t)}Tp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ps(8,n,n.return),Eu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function xp(t,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:ps(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(mp(l),l===s){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var G1={getCacheForType:function(t){var n=Be(Ee),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Be(Ee).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Dt=null,Vt=0,Yt=0,gn=null,ys=!1,dr=!1,af=!1,Hi=0,ce=0,_s=0,Ea=0,rf=0,pn=0,mr=0,Vl=null,an=null,lf=!1,Tu=0,Sp=0,Au=1/0,xu=null,vs=null,Ie=0,bs=null,gr=null,Fi=0,of=0,uf=null,wp=null,Ml=0,cf=null;function yn(){return(Ht&2)!==0&&Vt!==0?Vt&-Vt:F.T!==null?pf():So()}function Rp(){if(pn===0)if((Vt&536870912)===0||Ut){var t=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function rn(t,n,s){(t===te&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(pr(t,0),Es(t,Vt,pn,!1)),Xs(t,s),((Ht&2)===0||t!==te)&&(t===te&&((Ht&2)===0&&(Ea|=s),ce===4&&Es(t,Vt,pn,!1)),yi(t))}function Np(t,n,s){if((Ht&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||On(t,n),c=l?X1(t,n):ff(t,n,!0),f=l;do{if(c===0){dr&&!l&&Es(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!Y1(s)){c=ff(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Vl;var I=E.current.memoizedState.isDehydrated;if(I&&(pr(E,g).flags|=256),g=ff(E,g,!1),g!==2){if(af&&!I){E.errorRecoveryDisabledLanes|=f,Ea|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){pr(t,0),Es(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Es(l,n,pn,!ys);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Tu+300-Ze(),10<c)){if(Es(l,n,pn,!ys),Wn(l,0,!0)!==0)break t;Fi=n,l.timeoutHandle=ay(Cp.bind(null,l,s,an,xu,lf,n,pn,Ea,mr,ys,f,"Throttled",-0,0),c);break t}Cp(l,s,an,xu,lf,n,pn,Ea,mr,ys,f,null,-0,0)}}break}while(!0);yi(t)}function Cp(t,n,s,l,c,f,g,E,I,z,G,Y,B,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},Ep(n,f,Y);var ct=(f&62914560)===f?Tu-Ze():(f&4194048)===f?Sp-Ze():0;if(ct=Ib(Y,ct),ct!==null){Fi=f,t.cancelPendingCommit=ct(kp.bind(null,t,n,f,s,l,c,g,E,I,G,Y,null,B,H)),Es(t,f,g,!z);return}}kp(t,n,f,s,l,c,g,E,I)}function Y1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Es(t,n,s,l){n&=~rf,n&=~Ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&Zs(t,s,n)}function Su(){return(Ht&6)===0?(Ol(0),!1):!0}function hf(){if(Dt!==null){if(Yt===0)var t=Dt.return;else t=Dt,Mi=fa=null,wh(t),rr=null,pl=0,t=Dt;for(;t!==null;)rp(t.alternate,t),t=t.return;Dt=null}}function pr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,db(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Fi=0,hf(),te=t,Dt=s=Ii(t.current,null),Vt=n,Yt=0,gn=null,ys=!1,dr=On(t,n),af=!1,mr=pn=rf=Ea=_s=ce=0,an=Vl=null,lf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Hi=n,Qo(),s}function Dp(t,n){wt=null,F.H=xl,n===ar||n===tu?(n=Qm(),Yt=3):n===mh?(n=Qm(),Yt=4):Yt=n===qh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Dt===null&&(ce=1,mu(t,Sn(n,t.current)))}function Ip(){var t=dn.current;return t===null?!0:(Vt&4194048)===Vt?Cn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?t===Cn:!1}function Vp(){var t=F.H;return F.H=xl,t===null?xl:t}function Mp(){var t=F.A;return F.A=G1,t}function wu(){ce=4,ys||(Vt&4194048)!==Vt&&dn.current!==null||(dr=!0),(_s&134217727)===0&&(Ea&134217727)===0||te===null||Es(te,Vt,pn,!1)}function ff(t,n,s){var l=Ht;Ht|=2;var c=Vp(),f=Mp();(te!==t||Vt!==n)&&(xu=null,pr(t,n)),n=!1;var g=ce;t:do try{if(Yt!==0&&Dt!==null){var E=Dt,I=gn;switch(Yt){case 8:hf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var z=Yt;if(Yt=0,gn=null,yr(t,E,I,z),s&&dr){g=0;break t}break;default:z=Yt,Yt=0,gn=null,yr(t,E,I,z)}}K1(),g=ce;break}catch(G){Dp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Mi=fa=null,Ht=l,F.H=c,F.A=f,Dt===null&&(te=null,Vt=0,Qo()),g}function K1(){for(;Dt!==null;)Op(Dt)}function X1(t,n){var s=Ht;Ht|=2;var l=Vp(),c=Mp();te!==t||Vt!==n?(xu=null,Au=Ze()+500,pr(t,n)):dr=On(t,n);t:do try{if(Yt!==0&&Dt!==null){n=Dt;var f=gn;e:switch(Yt){case 1:Yt=0,gn=null,yr(t,n,f,1);break;case 2:case 9:if(Fm(f)){Yt=0,gn=null,jp(n);break}n=function(){Yt!==2&&Yt!==9||te!==t||(Yt=7),yi(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Fm(f)?(Yt=0,gn=null,jp(n)):(Yt=0,gn=null,yr(t,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?by(g):E.stateNode.complete){Yt=0,gn=null;var I=E.sibling;if(I!==null)Dt=I;else{var z=E.return;z!==null?(Dt=z,Ru(z)):Dt=null}break e}}Yt=0,gn=null,yr(t,n,f,5);break;case 6:Yt=0,gn=null,yr(t,n,f,6);break;case 8:hf(),ce=6;break t;default:throw Error(a(462))}}Z1();break}catch(G){Dp(t,G)}while(!0);return Mi=fa=null,F.H=l,F.A=c,Ht=s,Dt!==null?0:(te=null,Vt=0,Qo(),ce)}function Z1(){for(;Dt!==null&&!Pc();)Op(Dt)}function Op(t){var n=sp(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,n===null?Ru(t):Dt=n}function jp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Jg(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Jg(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:wh(n);default:rp(s,n),n=Dt=Mm(n,Hi),n=sp(s,n,Hi)}t.memoizedProps=t.pendingProps,n===null?Ru(t):Dt=n}function yr(t,n,s,l){Mi=fa=null,wh(n),rr=null,pl=0;var c=n.return;try{if(L1(t,c,n,s,Vt)){ce=1,mu(t,Sn(s,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;ce=1,mu(t,Sn(s,t.current)),Dt=null;return}n.flags&32768?(Ut||l===1?t=!0:dr||(Vt&536870912)!==0?t=!1:(ys=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Up(n,t)):Ru(n)}function Ru(t){var n=t;do{if((n.flags&32768)!==0){Up(n,ys);return}t=n.return;var s=P1(n.alternate,n,Hi);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ce===0&&(ce=5)}function Up(t,n){do{var s=q1(t.alternate,t);if(s!==null){s.flags&=32767,Dt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=s}while(t!==null);ce=6,Dt=null}function kp(t,n,s,l,c,f,g,E,I){t.cancelPendingCommit=null;do Nu();while(Ie!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Wc,Fc(t,s,f,g,E,I),t===te&&(Dt=te=null,Vt=0),gr=n,bs=t,Fi=s,of=f,uf=c,wp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tb($i,function(){return qp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=et.p,et.p=2,g=Ht,Ht|=4;try{H1(t,n,s)}finally{Ht=g,et.p=c,F.T=l}}Ie=1,Lp(),zp(),Bp()}}function Lp(){if(Ie===1){Ie=0;var t=bs,n=gr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{_p(n,t);var f=xf,g=xm(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Am(E.ownerDocument.documentElement,E)){if(I!==null&&Kc(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=E.textContent.length,pt=Math.min(I.start,ct),Jt=I.end===void 0?pt:Math.min(I.end,ct);!H.extend&&pt>Jt&&(g=Jt,Jt=pt,pt=g);var U=Tm(E,pt),O=Tm(E,Jt);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),pt>Jt?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Bu=!!Af,xf=Af=null}finally{Ht=c,et.p=l,F.T=s}}t.current=n,Ie=2}}function zp(){if(Ie===2){Ie=0;var t=bs,n=gr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{dp(t,n.alternate,n)}finally{Ht=c,et.p=l,F.T=s}}Ie=3}}function Bp(){if(Ie===4||Ie===3){Ie=0,_o();var t=bs,n=gr,s=Fi,l=wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,gr=bs=null,Pp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(vs=null),Ri(s),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=et.p,et.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=c}}(Fi&3)!==0&&Nu(),yi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===cf?Ml++:(Ml=0,cf=t):Ml=0,Ol(0)}}function Pp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Nu(){return Lp(),zp(),Bp(),qp()}function qp(){if(Ie!==5)return!1;var t=bs,n=of;of=0;var s=Ri(Fi),l=F.T,c=et.p;try{et.p=32>s?32:s,F.T=null,s=uf,uf=null;var f=bs,g=Fi;if(Ie=0,gr=bs=null,Fi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Ap(f.current),bp(f,f.current,g,s),Ht=E,Ol(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{et.p=c,F.T=l,Pp(t,n)}}function Hp(t,n,s){n=Sn(s,n),n=Ph(t.stateNode,n,2),t=ds(t,n,2),t!==null&&(Xs(t,2),yi(t))}function Kt(t,n,s){if(t.tag===3)Hp(t,t,s);else for(;n!==null;){if(n.tag===3){Hp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vs===null||!vs.has(l))){t=Sn(s,t),s=Fg(2),l=ds(n,s,2),l!==null&&(Gg(s,l,n,t),Xs(l,2),yi(l));break}}n=n.return}}function df(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Q1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(af=!0,c.add(s),t=$1.bind(null,t,n,s),n.then(t,t))}function $1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,te===t&&(Vt&s)===s&&(ce===4||ce===3&&(Vt&62914560)===Vt&&300>Ze()-Tu?(Ht&2)===0&&pr(t,0):rf|=s,mr===Vt&&(mr=0)),yi(t)}function Fp(t,n){n===0&&(n=xo()),t=ua(t,n),t!==null&&(Xs(t,n),yi(t))}function J1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Fp(t,s)}function W1(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Fp(t,s)}function tb(t,n){return De(t,n)}var Cu=null,_r=null,mf=!1,Du=!1,gf=!1,Ts=0;function yi(t){t!==_r&&t.next===null&&(_r===null?Cu=_r=t:_r=_r.next=t),Du=!0,mf||(mf=!0,nb())}function Ol(t,n){if(!gf&&Du){gf=!0;do for(var s=!1,l=Cu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Kp(l,f))}else f=Vt,f=Wn(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||On(l,f)||(s=!0,Kp(l,f));l=l.next}while(s);gf=!1}}function eb(){Gp()}function Gp(){Du=mf=!1;var t=0;Ts!==0&&fb()&&(t=Ts);for(var n=Ze(),s=null,l=Cu;l!==null;){var c=l.next,f=Qp(l,n);f===0?(l.next=null,s===null?Cu=c:s.next=c,c===null&&(_r=s)):(s=l,(t!==0||(f&3)!==0)&&(Du=!0)),l=c}Ie!==0&&Ie!==5||Ol(t),Ts!==0&&(Ts=0)}function Qp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,I=c[g];I===-1?((E&s)===0||(E&l)!==0)&&(c[g]=Hc(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,s=Vt,s=Wn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||On(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Zi(l),Ri(s)){case 2:case 8:s=Fr;break;case 32:s=$i;break;case 268435456:s=vo;break;default:s=$i}return l=Yp.bind(null,t),s=De(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Zi(l),t.callbackPriority=2,t.callbackNode=null,2}function Yp(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Nu()&&t.callbackNode!==s)return null;var l=Vt;return l=Wn(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Np(t,l,n),Qp(t,Ze()),t.callbackNode!=null&&t.callbackNode===s?Yp.bind(null,t):null)}function Kp(t,n){if(Nu())return null;Np(t,n,!0)}function nb(){mb(function(){(Ht&6)!==0?De(Hr,eb):Gp()})}function pf(){if(Ts===0){var t=ir;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),Ts=t}return Ts}function Xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qa(""+t)}function Zp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function ib(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Xp((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Xp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ci("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ts!==0){var I=g?Zp(c,g):new FormData(c);jh(s,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Zp(c,g):new FormData(c),jh(s,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var yf=0;yf<Jc.length;yf++){var _f=Jc[yf],sb=_f.toLowerCase(),ab=_f[0].toUpperCase()+_f.slice(1);qn(sb,"on"+ab)}qn(Rm,"onAnimationEnd"),qn(Nm,"onAnimationIteration"),qn(Cm,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(E1,"onTransitionRun"),qn(T1,"onTransitionStart"),qn(A1,"onTransitionCancel"),qn(Dm,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function $p(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){Go(G)}c.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){Go(G)}c.currentTarget=null,f=I}}}}function It(t,n){var s=n[ka];s===void 0&&(s=n[ka]=new Set);var l=t+"__bubble";s.has(l)||(Jp(n,t,2,!1),s.add(l))}function vf(t,n,s){var l=0;n&&(l|=4),Jp(s,t,l,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[Iu]){t[Iu]=!0,Yr.forEach(function(s){s!=="selectionchange"&&(rb.has(s)||vf(s,!1,t),vf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,vf("selectionchange",!1,n))}}function Jp(t,n,s,l){switch(Ry(n)){case 2:var c=Ob;break;case 8:c=jb;break;default:c=jf}s=c.bind(null,n,s,t),c=void 0,!ea||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function Ef(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ii(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue t}E=E.parentNode}}l=l.return}is(function(){var z=f,G=En(s),Y=[];t:{var B=Im.get(t);if(B!==void 0){var H=ci,ct=t;switch(t){case"keypress":if(ia(s)===0)break t;case"keydown":case"keyup":H=qo;break;case"focusin":ct="focus",H=aa;break;case"focusout":ct="blur",H=aa;break;case"beforeblur":case"afterblur":H=aa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Rm:case Nm:case Cm:H=jo;break;case Dm:H=T;break;case"scroll":case"scrollend":H=al;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Di;break;case"toggle":case"beforetoggle":H=St}var pt=(n&4)!==0,Jt=!pt&&(t==="scroll"||t==="scrollend"),U=pt?B!==null?B+"Capture":null:B;pt=[];for(var O=z,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||U===null||(Q=Ln(O,U),Q!=null&&pt.push(Ul(O,Q,L))),Jt)break;O=O.return}0<pt.length&&(B=new H(B,ct,null,s,G),Y.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&s!==nl&&(ct=s.relatedTarget||s.fromElement)&&(ii(ct)||ct[ei]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=s.relatedTarget||s.toElement,H=z,ct=ct?ii(ct):null,ct!==null&&(Jt=h(ct),pt=ct.tag,ct!==Jt||pt!==5&&pt!==27&&pt!==6)&&(ct=null)):(H=null,ct=z),H!==ct)){if(pt=rl,Q="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Di,Q="onPointerLeave",U="onPointerEnter",O="pointer"),Jt=H==null?B:un(H),L=ct==null?B:un(ct),B=new pt(Q,O+"leave",H,s,G),B.target=Jt,B.relatedTarget=L,Q=null,ii(G)===z&&(pt=new pt(U,O+"enter",ct,s,G),pt.target=L,pt.relatedTarget=Jt,Q=pt),Jt=Q,H&&ct)e:{for(pt=lb,U=H,O=ct,L=0,Q=U;Q;Q=pt(Q))L++;Q=0;for(var mt=O;mt;mt=pt(mt))Q++;for(;0<L-Q;)U=pt(U),L--;for(;0<Q-L;)O=pt(O),Q--;for(;L--;){if(U===O||O!==null&&U===O.alternate){pt=U;break e}U=pt(U),O=pt(O)}pt=null}else pt=null;H!==null&&Wp(Y,B,H,pt,!1),ct!==null&&Jt!==null&&Wp(Y,Jt,ct,pt,!0)}}t:{if(B=z?un(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=pm;else if(mm(B))if(ym)Bt=_1;else{Bt=p1;var ht=g1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Pa(z.elementType)&&(Bt=pm):Bt=y1;if(Bt&&(Bt=Bt(t,z))){gm(Y,Bt,s,G);break t}ht&&ht(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Wr(B,"number",B.value)}switch(ht=z?un(z):window,t){case"focusin":(mm(ht)||ht.contentEditable==="true")&&(Xa=ht,Xc=z,hl=null);break;case"focusout":hl=Xc=Xa=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Sm(Y,s,G);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":Sm(Y,s,G)}var Nt;if(qt)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Ka?ra(t,s)&&(Mt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(di&&s.locale!=="ko"&&(Ka||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Ka&&(Nt=sl()):(ui=G,il="value"in ui?ui.value:ui.textContent,Ka=!0)),ht=Vu(z,Mt),0<ht.length&&(Mt=new fi(Mt,t,null,s,G),Y.push({event:Mt,listeners:ht}),Nt?Mt.data=Nt:(Nt=Ya(s),Nt!==null&&(Mt.data=Nt)))),(Nt=An?h1(t,s):f1(t,s))&&(Mt=Vu(z,"onBeforeInput"),0<Mt.length&&(ht=new fi("onBeforeInput","beforeinput",null,s,G),Y.push({event:ht,listeners:Mt}),ht.data=Nt)),ib(Y,t,z,s,G)}$p(Y,n)})}function Ul(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Vu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ln(t,s),c!=null&&l.unshift(Ul(t,c,f)),c=Ln(t,n),c!=null&&l.push(Ul(t,c,f))),t.tag===3)return l;t=t.return}return[]}function lb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wp(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,c?(z=Ln(s,f),z!=null&&g.unshift(Ul(s,z,I))):c||(z=Ln(s,f),z!=null&&g.push(Ul(s,z,I)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var ob=/\r\n?/g,ub=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(ob,`
`).replace(ub,"")}function ey(t,n){return n=ty(n),ty(t)===n}function $t(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,s,l);break;case"style":el(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=qa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(t,n,"name",c.name,c,null),$t(t,n,"formEncType",c.formEncType,c,null),$t(t,n,"formMethod",c.formMethod,c,null),$t(t,n,"formTarget",c.formTarget,c,null)):($t(t,n,"encType",c.encType,c,null),$t(t,n,"method",c.method,c,null),$t(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=qa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=kn);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=qa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":It("beforetoggle",t),It("toggle",t),za(t,"popover",l);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":za(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vo.get(s)||s,za(t,s,l))}}function Tf(t,n,s,l,c,f){switch(s){case"style":el(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):za(t,s,l)}}}function qe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(t,n,f,g,s,null)}}c&&$t(t,n,"srcSet",s.srcSet,s,null),l&&$t(t,n,"src",s.src,s,null);return;case"input":It("invalid",t);var E=f=g=c=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(t,n,l,G,s,null)}}Co(t,f,E,I,z,g,c,!1);return;case"select":It("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:$t(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Wi(t,!!l,n,!1):s!=null&&Wi(t,!!l,s,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(t,n,g,E,s,null)}ts(t,l,c,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,I,l,s,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)It(jl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(t,n,z,l,s,null)}return;default:if(Pa(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Tf(t,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&$t(t,n,E,l,s,null))}function cb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,I=null,z=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(H)||$t(t,n,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=s[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&$t(t,n,B,H,l,Y)}}Ba(t,g,E,I,z,G,f,c);return;case"select":H=g=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,I)}for(c in l)if(f=l[c],I=s[c],l.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&$t(t,n,c,f,l,I)}n=E,s=g,l=H,B!=null?Wi(t,!!s,B,!1):!!l!=!!s&&(n!=null?Wi(t,!!s,n,!0):Wi(t,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&$t(t,n,g,c,l,f)}Do(t,B,H);return;case"option":for(var ct in s)if(B=s[ct],s.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:$t(t,n,ct,null,l,B)}for(I in l)if(B=l[I],H=s[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:$t(t,n,I,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)B=s[pt],s.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&$t(t,n,pt,null,l,B);for(z in l)if(B=l[z],H=s[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:$t(t,n,z,B,l,H)}return;default:if(Pa(n)){for(var Jt in s)B=s[Jt],s.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&Tf(t,n,Jt,void 0,l,B);for(G in l)B=l[G],H=s[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Tf(t,n,G,B,l,H);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&$t(t,n,U,null,l,B);for(Y in l)B=l[Y],H=s[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||$t(t,n,Y,B,l,H)}function ny(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&ny(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var G=I.transferSize,Y=I.initiatorType;G&&ny(Y)&&(I=I.responseEnd,g+=G*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Af=null,xf=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function fb(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var ay=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(t){return ry.resolve(null).then(t).catch(gb)}:ay;function gb(t){setTimeout(function(){throw t})}function As(t){return t==="head"}function ly(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Tr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")kl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,kl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&kl(t.ownerDocument.body);s=c}while(s);Tr(n)}function oy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rf(s),La(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function pb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function yb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Dn(t.nextSibling),t===null))return null;return t}function uy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function Nf(t){return t.data==="$?"||t.data==="$~"}function Cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _b(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Df=null;function cy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Dn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function fy(t,n,s){switch(n=Mu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);La(t)}var In=new Map,dy=new Set;function Ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=et.d;et.d={f:vb,r:bb,D:Eb,C:Tb,L:Ab,m:xb,X:wb,S:Sb,M:Rb};function vb(){var t=Gi.f(),n=Su();return t||n}function bb(t){var n=bn(t);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Gi.r(t)}var vr=typeof document>"u"?null:document;function my(t,n,s){var l=vr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),dy.has(c)||(dy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function Eb(t){Gi.D(t),my("dns-prefetch",t,null)}function Tb(t,n){Gi.C(t,n),my("preconnect",t,n)}function Ab(t,n,s){Gi.L(t,n,s);var l=vr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+We(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+We(s.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=br(t);break;case"script":f=Er(t)}In.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ll(f))||n==="script"&&l.querySelector(zl(f))||(n=l.createElement("link"),qe(n,"link",t),ve(n),l.head.appendChild(n)))}}function xb(t,n){Gi.m(t,n);var s=vr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Er(t)}if(!In.has(f)&&(t=S({rel:"modulepreload",href:t},n),In.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(zl(f)))return}l=s.createElement("link"),qe(l,"link",t),ve(l),s.head.appendChild(l)}}}function Sb(t,n,s){Gi.S(t,n,s);var l=vr;if(l&&t){var c=si(l).hoistableStyles,f=br(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ll(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=In.get(f))&&If(t,s);var I=g=l.createElement("link");ve(I),qe(I,"link",t),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ju(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function wb(t,n){Gi.X(t,n);var s=vr;if(s&&t){var l=si(s).hoistableScripts,c=Er(t),f=l.get(c);f||(f=s.querySelector(zl(c)),f||(t=S({src:t,async:!0},n),(n=In.get(c))&&Vf(t,n),f=s.createElement("script"),ve(f),qe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Rb(t,n){Gi.M(t,n);var s=vr;if(s&&t){var l=si(s).hoistableScripts,c=Er(t),f=l.get(c);f||(f=s.querySelector(zl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=In.get(c))&&Vf(t,n),f=s.createElement("script"),ve(f),qe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gy(t,n,s,l){var c=(c=Rt.current)?Ou(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=br(s.href),s=si(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=br(s.href);var f=si(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ll(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(t,s),f||Nb(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Er(s),s=si(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function br(t){return'href="'+We(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Nb(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",s),ve(n),t.head.appendChild(n))}function Er(t){return'[src="'+We(t)+'"]'}function zl(t){return"script[async]"+t}function yy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(s.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),qe(l,"style",c),ju(l,s.precedence,t),n.instance=l;case"stylesheet":c=br(s.href);var f=t.querySelector(Ll(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=py(s),(c=In.get(c))&&If(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),qe(f,"link",l),n.state.loading|=4,ju(f,s.precedence,t),n.instance=f;case"script":return f=Er(s.src),(c=t.querySelector(zl(f)))?(n.instance=c,ve(c),c):(l=s,(c=In.get(f))&&(l=S({},s),Vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ju(l,s.precedence,t));return n.instance}function ju(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Uu=null;function _y(t,n,s){if(Uu===null){var l=new Map,c=Uu=new Map;c.set(s,l)}else c=Uu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ni]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function vy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Cb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function by(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Db(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=br(l.href),f=n.querySelector(Ll(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ku.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,l=py(l),(c=In.get(c))&&If(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),qe(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ku.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Mf=0;function Ib(t,n){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Mf===0&&(Mf=62500*hb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Mf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function zu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(Vb,t),Lu=null,ku.call(t))}function Vb(t,n){if(!(n.state.loading&4)){var s=Lu.get(t);if(s)var l=s.get(null);else{s=new Map,Lu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=ku.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Mb(t,n,s,l,c,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Ey(t,n,s,l,c,f,g,E,I,z,G,Y){return t=new Mb(t,n,s,g,I,z,G,Y,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=hh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},gh(f),t}function Ty(t){return t?(t=Ja,t):Ja}function Ay(t,n,s,l,c,f){c=Ty(c),l.context===null?l.context=c:l.pendingContext=c,l=fs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ds(t,l,n),s!==null&&(rn(s,t,n),_l(s,t,n))}function xy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Of(t,n){xy(t,n),(t=t.alternate)&&xy(t,n)}function Sy(t){if(t.tag===13||t.tag===31){var n=ua(t,67108864);n!==null&&rn(n,t,67108864),Of(t,67108864)}}function wy(t){if(t.tag===13||t.tag===31){var n=yn();n=$s(n);var s=ua(t,n);s!==null&&rn(s,t,n),Of(t,n)}}var Bu=!0;function Ob(t,n,s,l){var c=F.T;F.T=null;var f=et.p;try{et.p=2,jf(t,n,s,l)}finally{et.p=f,F.T=c}}function jb(t,n,s,l){var c=F.T;F.T=null;var f=et.p;try{et.p=8,jf(t,n,s,l)}finally{et.p=f,F.T=c}}function jf(t,n,s,l){if(Bu){var c=Uf(l);if(c===null)Ef(t,n,l,Pu,s),Ny(t,l);else if(kb(c,t,n,s,l))l.stopPropagation();else if(Ny(t,l),n&4&&-1<Ub.indexOf(t)){for(;c!==null;){var f=bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Jn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-he(g);E.entanglements[1]|=I,g&=~I}yi(f),(Ht&6)===0&&(Au=Ze()+500,Ol(0))}}break;case 31:case 13:E=ua(f,2),E!==null&&rn(E,f,2),Su(),Of(f,2)}if(f=Uf(l),f===null&&Ef(t,n,l,Pu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Ef(t,n,l,null,s)}}function Uf(t){return t=En(t),kf(t)}var Pu=null;function kf(t){if(Pu=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function Ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ys()){case Hr:return 2;case Fr:return 8;case $i:case qc:return 32;case vo:return 268435456;default:return 32}default:return 32}}var Lf=!1,xs=null,Ss=null,ws=null,Pl=new Map,ql=new Map,Rs=[],Ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(t,n){switch(t){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=bn(n),n!==null&&Sy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function kb(t,n,s,l,c){switch(n){case"focusin":return xs=Hl(xs,t,n,s,l,c),!0;case"dragenter":return Ss=Hl(Ss,t,n,s,l,c),!0;case"mouseover":return ws=Hl(ws,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Pl.set(f,Hl(Pl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ql.set(f,Hl(ql.get(f)||null,t,n,s,l,c)),!0}return!1}function Cy(t){var n=ii(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,jn(t.priority,function(){wy(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,jn(t.priority,function(){wy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Uf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);nl=l,s.target.dispatchEvent(l),nl=null}else return n=bn(s),n!==null&&Sy(n),t.blockedOn=s,!1;n.shift()}return!0}function Dy(t,n,s){qu(t)&&s.delete(n)}function Lb(){Lf=!1,xs!==null&&qu(xs)&&(xs=null),Ss!==null&&qu(Ss)&&(Ss=null),ws!==null&&qu(ws)&&(ws=null),Pl.forEach(Dy),ql.forEach(Dy)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,Lf||(Lf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lb)))}var Fu=null;function Iy(t){Fu!==t&&(Fu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(kf(l||s)===null)continue;break}var f=bn(s);f!==null&&(t.splice(n,3),n-=3,jh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Tr(t){function n(I){return Hu(I,t)}xs!==null&&Hu(xs,t),Ss!==null&&Hu(Ss,t),ws!==null&&Hu(ws,t),Pl.forEach(n),ql.forEach(n);for(var s=0;s<Rs.length;s++){var l=Rs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Rs.length&&(s=Rs[0],s.blockedOn===null);)Cy(s),s.blockedOn===null&&Rs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Me]||null;if(typeof f=="function")g||Iy(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(kf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Iy(s)}}}function Vy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function zf(t){this._internalRoot=t}Gu.prototype.render=zf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=yn();Ay(s,l,t,n,null,null)},Gu.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ay(t.current,2,null,t,null,null),Su(),n[ei]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=So();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Rs.length&&n!==0&&n<Rs[s].priority;s++);Rs.splice(s,0,t),s===0&&Cy(t)}};var My=e.version;if(My!=="19.2.3")throw Error(a(527,My,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var zb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Mn=Qu.inject(zb),ke=Qu}catch{}}return Gl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Bg,f=Pg,g=qg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Ey(t,1,!1,null,null,s,l,null,c,f,g,Vy),t[ei]=n.current,bf(t),new zf(n)},Gl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=Bg,g=Pg,E=qg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=Ey(t,1,!0,n,s??null,l,c,I,f,g,E,Vy),n.context=Ty(null),s=n.current,l=yn(),l=$s(l),c=fs(l),c.callback=null,ds(s,c,l),s=l,n.current.lanes=s,Xs(n,s),yi(n),t[ei]=n.current,bf(t),new Gu(n)},Gl.version="19.2.3",Gl}var Hy;function Zb(){if(Hy)return qf.exports;Hy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qf.exports=Xb(),qf.exports}var $b=Zb();const Jb=l0($b),Wb=()=>{};var Fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},tE=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,S=(h&3)<<4|p>>4;let R=(p&15)<<2|_>>6,P=_&63;v||(P=64,d||(R=64)),a.push(i[A],i[S],i[R],i[P])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(o0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||_==null||S==null)throw new eE;const R=h<<2|p>>4;if(a.push(R),_!==64){const P=p<<4&240|_>>2;if(a.push(P),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nE=function(r){const e=o0(r);return u0.encodeByteArray(e,!0)},ac=function(r){return nE(r).replace(/\./g,"")},iE=function(r){try{return u0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=()=>sE().__FIREBASE_DEFAULTS__,rE=()=>{if(typeof process>"u"||typeof Fy>"u")return;const r=Fy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&iE(r[1]);return e&&JSON.parse(e)},Rd=()=>{try{return Wb()||aE()||rE()||lE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},oE=r=>{var e,i;return(i=(e=Rd())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},c0=r=>{const e=oE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},h0=()=>{var r;return(r=Rd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ac(JSON.stringify(i)),ac(JSON.stringify(d)),""].join(".")}const $l={};function cE(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function hE(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Gy=!1;function m0(r,e){if(typeof window>"u"||typeof document>"u"||!Tc(window.location.host)||$l[r]===e||$l[r]||Gy)return;$l[r]=e;function i(R){return`__firebase__banner__${R}`}const a="__firebase__banner",h=cE().prod.length>0;function d(){const R=document.getElementById(a);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function _(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Gy=!0,d()},R}function A(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=hE(a),P=i("text"),J=document.getElementById(P)||document.createElement("span"),W=i("learnmore"),K=document.getElementById(W)||document.createElement("a"),it=i("preprendIcon"),ft=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const tt=R.element;p(tt),A(K,W);const rt=_();v(ft,it),tt.append(ft,J,K,rt),document.body.appendChild(tt)}h?(J.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dE(){var e;const r=(e=Rd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mE(){return!dE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gE(){try{return typeof indexedDB=="object"}catch{return!1}}function pE(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="FirebaseError";class Ca extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=yE,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g0.prototype.create)}}class g0{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?_E(h,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ca(o,p,a)}}function _E(r,e){return r.replace(vE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const vE=/\{\$([^}]+)}/g;function rc(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(Qy(h)&&Qy(d)){if(!rc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Qy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r){return r&&r._delegate?r._delegate:r}class Nr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new uE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TE(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:EE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EE(r){return r===Ta?void 0:r}function TE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new bE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const xE={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},SE=zt.INFO,wE={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},RE=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=wE[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=SE,this._logHandler=RE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const NE=(r,e)=>e.some(i=>r instanceof i);let Yy,Ky;function CE(){return Yy||(Yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DE(){return Ky||(Ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y0=new WeakMap,nd=new WeakMap,_0=new WeakMap,Qf=new WeakMap,Nd=new WeakMap;function IE(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ds(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&y0.set(i,r)}).catch(()=>{}),Nd.set(e,r),e}function VE(r){if(nd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});nd.set(r,e)}let id={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return nd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||_0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ds(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ME(r){id=r(id)}function OE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Yf(this),e,...i);return _0.set(a,e.sort?e.sort():[e]),Ds(a)}:DE().includes(r)?function(...e){return r.apply(Yf(this),e),Ds(y0.get(this))}:function(...e){return Ds(r.apply(Yf(this),e))}}function jE(r){return typeof r=="function"?OE(r):(r instanceof IDBTransaction&&VE(r),NE(r,CE())?new Proxy(r,id):r)}function Ds(r){if(r instanceof IDBRequest)return IE(r);if(Qf.has(r))return Qf.get(r);const e=jE(r);return e!==r&&(Qf.set(r,e),Nd.set(e,r)),e}const Yf=r=>Nd.get(r);function UE(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=Ds(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Ds(d.result),v.oldVersion,v.newVersion,Ds(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const kE=["get","getKey","getAll","getAllKeys","count"],LE=["put","add","delete","clear"],Kf=new Map;function Xy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=LE.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||kE.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Kf.set(e,h),h}ME(r=>({...r,get:(e,i,a)=>Xy(e,i)||r.get(e,i,a),has:(e,i)=>!!Xy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BE(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function BE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sd="@firebase/app",Zy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new p0("@firebase/app"),PE="@firebase/app-compat",qE="@firebase/analytics-compat",HE="@firebase/analytics",FE="@firebase/app-check-compat",GE="@firebase/app-check",QE="@firebase/auth",YE="@firebase/auth-compat",KE="@firebase/database",XE="@firebase/data-connect",ZE="@firebase/database-compat",$E="@firebase/functions",JE="@firebase/functions-compat",WE="@firebase/installations",tT="@firebase/installations-compat",eT="@firebase/messaging",nT="@firebase/messaging-compat",iT="@firebase/performance",sT="@firebase/performance-compat",aT="@firebase/remote-config",rT="@firebase/remote-config-compat",lT="@firebase/storage",oT="@firebase/storage-compat",uT="@firebase/firestore",cT="@firebase/ai",hT="@firebase/firestore-compat",fT="firebase",dT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="[DEFAULT]",mT={[sd]:"fire-core",[PE]:"fire-core-compat",[HE]:"fire-analytics",[qE]:"fire-analytics-compat",[GE]:"fire-app-check",[FE]:"fire-app-check-compat",[QE]:"fire-auth",[YE]:"fire-auth-compat",[KE]:"fire-rtdb",[XE]:"fire-data-connect",[ZE]:"fire-rtdb-compat",[$E]:"fire-fn",[JE]:"fire-fn-compat",[WE]:"fire-iid",[tT]:"fire-iid-compat",[eT]:"fire-fcm",[nT]:"fire-fcm-compat",[iT]:"fire-perf",[sT]:"fire-perf-compat",[aT]:"fire-rc",[rT]:"fire-rc-compat",[lT]:"fire-gcs",[oT]:"fire-gcs-compat",[uT]:"fire-fst",[hT]:"fire-fst-compat",[cT]:"fire-vertex","fire-js":"fire-js",[fT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,gT=new Map,rd=new Map;function $y(r,e){try{r.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function no(r){const e=r.name;if(rd.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;rd.set(e,r);for(const i of lc.values())$y(i,r);for(const i of gT.values())$y(i,r);return!0}function v0(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function b0(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new g0("app","Firebase",pT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=dT;function T0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:ad,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Is.create("bad-app-name",{appName:String(o)});if(i||(i=h0()),!i)throw Is.create("no-options");const h=lc.get(o);if(h){if(rc(i,h.options)&&rc(a,h.config))return h;throw Is.create("duplicate-app",{appName:o})}const d=new AE(o);for(const v of rd.values())d.addComponent(v);const p=new yT(i,a,d);return lc.set(o,p),p}function A0(r=ad){const e=lc.get(r);if(!e&&r===ad&&h0())return T0();if(!e)throw Is.create("no-app",{appName:r});return e}function Vs(r,e,i){let a=mT[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}no(new Nr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebase-heartbeat-database",vT=1,io="firebase-heartbeat-store";let Xf=null;function x0(){return Xf||(Xf=UE(_T,vT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(r=>{throw Is.create("idb-open",{originalErrorMessage:r.message})})),Xf}async function bT(r){try{const i=(await x0()).transaction(io),a=await i.objectStore(io).get(S0(r));return await i.done,a}catch(e){if(e instanceof Ca)Qi.warn(e.message);else{const i=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(i.message)}}}async function Jy(r,e){try{const a=(await x0()).transaction(io,"readwrite");await a.objectStore(io).put(e,S0(r)),await a.done}catch(i){if(i instanceof Ca)Qi.warn(i.message);else{const a=Is.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Qi.warn(a.message)}}}function S0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class AT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ST(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Wy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>TT){const d=wT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Qi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Wy(),{heartbeatsToSend:a,unsentEntries:o}=xT(this._heartbeatsCache.heartbeats),h=ac(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Qi.warn(i),""}}}function Wy(){return new Date().toISOString().substring(0,10)}function xT(r,e=ET){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),t_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),t_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ST{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gE()?pE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function t_(r){return ac(JSON.stringify({version:2,heartbeats:r})).length}function wT(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(r){no(new Nr("platform-logger",e=>new zE(e),"PRIVATE")),no(new Nr("heartbeat",e=>new AT(e),"PRIVATE")),Vs(sd,Zy,r),Vs(sd,Zy,"esm2020"),Vs("fire-js","")}RT("");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,w0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function D(){}D.prototype=w.prototype,x.F=w.prototype,x.prototype=new D,x.prototype.constructor=x,x.D=function(V,M,C){for(var N=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)N[xt-2]=arguments[xt];return w.prototype[M].apply(V,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,D){D||(D=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(M=0;M<16;++M)V[M]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=x.g[0],D=x.g[1],M=x.g[2];let C=x.g[3],N;N=w+(C^D&(M^C))+V[0]+3614090360&4294967295,w=D+(N<<7&4294967295|N>>>25),N=C+(M^w&(D^M))+V[1]+3905402710&4294967295,C=w+(N<<12&4294967295|N>>>20),N=M+(D^C&(w^D))+V[2]+606105819&4294967295,M=C+(N<<17&4294967295|N>>>15),N=D+(w^M&(C^w))+V[3]+3250441966&4294967295,D=M+(N<<22&4294967295|N>>>10),N=w+(C^D&(M^C))+V[4]+4118548399&4294967295,w=D+(N<<7&4294967295|N>>>25),N=C+(M^w&(D^M))+V[5]+1200080426&4294967295,C=w+(N<<12&4294967295|N>>>20),N=M+(D^C&(w^D))+V[6]+2821735955&4294967295,M=C+(N<<17&4294967295|N>>>15),N=D+(w^M&(C^w))+V[7]+4249261313&4294967295,D=M+(N<<22&4294967295|N>>>10),N=w+(C^D&(M^C))+V[8]+1770035416&4294967295,w=D+(N<<7&4294967295|N>>>25),N=C+(M^w&(D^M))+V[9]+2336552879&4294967295,C=w+(N<<12&4294967295|N>>>20),N=M+(D^C&(w^D))+V[10]+4294925233&4294967295,M=C+(N<<17&4294967295|N>>>15),N=D+(w^M&(C^w))+V[11]+2304563134&4294967295,D=M+(N<<22&4294967295|N>>>10),N=w+(C^D&(M^C))+V[12]+1804603682&4294967295,w=D+(N<<7&4294967295|N>>>25),N=C+(M^w&(D^M))+V[13]+4254626195&4294967295,C=w+(N<<12&4294967295|N>>>20),N=M+(D^C&(w^D))+V[14]+2792965006&4294967295,M=C+(N<<17&4294967295|N>>>15),N=D+(w^M&(C^w))+V[15]+1236535329&4294967295,D=M+(N<<22&4294967295|N>>>10),N=w+(M^C&(D^M))+V[1]+4129170786&4294967295,w=D+(N<<5&4294967295|N>>>27),N=C+(D^M&(w^D))+V[6]+3225465664&4294967295,C=w+(N<<9&4294967295|N>>>23),N=M+(w^D&(C^w))+V[11]+643717713&4294967295,M=C+(N<<14&4294967295|N>>>18),N=D+(C^w&(M^C))+V[0]+3921069994&4294967295,D=M+(N<<20&4294967295|N>>>12),N=w+(M^C&(D^M))+V[5]+3593408605&4294967295,w=D+(N<<5&4294967295|N>>>27),N=C+(D^M&(w^D))+V[10]+38016083&4294967295,C=w+(N<<9&4294967295|N>>>23),N=M+(w^D&(C^w))+V[15]+3634488961&4294967295,M=C+(N<<14&4294967295|N>>>18),N=D+(C^w&(M^C))+V[4]+3889429448&4294967295,D=M+(N<<20&4294967295|N>>>12),N=w+(M^C&(D^M))+V[9]+568446438&4294967295,w=D+(N<<5&4294967295|N>>>27),N=C+(D^M&(w^D))+V[14]+3275163606&4294967295,C=w+(N<<9&4294967295|N>>>23),N=M+(w^D&(C^w))+V[3]+4107603335&4294967295,M=C+(N<<14&4294967295|N>>>18),N=D+(C^w&(M^C))+V[8]+1163531501&4294967295,D=M+(N<<20&4294967295|N>>>12),N=w+(M^C&(D^M))+V[13]+2850285829&4294967295,w=D+(N<<5&4294967295|N>>>27),N=C+(D^M&(w^D))+V[2]+4243563512&4294967295,C=w+(N<<9&4294967295|N>>>23),N=M+(w^D&(C^w))+V[7]+1735328473&4294967295,M=C+(N<<14&4294967295|N>>>18),N=D+(C^w&(M^C))+V[12]+2368359562&4294967295,D=M+(N<<20&4294967295|N>>>12),N=w+(D^M^C)+V[5]+4294588738&4294967295,w=D+(N<<4&4294967295|N>>>28),N=C+(w^D^M)+V[8]+2272392833&4294967295,C=w+(N<<11&4294967295|N>>>21),N=M+(C^w^D)+V[11]+1839030562&4294967295,M=C+(N<<16&4294967295|N>>>16),N=D+(M^C^w)+V[14]+4259657740&4294967295,D=M+(N<<23&4294967295|N>>>9),N=w+(D^M^C)+V[1]+2763975236&4294967295,w=D+(N<<4&4294967295|N>>>28),N=C+(w^D^M)+V[4]+1272893353&4294967295,C=w+(N<<11&4294967295|N>>>21),N=M+(C^w^D)+V[7]+4139469664&4294967295,M=C+(N<<16&4294967295|N>>>16),N=D+(M^C^w)+V[10]+3200236656&4294967295,D=M+(N<<23&4294967295|N>>>9),N=w+(D^M^C)+V[13]+681279174&4294967295,w=D+(N<<4&4294967295|N>>>28),N=C+(w^D^M)+V[0]+3936430074&4294967295,C=w+(N<<11&4294967295|N>>>21),N=M+(C^w^D)+V[3]+3572445317&4294967295,M=C+(N<<16&4294967295|N>>>16),N=D+(M^C^w)+V[6]+76029189&4294967295,D=M+(N<<23&4294967295|N>>>9),N=w+(D^M^C)+V[9]+3654602809&4294967295,w=D+(N<<4&4294967295|N>>>28),N=C+(w^D^M)+V[12]+3873151461&4294967295,C=w+(N<<11&4294967295|N>>>21),N=M+(C^w^D)+V[15]+530742520&4294967295,M=C+(N<<16&4294967295|N>>>16),N=D+(M^C^w)+V[2]+3299628645&4294967295,D=M+(N<<23&4294967295|N>>>9),N=w+(M^(D|~C))+V[0]+4096336452&4294967295,w=D+(N<<6&4294967295|N>>>26),N=C+(D^(w|~M))+V[7]+1126891415&4294967295,C=w+(N<<10&4294967295|N>>>22),N=M+(w^(C|~D))+V[14]+2878612391&4294967295,M=C+(N<<15&4294967295|N>>>17),N=D+(C^(M|~w))+V[5]+4237533241&4294967295,D=M+(N<<21&4294967295|N>>>11),N=w+(M^(D|~C))+V[12]+1700485571&4294967295,w=D+(N<<6&4294967295|N>>>26),N=C+(D^(w|~M))+V[3]+2399980690&4294967295,C=w+(N<<10&4294967295|N>>>22),N=M+(w^(C|~D))+V[10]+4293915773&4294967295,M=C+(N<<15&4294967295|N>>>17),N=D+(C^(M|~w))+V[1]+2240044497&4294967295,D=M+(N<<21&4294967295|N>>>11),N=w+(M^(D|~C))+V[8]+1873313359&4294967295,w=D+(N<<6&4294967295|N>>>26),N=C+(D^(w|~M))+V[15]+4264355552&4294967295,C=w+(N<<10&4294967295|N>>>22),N=M+(w^(C|~D))+V[6]+2734768916&4294967295,M=C+(N<<15&4294967295|N>>>17),N=D+(C^(M|~w))+V[13]+1309151649&4294967295,D=M+(N<<21&4294967295|N>>>11),N=w+(M^(D|~C))+V[4]+4149444226&4294967295,w=D+(N<<6&4294967295|N>>>26),N=C+(D^(w|~M))+V[11]+3174756917&4294967295,C=w+(N<<10&4294967295|N>>>22),N=M+(w^(C|~D))+V[2]+718787259&4294967295,M=C+(N<<15&4294967295|N>>>17),N=D+(C^(M|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+C&4294967295}a.prototype.v=function(x,w){w===void 0&&(w=x.length);const D=w-this.blockSize,V=this.C;let M=this.h,C=0;for(;C<w;){if(M==0)for(;C<=D;)o(this,x,C),C+=this.blockSize;if(typeof x=="string"){for(;C<w;)if(V[M++]=x.charCodeAt(C++),M==this.blockSize){o(this,V),M=0;break}}else for(;C<w;)if(V[M++]=x[C++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var D=x.length-8;D<x.length;++D)x[D]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)x[w++]=this.g[D]>>>V&255;return x};function h(x,w){var D=p;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=w(x)}function d(x,w){this.h=w;const D=[];let V=!0;for(let M=x.length-1;M>=0;M--){const C=x[M]|0;V&&C==w||(D[M]=C,V=!1)}this.g=D}var p={};function v(x){return-128<=x&&x<128?h(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return K(_(-x));const w=[];let D=1;for(let V=0;x>=D;V++)w[V]=x/D|0,D*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return K(A(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(w,8));let V=S;for(let C=0;C<x.length;C+=8){var M=Math.min(8,x.length-C);const N=parseInt(x.substring(C,C+M),w);M<8?(M=_(Math.pow(w,M)),V=V.j(M).add(_(N))):(V=V.j(D),V=V.add(_(N)))}return V}var S=v(0),R=v(1),P=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-K(this).m();let x=0,w=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(W(this))return"-"+K(this).toString(x);const w=_(Math.pow(x,6));var D=this;let V="";for(;;){const M=rt(D,w).g;D=it(D,M.j(w));let C=((D.g.length>0?D.g[0]:D.h)>>>0).toString(x);if(D=M,J(D))return C+V;for(;C.length<6;)C="0"+C;V=C+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function W(x){return x.h==-1}r.l=function(x){return x=it(this,x),W(x)?-1:J(x)?0:1};function K(x){const w=x.g.length,D=[];for(let V=0;V<w;V++)D[V]=~x.g[V];return new d(D,~x.h).add(R)}r.abs=function(){return W(this)?K(this):this},r.add=function(x){const w=Math.max(this.g.length,x.g.length),D=[];let V=0;for(let M=0;M<=w;M++){let C=V+(this.i(M)&65535)+(x.i(M)&65535),N=(C>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);V=N>>>16,C&=65535,N&=65535,D[M]=N<<16|C}return new d(D,D[D.length-1]&-2147483648?-1:0)};function it(x,w){return x.add(K(w))}r.j=function(x){if(J(this)||J(x))return S;if(W(this))return W(x)?K(this).j(K(x)):K(K(this).j(x));if(W(x))return K(this.j(K(x)));if(this.l(P)<0&&x.l(P)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,D=[];for(var V=0;V<2*w;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<x.g.length;M++){const C=this.i(V)>>>16,N=this.i(V)&65535,xt=x.i(M)>>>16,Wt=x.i(M)&65535;D[2*V+2*M]+=N*Wt,ft(D,2*V+2*M),D[2*V+2*M+1]+=C*Wt,ft(D,2*V+2*M+1),D[2*V+2*M+1]+=N*xt,ft(D,2*V+2*M+1),D[2*V+2*M+2]+=C*xt,ft(D,2*V+2*M+2)}for(x=0;x<w;x++)D[x]=D[2*x+1]<<16|D[2*x];for(x=w;x<2*w;x++)D[x]=0;return new d(D,0)};function ft(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function tt(x,w){this.g=x,this.h=w}function rt(x,w){if(J(w))throw Error("division by zero");if(J(x))return new tt(S,S);if(W(x))return w=rt(K(x),w),new tt(K(w.g),K(w.h));if(W(w))return w=rt(x,K(w)),new tt(K(w.g),w.h);if(x.g.length>30){if(W(x)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var D=R,V=w;V.l(x)<=0;)D=_t(D),V=_t(V);var M=st(D,1),C=st(V,1);for(V=st(V,2),D=st(D,2);!J(V);){var N=C.add(V);N.l(x)<=0&&(M=M.add(D),C=N),V=st(V,1),D=st(D,1)}return w=it(x,M.j(w)),new tt(M,w)}for(M=S;x.l(w)>=0;){for(D=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),C=_(D),N=C.j(w);W(N)||N.l(x)>0;)D-=V,C=_(D),N=C.j(w);J(C)&&(C=R),M=M.add(C),x=it(x,N)}return new tt(M,x)}r.B=function(x){return rt(this,x).h},r.and=function(x){const w=Math.max(this.g.length,x.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)&x.i(V);return new d(D,this.h&x.h)},r.or=function(x){const w=Math.max(this.g.length,x.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)|x.i(V);return new d(D,this.h|x.h)},r.xor=function(x){const w=Math.max(this.g.length,x.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)^x.i(V);return new d(D,this.h^x.h)};function _t(x){const w=x.g.length+1,D=[];for(let V=0;V<w;V++)D[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(D,x.h)}function st(x,w){const D=w>>5;w%=32;const V=x.g.length-D,M=[];for(let C=0;C<V;C++)M[C]=w>0?x.i(C+D)>>>w|x.i(C+D+1)<<32-w:x.i(C+D);return new d(M,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,w0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ms=d}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R0,Ql,N0,Wu,ld,C0,D0,I0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in y))break t;y=y[k]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,k,q){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return m.prototype[k].apply(T,nt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var y=typeof k;if(y=y!="object"?y:k?Array.isArray(k)?"array":y:"null",y=="array"||y=="object"&&typeof k.length=="number"){y=u.length||0;const q=k.length||0;u.length=y+q;for(let nt=0;nt<q;nt++)u[y+nt]=k[nt]}else u.push(k)}}class W{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){d.setTimeout(()=>{throw u},0)}function it(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,y){const T=tt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var tt=new W(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,st=!1,x=new ft,w=()=>{const u=Promise.resolve(void 0);_t=()=>{u.then(D)}};function D(){for(var u;u=it();){try{u.h.call(u.g)}catch(y){K(y)}var m=tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}st=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function xt(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(xt,M),xt.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&xt.Z.h.call(this)},xt.prototype.h=function(){xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,y,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=k,this.key=++F,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ct(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Gt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function j(u){const m={};for(const y in u)m[y]=u[y];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let y,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(y in T)u[y]=T[y];for(let q=0;q<X.length;q++)y=X[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,y,T,k){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=Rt(u,m,T,k);return nt>-1?(m=u[nt],y||(m.fa=!1)):(m=new et(m,this.src,q,!!T,k),m.fa=y,u.push(m)),m};function vt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=k>=0)&&Array.prototype.splice.call(T,k,1),q&&(dt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Rt(u,m,y,T){for(let k=0;k<u.length;++k){const q=u[k];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return k}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ae(u,m,y,T,k){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],y,T,k);return null}return y=qr(y),u&&u[Wt]?u.J(m,y,p(T)?!!T.capture:!1,k):Gs(u,m,y,!1,T,k)}function Gs(u,m,y,T,k,q){if(!m)throw Error("Invalid event type");const nt=p(k)?!!k.capture:!!k;let St=Qs(u);if(St||(u[kt]=St=new ut(u)),y=St.add(m,y,T,nt,q),y.proxy)return y;if(T=Ma(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)C||(k=nt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ma(){function u(y){return m.call(u.src,u.listener,y)}const m=Br;return u}function Oa(u,m,y,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)Oa(u,m[q],y,T,k);else T=p(T)?!!T.capture:!!T,y=qr(y),u&&u[Wt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=Rt(m,y,T,k),y>-1&&(dt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,y,T,k)),(y=u>-1?m[u]:null)&&ja(y))}function ja(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Wt])vt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Zn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Qs(m))?(vt(y,u),y.h==0&&(y.src=null,m[kt]=null)):dt(u)}}}function Zn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function Br(u,m){if(u.da)u=!0;else{m=new xt(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&ja(u),u=y.call(T,m)}return u}function Qs(u){return u=u[kt],u instanceof ut?u:null}var Pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(u){return typeof u=="function"?u:(u[Pr]||(u[Pr]=function(m){return u.handleEvent(m)}),u[Pr])}function pe(){V.call(this),this.i=new ut(this),this.M=this,this.G=null}S(pe,V),pe.prototype[Wt]=!0,pe.prototype.removeEventListener=function(u,m,y,T){Oa(this,u,m,y,T)};function De(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var k=m;m=new M(T,u),at(m,k)}k=!0;let q,nt;if(y)for(nt=y.length-1;nt>=0;nt--)q=m.g=y[nt],k=Zi(q,T,!0,m)&&k;if(q=m.g=u,k=Zi(q,T,!0,m)&&k,k=Zi(q,T,!1,m)&&k,y)for(nt=0;nt<y.length;nt++)q=m.g=y[nt],k=Zi(q,T,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)dt(y[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},pe.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Zi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==y){const St=nt.listener,fe=nt.ha||nt.src;nt.fa&&vt(u.i,nt),k=St.call(fe,T)!==!1&&k}}return k&&!T.defaultPrevented}function Pc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _o(u){u.g=Pc(()=>{u.g=null,u.i&&(u.i=!1,_o(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(u){V.call(this),this.h=u,this.g={}}S(Ys,V);var Hr=[];function Fr(u){Ct(u.g,function(m,y){this.g.hasOwnProperty(y)&&ja(m)},u),u.g={}}Ys.prototype.N=function(){Ys.Z.N.call(this),Fr(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=d.JSON.stringify,qc=d.JSON.parse,vo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function bo(){}function Eo(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){M.call(this,"d")}S(ke,M);function vn(){M.call(this,"c")}S(vn,M);var he={},To=null;function Ua(){return To=To||new pe}he.Ia="serverreachability";function Ao(u){M.call(this,he.Ia,u)}S(Ao,M);function $n(u){const m=Ua();De(m,new Ao(m))}he.STAT_EVENT="statevent";function Ks(u,m){M.call(this,he.STAT_EVENT,u),this.stat=m}S(Ks,M);function ye(u){const m=Ua();De(m,new Ks(m,u))}he.Ja="timingevent";function Jn(u,m){M.call(this,he.Ja,u),this.size=m}S(Jn,M);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Hc(u,m,y,T,k,q){u.info(function(){if(u.g)if(q){var nt="",St=q.split("&");for(let qt=0;qt<St.length;qt++){var fe=St[qt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const An=re.split("_");nt=An.length>=2&&An[1]=="type"?nt+(re+"="+fe+"&"):nt+(re+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+y+`
`+nt})}function xo(u,m,y,T,k,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+y+`
`+q+" "+nt})}function ti(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fc(u,y)+(T?" "+T:"")})}function Xs(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Fc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return $i(q)}catch{return m}}var Zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qr;function $s(){}S($s,bo),$s.prototype.g=function(){return new XMLHttpRequest},Qr=new $s;function Ri(u){return encodeURIComponent(String(u))}function So(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function jn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function ei(u,m,y){u.M=1,u.A=Js(be(m)),u.u=y,u.R=!0,ka(u,null)}function ka(u,m){u.F=Date.now(),ni(u),u.B=be(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Pa(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Un,u.g=Bo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(Hr[0]=k.toString()),k=Hr);for(let q=0;q<k.length;q++){const nt=ae(y,k[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Hc(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&zn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=zn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||St!=4||fe==7||(fe==8||qt<=0?$n(3):$n(2)),ii(this);var m=this.g.ca();this.X=m;var y=Gc(this);if(this.o=m==200,xo(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var q=T;break e}}q=null}if(u=q)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,ye(12),un(this),bn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<y.length;)if(re=Ro(this,y),re==Me){St==4&&(this.m=4,ye(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ti(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,re,null),si(this,re);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||y.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,y,"[Invalid Chunked Response]"),un(this),bn(this);else if(y.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),ll(nt),nt.P=!0,ye(11))}}else ti(this.i,this.l,y,null),si(this,y);St==4&&un(this),this.o&&!this.K&&(St==4?Uo(this.j,this):(this.o=!1,ni(this)))}else Ci(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),un(this),bn(this)}}}catch{}finally{}};function Gc(u){if(!wo(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let y="";const T=m.length,k=zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(k&&q==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ro(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Me:(y=Number(m.substring(y,T)),isNaN(y)?_e:(T+=1,T+y>m.length?Me:(m=m.slice(T,T+y),u.C=T+y,m)))}jn.prototype.cancel=function(){this.K=!0,un(this)};function ni(u){u.T=Date.now()+u.H,La(u,u.H)}function La(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(_(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Xs(this.i,this.B),this.M!=2&&($n(),ye(17)),un(this),this.m=2,bn(this)):La(this,this.T-u)};function bn(u){u.j.I==0||u.K||Uo(u.j,u)}function un(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Fr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ri(y.h,u))){if(!u.L&&ri(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Qa(y),as(y);else break t;aa(y),ye(18)}}else y.xa=k[1],0<y.xa-y.K&&k[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Wn(_(y.Va,y),6e3));ai(y.h)<=1&&y.ta&&(y.ta=void 0)}else fi(y,11)}else if((u.L||y.g==u)&&Qa(y),!N(m))for(k=y.Ba.g.parse(m),m=0;m<k.length;m++){let qt=k[m];const re=qt[0];if(!(re<=y.K))if(y.K=re,qt=qt[1],y.I==2)if(qt[0]=="c"){y.M=qt[1],y.ba=qt[2];const An=qt[3];An!=null&&(y.ka=An,y.j.info("VER="+y.ka));const di=qt[4];di!=null&&(y.za=di,y.j.info("SVER="+y.za));const Bn=qt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Pn=u.g;if(Pn){const ra=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var q=T.h;q.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Xr(q,q.h),q.h=null))}if(T.G){const Ya=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(T.wa=Ya,Qt(T.J,T.G,Ya))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var nt=u;if(T.na=zo(T,T.L?T.ba:null,T.W),nt.L){Zr(T.h,nt);var St=nt,fe=T.O;fe&&(St.H=fe),St.D&&(ii(St),ni(St)),T.g=nt}else Oo(T);y.i.length>0&&hi(y)}else qt[0]!="stop"&&qt[0]!="close"||fi(y,7);else y.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?fi(y,7):al(y):qt[0]!="noop"&&y.l&&y.l.qa(qt),y.A=0)}}$n(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Yr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Xr(u,m){u.g?u.g.add(m):u.h=m}function Zr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Yr.prototype.cancel=function(){if(this.i=$r(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $r(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return P(u.i)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let k,q=null;T>=0?(k=u[y].substring(0,T),q=u[y].substring(T+1)):k=u[y],m(k,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Oe(this,u.j),this.o=u.o,this.g=u.g,Ji(this,u.u),this.h=u.h,Jr(this,Vo(u.i)),this.m=u.m):u&&(m=String(u).match(No))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),Ji(this,m[4]),this.h=li(m[5]||"",!0),Jr(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ws(m,Ba,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ws(m,Ba,!0),"@"),u.push(Ri(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ws(y,y.charAt(0)=="/"?Wr:Co,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ws(y,Do)),u.join("")},cn.prototype.resolve=function(u){const m=be(this);let y=!!u.j;y?Oe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)Ji(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const q=[];for(let nt=0;nt<k.length;){const St=k[nt++];St=="."?T&&nt==k.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&nt==k.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=k}return y?m.h=T:y=u.i.toString()!=="",y?Jr(m,Vo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function be(u){return new cn(u)}function Oe(u,m,y){u.j=y?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ji(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Jr(u,m,y){m instanceof ts?(u.i=m,qa(u.i,u.l)):(y||(m=Ws(m,Wi)),u.i=new ts(m,u.l))}function Qt(u,m,y){u.i.set(m,y)}function Js(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ws(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,We),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ba=/[#\/\?@]/g,Co=/[#\?:]/g,Wr=/[#\?]/g,Wi=/[#\?@]/g,Do=/#/g;function ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&za(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=ts.prototype,r.add=function(u,m){tn(this),this.i=null,u=es(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Io(u,m){tn(u),m=es(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function tl(u,m){return tn(u),m=es(u,m),u.g.has(m)}r.forEach=function(u,m){tn(this),this.g.forEach(function(y,T){y.forEach(function(k){u.call(m,k,T,this)},this)},this)};function el(u,m){tn(u);let y=[];if(typeof m=="string")tl(u,m)&&(y=y.concat(u.g.get(es(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return tn(this),this.i=null,u=es(this,u),tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=el(this,u),u.length>0?String(u[0]):m):m};function Pa(u,m,y){Io(u,m),y.length>0&&(u.i=null,u.g.set(es(u,m),P(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const k=Ri(y);y=el(this,y);for(let q=0;q<y.length;q++){let nt=k;y[q]!==""&&(nt+="="+Ri(y[q])),u.push(nt)}}return this.i=u.join("&")};function Vo(u){const m=new ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function es(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function qa(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(y,T){const k=T.toLowerCase();T!=k&&(Io(this,T),Pa(this,k,y))},u)),u.j=m}function kn(u,m){const y=new On;if(d.Image){const T=new Image;T.onload=A(En,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,y,"TestLoadImage: error",!1,m,T),T.onabort=A(En,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function nl(u,m){const y=new On,T=new AbortController,k=setTimeout(()=>{T.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(y)}catch{}}function ns(){this.g=new vo}function oi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(oi,bo),oi.prototype.g=function(){return new ta(this.i,this.h)};function ta(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ta,pe),r=ta.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ln(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?is(this):Ln(this),this.readyState==3&&Ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,is(this))},r.Na=function(u){this.g&&(this.response=u,is(this))},r.ga=function(){this.g&&is(this)};function is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ln(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return Ct(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function ea(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Tn(y),typeof u=="string"?y!=null&&Ri(y):Qt(u,m,y))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,pe);var ui=/^https?$/i,il=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qr.g(),this.g.onreadystatechange=R(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){na(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)y.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(il,m,void 0)>=0)||T||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of y)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){na(this,q)}};function na(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,sl(u),Ni(u)}function sl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},r.Xa=function(){ia(this)};function ia(u){if(u.h&&typeof h<"u"){if(u.v&&zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),zn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=q===0){let nt=String(u.D).match(No)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!ui.test(nt?nt.toLowerCase():"")}y=T}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var k=zn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",sl(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qc(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(u){const m={};u=(u.g&&zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(N(u[T]))continue;var y=So(u[T]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[k]||[];m[k]=q,q.push(y)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ss(u){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Yr(u&&u.concurrentRequestLimit),this.Ba=new ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ss.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){ye(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=zo(this,null,this.W),hi(this)};function al(u){if(Fa(u),u.I==3){var m=u.V++,y=be(u.J);if(Qt(y,"SID",u.M),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),sa(u,y),m=new jn(u,u.j,m),m.M=2,m.A=Js(be(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Bo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}Lo(u)}function as(u){u.g&&(ll(u),u.g.cancel(),u.g=null)}function Fa(u){as(u),u.v&&(d.clearTimeout(u.v),u.v=null),Qa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!Kr(u.h)&&!u.m){u.m=!0;var m=u.Ea;_t||w(),st||(_t(),st=!0),x.add(m,u),u.D=0}}function Ga(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(_(u.Ea,u,m),ko(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=j(q),at(q,this.U)):q=this.U),this.u!==null||this.R||(k.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Mo(this,k,m),y=be(this.J),Qt(y,"RID",u),Qt(y,"CVER",22),this.G&&Qt(y,"X-HTTP-Session-Id",this.G),sa(this,y),q&&(this.R?m="headers="+Ri(Tn(q))+"&"+m:this.u&&ea(y,this.u,q)),Xr(this.h,k),this.Ra&&Qt(y,"TYPE","init"),this.S?(Qt(y,"$req",m),Qt(y,"SID","null"),k.U=!0,ei(k,y,null)):ei(k,y,m),this.I=2}}else this.I==3&&(u?rl(this,u):this.i.length==0||Kr(this.h)||rl(this))};function rl(u,m){var y;m?y=m.l:y=u.V++;const T=be(u.J);Qt(T,"SID",u.M),Qt(T,"RID",y),Qt(T,"AID",u.K),sa(u,T),u.u&&u.o&&ea(T,u.u,u.o),y=new jn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Mo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xr(u.h,y),ei(y,T,m)}function sa(u,m){u.H&&Ct(u.H,function(y,T){Qt(m,T,y)}),u.l&&Ct({},function(y,T){Qt(m,T,y)})}function Mo(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var k=u.i;let St=-1;for(;;){const fe=["count="+y];St==-1?y>0?(St=k[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let qt=!0;for(let re=0;re<y;re++){var q=k[re].g;const An=k[re].map;if(q-=St,q<0)St=Math.max(0,k[re].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var nt=An instanceof Map?An:Object.entries(An);for(const[di,Bn]of nt){let Pn=Bn;p(Bn)&&(Pn=$i(Bn)),fe.push(q+di+"="+encodeURIComponent(Pn))}}catch(di){throw fe.push(q+"type="+encodeURIComponent("_badmap")),di}}catch{T&&T(An)}}if(qt){nt=fe.join("&");break t}}nt=void 0}return u=u.i.splice(0,y),m.G=u,nt}function Oo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;_t||w(),st||(_t(),st=!0),x.add(m,u),u.A=0}}function aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(_(u.Da,u),ko(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),as(this),jo(this))};function ll(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function jo(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),sa(u,m),u.u&&u.o&&ea(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=Js(be(m)),y.u=null,y.R=!0,ka(y,u)}r.Va=function(){this.C!=null&&(this.C=null,as(this),aa(this),ye(19))};function Qa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Uo(u,m){var y=null;if(u.g==m){Qa(u),ll(u),u.g=null;var T=2}else if(ri(u.h,m))y=m.G,Zr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=Ua(),De(T,new Jn(T,y)),hi(u)}else Oo(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&Ga(u,m)||T==2&&aa(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),k){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function ko(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const k=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Js(T),k?kn(T.toString(),y):nl(T.toString(),y)}else ye(2);u.I=0,u.l&&u.l.pa(m),Lo(u),Fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=$r(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function zo(u,m,y){var T=y instanceof cn?be(y):new cn(y);if(T.g!="")m&&(T.g=m+"."+T.g),Ji(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const q=new cn(null);T&&Oe(q,T),m&&(q.g=m),k&&Ji(q,k),y&&(q.h=y),T=q}return y=u.G,m=u.wa,y&&m&&Qt(T,y,m),Qt(T,"VER",u.ka),sa(u,T),T}function Bo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new oi({ab:y})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}r=Po.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function rs(){}rs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){pe.call(this),this.g=new ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}S($e,pe),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){al(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=$i(u),u=y);m.i.push(new ve(m.Ya++,u)),m.I==3&&hi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,$e.Z.N.call(this)};function qo(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(qo,ke);function Ho(){vn.call(this),this.status=1}S(Ho,vn);function Di(u){this.g=u}S(Di,Po),Di.prototype.ra=function(){De(this.g,"a")},Di.prototype.qa=function(u){De(this.g,new qo(u))},Di.prototype.pa=function(u){De(this.g,new Ho)},Di.prototype.oa=function(){De(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,I0=function(){return new rs},D0=function(){return Ua()},C0=he,ld={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,Wu=Zs,Gr.COMPLETE="complete",N0=Gr,Eo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Ql=Eo,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,R0=Xt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",i_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jr="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new p0("@firebase/firestore");function Ar(){return wa.logLevel}function ot(r,...e){if(wa.logLevel<=zt.DEBUG){const i=e.map(Cd);wa.debug(`Firestore (${jr}): ${r}`,...i)}}function Yi(r,...e){if(wa.logLevel<=zt.ERROR){const i=e.map(Cd);wa.error(`Firestore (${jr}): ${r}`,...i)}}function Cr(r,...e){if(wa.logLevel<=zt.WARN){const i=e.map(Cd);wa.warn(`Firestore (${jr}): ${r}`,...i)}}function Cd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,V0(r,a,i)}function V0(r,e,i){let a=`FIRESTORE (${jr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Yi(a),new Error(a)}function Ft(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||V0(e,o,a)}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ca{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class CT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class DT{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Os,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Os)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new M0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class IT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new IT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,b0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const a=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new s_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=OT(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Ot(r,e){return r<e?-1:r>e?1:0}function od(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return Zf(o)===Zf(h)?Ot(o,h):Zf(o)?1:-1}return Ot(r.length,e.length)}const jT=55296,UT=57343;function Zf(r){const e=r.charCodeAt(0);return e>=jT&&e<=UT}function Dr(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class _i{constructor(e,i,a){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&yt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=_i.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const a=_i.isNumericId(e),o=_i.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?_i.extractNumericId(e).compare(_i.extractNumericId(i)):od(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class ee extends _i{construct(e,i,a){return new ee(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const kT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends _i{construct(e,i,a){return new Fe(e,i,a)}static isValidIdentifier(e){return kT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new Fe([a_])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(h(),o++)}if(h(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(ee.fromString(e))}static fromName(e){return new gt(ee.fromString(e).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r,e,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LT(r,e,i,a){if(e===!0&&a===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function r_(r){if(!gt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function l_(r){if(gt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function j0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ac(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ac(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function co(r,e){if(!j0(r))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,u_=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*u_);return new se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<o_)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(co(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Re("string",se._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=-1;function zT(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new ks(o,gt.empty(),e)}function BT(r){return new ks(r.readTime,r.key,so)}class ks{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ks(bt.min(),gt.empty(),so)}static max(){return new ks(bt.max(),gt.empty(),so)}}function PT(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ur(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==qT)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++p,p===h&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new $(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function FT(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function kr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=-1;function Sc(r){return r==null}function oc(r){return r===0&&1/r==-1/0}function GT(r){return typeof r=="number"&&Number.isInteger(r)&&!oc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="";function QT(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=c_(e)),e=YT(r.get(i),e);return c_(e)}function YT(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case U0:i+="";break;default:i+=h}}return i}function c_(r){return r+U0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Hs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function k0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new He(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ve(this.comparator);return i.data=e,i}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Ve(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Dr(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new L0("Invalid base64 string: "+h):h}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const KT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=KT.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zs(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="server_timestamp",B0="__type__",P0="__previous_value__",q0="__local_write_time__";function Vd(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[B0])==null?void 0:a.stringValue)===z0}function wc(r){const e=r.mapValue.fields[P0];return Vd(e)?wc(e):e}function ao(r){const e=Ls(r.mapValue.fields[q0].timestampValue);return new se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,i,a,o,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const uc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||uc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__type__",ZT="__max__",Xu={mapValue:{}},F0="__vector__",cc="value";function Bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vd(r)?4:JT(r)?9007199254740991:$T(r)?10:11:yt(28295,{value:r})}function xi(r,e){if(r===e)return!0;const i=Bs(r);if(i!==Bs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ao(r).isEqual(ao(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ls(o.timestampValue),p=Ls(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return zs(o.bytesValue).isEqual(zs(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),p=ge(h.doubleValue);return d===p?oc(d)===oc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Dr(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(h_(d)!==h_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!xi(d[v],p[v])))return!1;return!0})(r,e);default:return yt(52216,{left:r})}}function lo(r,e){return(r.values||[]).find((i=>xi(i,e)))!==void 0}function Ir(r,e){if(r===e)return 0;const i=Bs(r),a=Bs(e);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return d_(r.timestampValue,e.timestampValue);case 4:return d_(ao(r),ao(e));case 5:return od(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=zs(h),v=zs(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Ot(p[_],v[_]);if(A!==0)return A}return Ot(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Ot(ge(h.latitude),ge(d.latitude));return p!==0?p:Ot(ge(h.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return m_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var R,P,J,W;const p=h.fields||{},v=d.fields||{},_=(R=p[cc])==null?void 0:R.arrayValue,A=(P=v[cc])==null?void 0:P.arrayValue,S=Ot(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((W=A==null?void 0:A.values)==null?void 0:W.length)||0);return S!==0?S:m_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Xu.mapValue&&d===Xu.mapValue)return 0;if(h===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const R=od(v[S],A[S]);if(R!==0)return R;const P=Ir(p[v[S]],_[A[S]]);if(P!==0)return P}return Ot(v.length,A.length)})(r.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function d_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=Ls(r),a=Ls(e),o=Ot(i.seconds,a.seconds);return o!==0?o:Ot(i.nanos,a.nanos)}function m_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ir(i[o],a[o]);if(h)return h}return Ot(i.length,a.length)}function Vr(r){return ud(r)}function ud(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ls(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=ud(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${ud(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function tc(r){switch(Bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wc(r);return e?16+tc(e):16;case 5:return 2*r.stringValue.length;case 6:return zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+tc(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Hs(a.fields,((h,d)=>{o+=h.length+tc(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function g_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function cd(r){return!!r&&"integerValue"in r}function Md(r){return!!r&&"arrayValue"in r}function p_(r){return!!r&&"nullValue"in r}function y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function $T(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[H0])==null?void 0:a.stringValue)===F0}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Hs(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Jl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return e}return{...r}}function JT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=Fe.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Jl(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Hs(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new on(Jl(this.value))}}function G0(r){const e=[];return Hs(r.fields,((i,a)=>{const o=new Fe([i]);if(ec(a)){const h=G0(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,a,o,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,bt.min(),bt.min(),bt.min(),on.empty(),0)}static newFoundDocument(e,i,a,o){return new Xe(e,1,i,bt.min(),a,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,bt.min(),bt.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,bt.min(),bt.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.position=e,this.inclusive=i}}function __(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Ir(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function v_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i="asc"){this.field=e,this.dir=i}}function WT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{}class we extends Q0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new e2(e,i,a):i==="array-contains"?new s2(e,a):i==="in"?new a2(e,a):i==="not-in"?new r2(e,a):i==="array-contains-any"?new l2(e,a):new we(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new n2(e,a):new i2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ir(i,this.value)):i!==null&&Bs(this.value)===Bs(i)&&this.matchesComparison(Ir(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Q0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xn(e,i)}matches(e){return Y0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y0(r){return r.op==="and"}function K0(r){return t2(r)&&Y0(r)}function t2(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function hd(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Vr(r.value);if(K0(r))return r.filters.map((e=>hd(e))).join(",");{const e=r.filters.map((i=>hd(i))).join(",");return`${r.op}(${e})`}}function X0(r,e){return r instanceof we?(function(a,o){return o instanceof we&&a.op===o.op&&a.field.isEqual(o.field)&&xi(a.value,o.value)})(r,e):r instanceof Xn?(function(a,o){return o instanceof Xn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,p)=>h&&X0(d,o.filters[p])),!0):!1})(r,e):void yt(19439)}function Z0(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Vr(i.value)}`})(r):r instanceof Xn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Z0).join(" ,")+"}"})(r):"Filter"}class e2 extends we{constructor(e,i,a){super(e,i,a),this.key=gt.fromName(a.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class n2 extends we{constructor(e,i){super(e,"in",i),this.keys=$0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class i2 extends we{constructor(e,i){super(e,"not-in",i),this.keys=$0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function $0(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((a=>gt.fromName(a.referenceValue)))}class s2 extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Md(i)&&lo(i.arrayValue,this.value)}}class a2 extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class r2 extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class l2 extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Md(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>lo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,i=null,a=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function b_(r,e=null,i=[],a=[],o=null,h=null,d=null){return new o2(r,e,i,a,o,h,d)}function Od(r){const e=At(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Sc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Vr(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Vr(a))).join(",")),e.Te=i}return e.Te}function jd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!WT(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!X0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!v_(r.startAt,e.startAt)&&v_(r.endAt,e.endAt)}function fd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,i=null,a=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u2(r,e,i,a,o,h,d,p){return new ho(r,e,i,a,o,h,d,p)}function Ud(r){return new ho(r)}function E_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function J0(r){return r.collectionGroup!==null}function Wl(r){const e=At(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new fc(h,a))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new fc(Fe.keyField(),a))}return e.Ie}function bi(r){const e=At(r);return e.Ee||(e.Ee=c2(e,Wl(r))),e.Ee}function c2(r,e){if(r.limitType==="F")return b_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new fc(o.field,h)}));const i=r.endAt?new hc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new hc(r.startAt.position,r.startAt.inclusive):null;return b_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dd(r,e){const i=r.filters.concat([e]);return new ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function md(r,e,i){return new ho(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Rc(r,e){return jd(bi(r),bi(e))&&r.limitType===e.limitType}function W0(r){return`${Od(bi(r))}|lt:${r.limitType}`}function xr(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Z0(o))).join(", ")}]`),Sc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Vr(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Vr(o))).join(",")),`Target(${a})`})(bi(r))}; limitType=${r.limitType})`}function Nc(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):gt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of Wl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const _=__(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Wl(a),o)||a.endAt&&!(function(d,p,v){const _=__(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Wl(a),o))})(r,e)}function h2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tv(r){return(e,i)=>{let a=!1;for(const o of Wl(r)){const h=f2(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function f2(r,e,i){const a=r.field.isKeyField()?gt.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Ir(v,_):yt(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return k0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new oe(gt.comparator);function Ki(){return d2}const ev=new oe(gt.comparator);function Yl(...r){let e=ev;for(const i of r)e=e.insert(i.key,i);return e}function nv(r){let e=ev;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Aa(){return to()}function iv(){return to()}function to(){return new Da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const m2=new oe(gt.comparator),g2=new Ve(gt.comparator);function jt(...r){let e=g2;for(const i of r)e=e.add(i);return e}const p2=new Ve(Ot);function y2(){return p2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function sv(r){return{integerValue:""+r}}function _2(r,e){return GT(e)?sv(e):kd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this._=void 0}}function v2(r,e,i){return r instanceof dc?(function(o,h){const d={fields:{[B0]:{stringValue:z0},[q0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Vd(h)&&(h=wc(h)),h&&(d.fields[P0]=h),{mapValue:d}})(i,e):r instanceof oo?rv(r,e):r instanceof uo?lv(r,e):(function(o,h){const d=av(o,h),p=T_(d)+T_(o.Ae);return cd(d)&&cd(o.Ae)?sv(p):kd(o.serializer,p)})(r,e)}function b2(r,e,i){return r instanceof oo?rv(r,e):r instanceof uo?lv(r,e):i}function av(r,e){return r instanceof mc?(function(a){return cd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class dc extends Cc{}class oo extends Cc{constructor(e){super(),this.elements=e}}function rv(r,e){const i=ov(e);for(const a of r.elements)i.some((o=>xi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class uo extends Cc{constructor(e){super(),this.elements=e}}function lv(r,e){let i=ov(e);for(const a of r.elements)i=i.filter((o=>!xi(o,a)));return{arrayValue:{values:i}}}class mc extends Cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function T_(r){return ge(r.integerValue||r.doubleValue)}function ov(r){return Md(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function E2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof oo&&o instanceof oo||a instanceof uo&&o instanceof uo?Dr(a.elements,o.elements,xi):a instanceof mc&&o instanceof mc?xi(a.Ae,o.Ae):a instanceof dc&&o instanceof dc})(r.transform,e.transform)}class T2{constructor(e,i){this.version=e,this.transformResults=i}}class Yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dc{}function uv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ld(r.key,Yn.none()):new fo(r.key,r.data,Yn.none());{const i=r.data,a=on.empty();let o=new Ve(Fe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Fs(r.key,a,new _n(o.toArray()),Yn.none())}}function A2(r,e,i){r instanceof fo?(function(o,h,d){const p=o.value.clone(),v=x_(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Fs?(function(o,h,d){if(!nc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=x_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(cv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function eo(r,e,i,a){return r instanceof fo?(function(h,d,p,v){if(!nc(h.precondition,d))return p;const _=h.value.clone(),A=S_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Fs?(function(h,d,p,v){if(!nc(h.precondition,d))return p;const _=S_(h.fieldTransforms,v,d),A=d.data;return A.setAll(cv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(h,d,p){return nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function x2(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=av(a.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(a.field,h))}return i||null}function A_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Dr(a,o,((h,d)=>E2(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fo extends Dc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends Dc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function cv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function x_(r,e,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);a.set(h.field,b2(d,p,i[o]))}return a}function S_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,v2(h,d,e))}return a}class Ld extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S2 extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&A2(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=eo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=eo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=iv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=uv(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),jt())}isEqual(e){return this.batchId===e.batchId&&Dr(this.mutations,e.mutations,((i,a)=>A_(i,a)))&&Dr(this.baseMutations,e.baseMutations,((i,a)=>A_(i,a)))}}class zd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ft(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return m2})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new zd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Lt;function C2(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function hv(r){if(r===void 0)return Yi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Se.OK:return Z.OK;case Se.CANCELLED:return Z.CANCELLED;case Se.UNKNOWN:return Z.UNKNOWN;case Se.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Se.INTERNAL:return Z.INTERNAL;case Se.UNAVAILABLE:return Z.UNAVAILABLE;case Se.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Se.NOT_FOUND:return Z.NOT_FOUND;case Se.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Se.ABORTED:return Z.ABORTED;case Se.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Se.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=Se||(Se={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Ms([4294967295,4294967295],0);function w_(r){const e=D2().encode(r),i=new w0;return i.update(e),new Uint8Array(i.digest())}function R_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ms([i,a],0),new Ms([o,h],0)]}class Bd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Kl(`Invalid padding: ${i}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ms.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Ms.fromNumber(a)));return o.compare(I2)===1&&(o=new Ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=w_(e),[a,o]=R_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Bd(h,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=w_(e),[a,o]=R_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ic(bt.min(),o,new oe(Ot),Ki(),jt())}}class mo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new mo(a,i,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class fv{constructor(e,i){this.targetId=e,this.Ce=i}}class dv{constructor(e,i,a=Ge.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class N_{constructor(){this.ve=0,this.Fe=C_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=jt(),i=jt(),a=jt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:h})}})),new mo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=C_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ki(),this.Je=Zu(),this.He=Zu(),this.Ye=new oe(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(fd(h))if(a===0){const d=new gt(h.path);this.et(i,d,Xe.newNoDocument(d,bt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=zs(a).toUint8Array()}catch(v){if(v instanceof L0)return Cr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Bd(d,o,h)}catch(v){return Cr(v instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&fd(p.target)){const v=new gt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=jt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ic(e,i,this.Ye,this.je,a);return this.je=Ki(),this.Je=Zu(),this.He=Zu(),this.Ye=new oe(Ot),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new N_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ve(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ve(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Zu(){return new oe(gt.comparator)}function C_(){return new oe(gt.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},O2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j2={and:"AND",or:"OR"};class U2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gd(r,e){return r.useProto3Json||Sc(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function k2(r,e){return gc(r,e.toTimestamp())}function Ei(r){return Ft(!!r,49232),bt.fromTimestamp((function(i){const a=Ls(i);return new se(a.seconds,a.nanos)})(r))}function Pd(r,e){return pd(r,e).canonicalString()}function pd(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function gv(r){const e=ee.fromString(r);return Ft(bv(e),10190,{key:e.toString()}),e}function yd(r,e){return Pd(r.databaseId,e.path)}function $f(r,e){const i=gv(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(yv(i))}function pv(r,e){return Pd(r.databaseId,e)}function L2(r){const e=gv(r);return e.length===4?ee.emptyPath():yv(e)}function _d(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yv(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function D_(r,e,i){return{name:yd(r,e),fields:i.value.mapValue.fields}}function z2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:hv(_.code);return new lt(A,_.message||"")})(d);i=new dv(a,o,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=$f(r,a.document.name),h=Ei(a.document.updateTime),d=a.document.createTime?Ei(a.document.createTime):bt.min(),p=new on({mapValue:{fields:a.document.fields}}),v=Xe.newFoundDocument(o,h,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new ic(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=$f(r,a.document),h=a.readTime?Ei(a.readTime):bt.min(),d=Xe.newNoDocument(o,h),p=a.removedTargetIds||[];i=new ic([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=$f(r,a.document),h=a.removedTargetIds||[];i=new ic([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new N2(o,h),p=a.targetId;i=new fv(p,d)}}return i}function B2(r,e){let i;if(e instanceof fo)i={update:D_(r,e.key,e.value)};else if(e instanceof Ld)i={delete:yd(r,e.key)};else if(e instanceof Fs)i={update:D_(r,e.key,e.data),updateMask:X2(e.fieldMask)};else{if(!(e instanceof S2))return yt(16599,{Vt:e.type});i={verify:yd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const p=d.transform;if(p instanceof dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof mc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:k2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(r,e.precondition)),i}function P2(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?Ei(o.updateTime):Ei(h);return d.isEqual(bt.min())&&(d=Ei(h)),new T2(d,o.transformResults||[])})(i,e)))):[]}function q2(r,e){return{documents:[pv(r,e.path)]}}function H2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=pv(r,o);const h=(function(_){if(_.length!==0)return vv(Xn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(R){return{field:Sr(R.field),direction:Q2(R.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=gd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function F2(r){let e=L2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const R=_v(S);return R instanceof Xn&&K0(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((R=>(function(J){return new fc(wr(J.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(R)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let R;return R=typeof S=="object"?S.value:S,Sc(R)?null:R})(i.limit));let v=null;i.startAt&&(v=(function(S){const R=!!S.before,P=S.values||[];return new hc(P,R)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const R=!S.before,P=S.values||[];return new hc(P,R)})(i.endAt)),u2(e,o,d,h,p,"F",v,_)}function G2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function _v(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=wr(i.unaryFilter.field);return we.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=wr(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=wr(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wr(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(wr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xn.create(i.compositeFilter.filters.map((a=>_v(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function Q2(r){return M2[r]}function Y2(r){return O2[r]}function K2(r){return j2[r]}function Sr(r){return{fieldPath:r.canonicalString()}}function wr(r){return Fe.fromServerFormat(r.fieldPath)}function vv(r){return r instanceof we?(function(i){if(i.op==="=="){if(y_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NAN"}};if(p_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(y_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NAN"}};if(p_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(i.field),op:Y2(i.op),value:i.value}}})(r):r instanceof Xn?(function(i){const a=i.getFilters().map((o=>vv(o)));return a.length===1?a[0]:{compositeFilter:{op:K2(i.op),filters:a}}})(r):yt(54877,{filter:r})}function X2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function bv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i,a,o,h=bt.min(),d=bt.min(),p=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.yt=e}}function $2(r){const e=F2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?md(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Cn=new W2}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(ks.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class W2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ve(ee.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ve(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ev=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Ev,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mr(0)}static cr(){return new Mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",tA=1048576;function M_([r,e],[i,a]){const o=Ot(r,i);return o===0?Ot(e,a):o}class eA{constructor(e){this.Ir=e,this.buffer=new Ve(M_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();M_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(V_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){kr(i)?ot(V_,"Ignoring IndexedDB error during garbage collection: ",i):await Ur(i)}await this.Vr(3e5)}))}}class iA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(xc.ce);const a=new eA(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(I_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),Ar()<=zt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function sA(r,e){return new iA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.changes=new Da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&eo(a.mutation,o,_n.empty(),se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,jt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=jt()){const o=Aa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=Yl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Aa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,jt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let h=Ki();const d=to(),p=(function(){return to()})();return i.forEach(((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Fs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),eo(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,_n.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new rA(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=to();let o=new oe(((d,p)=>d-p)),h=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||_n.empty();A=p.applyToLocalView(_,A),a.set(v,A);const S=(o.get(p.batchId)||jt()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,S=iv();A.forEach((R=>{if(!h.has(R)){const P=uv(i.get(R),a.get(R));P!==null&&S.set(R,P),h=h.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):J0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):$.resolve(Aa());let p=so,v=h;return d.next((_=>$.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),h.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((R=>{v=v.insert(A,R)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,jt()))).next((A=>({batchId:p,changes:nv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((a=>{let o=Yl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,h).next((p=>$.forEach(p,(v=>{const _=(function(S,R){return new ho(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((S,R)=>{d=d.insert(S,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=Yl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&eo(A.mutation,_,_n.empty(),se.now()),Nc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:$2(o.bundledQuery),readTime:Ei(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.overlays=new oe(gt.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Aa();return $.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=Aa(),h=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=Aa(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Aa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return $.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new R2(i,a));let h=this.qr.get(i);h===void 0&&(h=jt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.Qr=new Ve(Ue.$r),this.Ur=new Ve(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ue(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new gt(new ee([])),a=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new ee([])),a=new Ue(i,e),o=new Ue(i,e+1);let h=jt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Ue.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new w2(h,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Id:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ve(Ot);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;gt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new gt(h),0);let p=new Ve(Ot);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ue(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.ri=e,this.docs=(function(){return new oe(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let a=Ki();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ki();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||PT(BT(A),a)<=0||(o.has(A.key)||Nc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,a,o){yt(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new dA(this)}getSize(e){return $.resolve(this.size)}}class dA extends aA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.persistence=e,this.si=new Da((i=>Od(i)),jd),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new qd,this.targetCount=0,this.ai=Mr.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Mr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i){this.ui={},this.overlays={},this.ci=new xc(0),this.li=!1,this.li=!0,this.hi=new cA,this.referenceDelegate=e(this),this.Pi=new mA(this),this.indexManager=new J2,this.remoteDocumentCache=(function(o){return new fA(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Z2(i),this.Ii=new oA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new uA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new hA(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ot("MemoryPersistence","Starting transaction:",e);const o=new gA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class gA extends HT{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Ri=new qd,this.Vi=null}static mi(e){return new Hd(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=gt.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class pc{constructor(e,i){this.persistence=e,this.pi=new Da((a=>QT(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=sA(this,i)}static mi(e,i){return new pc(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,h.removeEntry(d,bt.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=jt(),o=jt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Fd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mE()?8:FT(fE())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new pA;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ar()<=zt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",xr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ar()<=zt.DEBUG&&ot("QueryEngine","Query:",xr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ar()<=zt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",xr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):$.resolve())}ys(e,i){if(E_(i))return $.resolve(null);let a=bi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=md(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=jt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,md(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return E_(i)||o.isEqual(bt.min())?$.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?$.resolve(null):(Ar()<=zt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xr(i)),this.vs(e,d,i,zT(o,so)).next((p=>p)))}))}Ds(e,i){let a=new Ve(tv(e));return i.forEach(((o,h)=>{Nc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return Ar()<=zt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",xr(i)),this.ps.getDocumentsMatchingQuery(e,i,ks.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="LocalStore",_A=3e8;class vA{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Ot),this.xs=new Da((h=>Od(h)),jd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function bA(r,e,i,a){return new vA(r,e,i,a)}async function Av(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let v=jt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function EA(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const S=_.batch,R=S.keys();let P=$.resolve();return R.forEach((J=>{P=P.next((()=>A.getEntry(v,J))).next((W=>{const K=_.docVersions.get(J);Ft(K!==null,48541),W.version.compareTo(K)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=jt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function xv(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function TA(r,e){const i=At(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,S)=>{const R=o.get(S);if(!R)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,S))));let P=R.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Ge.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(A.resumeToken,a)),o=o.insert(S,P),(function(W,K,it){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=_A?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(R,P,A)&&p.push(i.Pi.updateTargetData(h,P))}));let v=Ki(),_=jt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(AA(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(bt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function AA(r,e,i){let a=jt(),o=jt();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Ki();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(bt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ot(Gd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function xA(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Id),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function SA(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Cs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function vd(r,e,i){const a=At(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!kr(d))throw d;ot(Gd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function O_(r,e,i){const a=At(r);let o=bt.min(),h=jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=At(v),R=S.xs.get(A);return R!==void 0?$.resolve(S.Ms.get(R)):S.Pi.getTargetData(_,A)})(a,d,bi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?h:jt()))).next((p=>(wA(a,h2(e),p),{documents:p,Qs:h})))))}function wA(r,e,i){let a=r.Os.get(e)||bt.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class j_{constructor(){this.activeTargetIds=y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RA{constructor(){this.Mo=new j_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new j_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="ConnectivityMonitor";class k_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(U_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(U_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function bd(){return $u===null?$u=(function(){return 268435456+Math.round(2147483648*Math.random())})():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",CA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===uc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=bd(),p=this.zo(e,i.toUriEncodedString());ot(Jf,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),A=Tc(_);return this.Jo(e,p,v,a,A).then((S=>(ot(Jf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Cr(Jf,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=CA[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class VA extends DA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=bd();return new Promise(((p,v)=>{const _=new R0;_.setWithCredentials(!0),_.listenOnce(N0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Wu.NO_ERROR:const S=_.getResponseJson();ot(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Wu.TIMEOUT:ot(Ye,`RPC '${e}' ${d} timed out`),v(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const R=_.getStatus();if(ot(Ye,`RPC '${e}' ${d} failed with status:`,R,"response text:",_.getResponseText()),R>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const J=P==null?void 0:P.error;if(J&&J.status&&J.message){const W=(function(it){const ft=it.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ft)>=0?ft:Z.UNKNOWN})(J.status);v(new lt(W,J.message))}else v(new lt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ot(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=bd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=I0(),p=D0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");ot(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let R=!1,P=!1;const J=new IA({Yo:K=>{P?ot(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(R||(ot(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),ot(Ye,`RPC '${e}' stream ${o} sending:`,K),S.send(K))},Zo:()=>S.close()}),W=(K,it,ft)=>{K.listen(it,(tt=>{try{ft(tt)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return W(S,Ql.EventType.OPEN,(()=>{P||(ot(Ye,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),W(S,Ql.EventType.CLOSE,(()=>{P||(P=!0,ot(Ye,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(S))})),W(S,Ql.EventType.ERROR,(K=>{P||(P=!0,Cr(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),J.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),W(S,Ql.EventType.MESSAGE,(K=>{var it;if(!P){const ft=K.data[0];Ft(!!ft,16349);const tt=ft,rt=(tt==null?void 0:tt.error)||((it=tt[0])==null?void 0:it.error);if(rt){ot(Ye,`RPC '${e}' stream ${o} received error:`,rt);const _t=rt.status;let st=(function(D){const V=Se[D];if(V!==void 0)return hv(V)})(_t),x=rt.message;st===void 0&&(st=Z.INTERNAL,x="Unknown error status: "+_t+" with message "+rt.message),P=!0,J.a_(new lt(st,x)),S.close()}else ot(Ye,`RPC '${e}' stream ${o} received:`,ft),J.u_(ft)}})),W(p,C0.STAT_EVENT,(K=>{K.stat===ld.PROXY?ot(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===ld.NOPROXY&&ot(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r){return new U2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class wv{constructor(e,i,a,o,h,d,p,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MA extends wv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=z2(this.serializer,e),a=(function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Ei(d.readTime):bt.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=_d(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=fd(v)?{documents:q2(h,v)}:{query:H2(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=mv(h,d.resumeToken);const _=gd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=gc(h,d.snapshotVersion.toTimestamp());const _=gd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=G2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=_d(this.serializer),i.removeTarget=e,this.q_(i)}}class OA extends wv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=P2(e.writeResults,e.commitTime),a=Ei(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=_d(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>B2(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{}class UA extends jA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,pd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,pd(i,a),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class LA{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Ia(this)&&(ot(Ra,"Restarting streams for network reachability change."),await(async function(v){const _=At(v);_.Ea.add(4),await go(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Mc(_)})(this))}))})),this.Ra=new kA(a,o)}}async function Mc(r){if(Ia(r))for(const e of r.da)await e(!0)}async function go(r){for(const e of r.da)await e(!1)}function Rv(r,e){const i=At(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Xd(i)?Kd(i):Lr(i).O_()&&Yd(i,e))}function Qd(r,e){const i=At(r),a=Lr(i);i.Ia.delete(e),a.O_()&&Nv(i,e),i.Ia.size===0&&(a.O_()?a.L_():Ia(i)&&i.Ra.set("Unknown"))}function Yd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Lr(r).Y_(e)}function Nv(r,e){r.Va.Ue(e),Lr(r).Z_(e)}function Kd(r){r.Va=new V2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lr(r).start(),r.Ra.ua()}function Xd(r){return Ia(r)&&!Lr(r).x_()&&r.Ia.size>0}function Ia(r){return At(r).Ea.size===0}function Cv(r){r.Va=void 0}async function zA(r){r.Ra.set("Online")}async function BA(r){r.Ia.forEach(((e,i)=>{Yd(r,e)}))}async function PA(r,e){Cv(r),Xd(r)?(r.Ra.ha(e),Kd(r)):r.Ra.set("Unknown")}async function qA(r,e,i){if(r.Ra.set("Online"),e instanceof dv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){ot(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yc(r,a)}else if(e instanceof ic?r.Va.Ze(e):e instanceof fv?r.Va.st(e):r.Va.tt(e),!i.isEqual(bt.min()))try{const a=await xv(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),Nv(h,v);const S=new Cs(A.target,v,_,A.sequenceNumber);Yd(h,S)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(Ra,"Failed to raise snapshot:",a),await yc(r,a)}}async function yc(r,e,i){if(!kr(e))throw e;r.Ea.add(1),await go(r),r.Ra.set("Offline"),i||(i=()=>xv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Ra,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Mc(r)}))}function Dv(r,e){return e().catch((i=>yc(r,i,e)))}async function Oc(r){const e=At(r),i=Ps(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Id;for(;HA(e);)try{const o=await xA(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,FA(e,o)}catch(o){await yc(e,o)}Iv(e)&&Vv(e)}function HA(r){return Ia(r)&&r.Ta.length<10}function FA(r,e){r.Ta.push(e);const i=Ps(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Iv(r){return Ia(r)&&!Ps(r).x_()&&r.Ta.length>0}function Vv(r){Ps(r).start()}async function GA(r){Ps(r).ra()}async function QA(r){const e=Ps(r);for(const i of r.Ta)e.ea(i.mutations)}async function YA(r,e,i){const a=r.Ta.shift(),o=zd.from(a,e,i);await Dv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Oc(r)}async function KA(r,e){e&&Ps(r).X_&&await(async function(a,o){if((function(d){return C2(d)&&d!==Z.ABORTED})(o.code)){const h=a.Ta.shift();Ps(a).B_(),await Dv(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Oc(a)}})(r,e),Iv(r)&&Vv(r)}async function z_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ot(Ra,"RemoteStore received new credentials");const a=Ia(i);i.Ea.add(3),await go(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mc(i)}async function XA(r,e){const i=At(r);e?(i.Ea.delete(2),await Mc(i)):e||(i.Ea.add(2),await go(i),i.Ra.set("Unknown"))}function Lr(r){return r.ma||(r.ma=(function(i,a,o){const h=At(i);return h.sa(),new MA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:zA.bind(null,r),t_:BA.bind(null,r),r_:PA.bind(null,r),H_:qA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Xd(r)?Kd(r):r.Ra.set("Unknown")):(await r.ma.stop(),Cv(r))}))),r.ma}function Ps(r){return r.fa||(r.fa=(function(i,a,o){const h=At(i);return h.sa(),new OA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GA.bind(null,r),r_:KA.bind(null,r),ta:QA.bind(null,r),na:YA.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Oc(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,p=new Zd(e,i,d,o,h);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $d(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),kr(r))return new lt(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{static emptySet(e){return new Rr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=Yl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Rr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.ga=new oe(gt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Or{constructor(e,i,a,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Or(e,i,Rr.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $A{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),h=o.queries;o.queries=P_(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function P_(){return new Da((r=>W0(r)),Rc)}async function Mv(r,e){const i=At(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new ZA,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=$d(d,`Initialization of query '${xr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Jd(i)}async function Ov(r,e){const i=At(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JA(r,e){const i=At(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Jd(i)}function WA(r,e,i){const a=At(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Jd(r){r.Ca.forEach((e=>{e.next()}))}var Ed,q_;(q_=Ed||(Ed={})).Ma="default",q_.Cache="cache";class jv{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Or(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Or.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ed.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.key=e}}class kv{constructor(e){this.key=e}}class tx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=tv(e),this.tu=new Rr(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new B_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const R=o.get(A),P=Nc(this.query,S)?S:null,J=!!R&&this.mutatedKeys.has(R.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let K=!1;R&&P?R.data.isEqual(P.data)?J!==W&&(a.track({type:3,doc:P}),K=!0):this.su(R,P)||(a.track({type:2,doc:P}),K=!0,(v&&this.eu(P,v)>0||_&&this.eu(P,_)<0)&&(p=!0)):!R&&P?(a.track({type:0,doc:P}),K=!0):R&&!P&&(a.track({type:1,doc:R}),K=!0,(v||_)&&(p=!0)),K&&(P?(d=d.add(P),h=W?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(P,J){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:K})}};return W(P)-W(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Or(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new kv(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Uv(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=jt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Or.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wd="SyncEngine";class ex{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class nx{constructor(e){this.key=e,this.hu=!1}}class ix{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Da((p=>W0(p)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(gt.comparator),this.Au=new Map,this.Ru=new qd,this.Vu={},this.mu=new Map,this.fu=Mr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sx(r,e,i=!0){const a=Hv(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await Lv(a,e,i,!0),o}async function ax(r,e){const i=Hv(r);await Lv(i,e,!0,!1)}async function Lv(r,e,i,a){const o=await SA(r.localStore,bi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await rx(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Rv(r.remoteStore,o),p}async function rx(r,e,i,a,o){r.pu=(S,R,P)=>(async function(W,K,it,ft){let tt=K.view.ru(it);tt.Cs&&(tt=await O_(W.localStore,K.query,!1).then((({documents:x})=>K.view.ru(x,tt))));const rt=ft&&ft.targetChanges.get(K.targetId),_t=ft&&ft.targetMismatches.get(K.targetId)!=null,st=K.view.applyChanges(tt,W.isPrimaryClient,rt,_t);return F_(W,K.targetId,st.au),st.snapshot})(r,S,R,P);const h=await O_(r.localStore,e,!0),d=new tx(e,h.Qs),p=d.ru(h.documents),v=mo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,v);F_(r,i,_.au);const A=new ex(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function lx(r,e,i){const a=At(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!Rc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Qd(a.remoteStore,o.targetId),Td(a,o.targetId)})).catch(Ur)):(Td(a,o.targetId),await vd(a.localStore,o.targetId,!0))}async function ox(r,e){const i=At(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qd(i.remoteStore,a.targetId))}async function ux(r,e,i){const a=px(r);try{const o=await(function(d,p){const v=At(d),_=se.now(),A=p.reduce(((P,J)=>P.add(J.key)),jt());let S,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let J=Ki(),W=jt();return v.Ns.getEntries(P,A).next((K=>{J=K,J.forEach(((it,ft)=>{ft.isValidDocument()||(W=W.add(it))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,J))).next((K=>{S=K;const it=[];for(const ft of p){const tt=x2(ft,S.get(ft.key).overlayedDocument);tt!=null&&it.push(new Fs(ft.key,tt,G0(tt.value.mapValue),Yn.exists(!0)))}return v.mutationQueue.addMutationBatch(P,_,it,p)})).next((K=>{R=K;const it=K.applyToLocalDocumentSet(S,W);return v.documentOverlayCache.saveOverlays(P,K.batchId,it)}))})).then((()=>({batchId:R.batchId,changes:nv(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Ot)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await po(a,o.changes),await Oc(a.remoteStore)}catch(o){const h=$d(o,"Failed to persist write");i.reject(h)}}async function zv(r,e){const i=At(r);try{const a=await TA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await po(i,a,e)}catch(a){await Ur(a)}}function H_(r,e,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,S)=>{for(const R of S.Sa)R.va(p)&&(_=!0)})),_&&Jd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cx(r,e,i){const a=At(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new oe(gt.comparator);d=d.insert(h,Xe.newNoDocument(h,bt.min()));const p=jt().add(h),v=new Ic(bt.min(),new Map,new oe(Ot),d,p);await zv(a,v),a.du=a.du.remove(h),a.Au.delete(e),tm(a)}else await vd(a.localStore,e,!1).then((()=>Td(a,e,i))).catch(Ur)}async function hx(r,e){const i=At(r),a=e.batch.batchId;try{const o=await EA(i.localStore,e);Pv(i,a,null),Bv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await po(i,o)}catch(o){await Ur(o)}}async function fx(r,e,i){const a=At(r);try{const o=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((S=>(Ft(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);Pv(a,e,i),Bv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await po(a,o)}catch(o){await Ur(o)}}function Bv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Pv(r,e,i){const a=At(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Td(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||qv(r,a)}))}function qv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Qd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),tm(r))}function F_(r,e,i){for(const a of i)a instanceof Uv?(r.Ru.addReference(a.key,e),dx(r,a)):a instanceof kv?(ot(Wd,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||qv(r,a.key)):yt(19791,{wu:a})}function dx(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(Wd,"New document in limbo: "+i),r.Eu.add(a),tm(r))}function tm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new gt(ee.fromString(e)),a=r.fu.next();r.Au.set(a,new nx(i)),r.du=r.du.insert(i,a),Rv(r.remoteStore,new Cs(bi(Ud(i.path)),a,"TargetPurposeLimboResolution",xc.ce))}}async function po(r,e,i){const a=At(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,e,i).then((_=>{var A;if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Fd.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const A=At(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(R=>$.forEach(R.Es,(P=>A.persistence.referenceDelegate.addReference(S,R.targetId,P))).next((()=>$.forEach(R.ds,(P=>A.persistence.referenceDelegate.removeReference(S,R.targetId,P)))))))))}catch(S){if(!kr(S))throw S;ot(Gd,"Failed to update sequence numbers: "+S)}for(const S of _){const R=S.targetId;if(!S.fromCache){const P=A.Ms.get(R),J=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(R,W)}}})(a.localStore,h))}async function mx(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){ot(Wd,"User change. New user:",e.toKey());const a=await Av(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new lt(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await po(i,a.Ls)}}function gx(r,e){const i=At(r),a=i.Au.get(e);if(a&&a.hu)return jt().add(a.key);{let o=jt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Hv(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cx.bind(null,e),e.Pu.H_=JA.bind(null,e.eventManager),e.Pu.yu=WA.bind(null,e.eventManager),e}function px(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fx.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bA(this.persistence,new yA,e.initialUser,this.serializer)}Cu(e){return new Tv(Hd.mi,this.serializer)}Du(e){return new RA}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class yx extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof pc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new nA(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Tv((a=>pc.mi(a,i)),this.serializer)}}class Ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>H_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mx.bind(null,this.syncEngine),await XA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $A})()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),a=(function(h){return new VA(h)})(e.databaseInfo);return(function(h,d,p,v){return new UA(h,d,p,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,p){return new LA(a,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>H_(this.syncEngine,i,0)),(function(){return k_.v()?new k_:new NA})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,A){const S=new ix(o,h,d,p,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=At(o);ot(Ra,"RemoteStore shutting down."),h.Ea.add(5),await go(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Ad.provider={build:()=>new Ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class _x{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ot(qs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(qs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=$d(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function td(r,e){r.asyncQueue.verifyOperationInProgress(),ot(qs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await Av(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function G_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await vx(r);ot(qs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>z_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>z_(e.remoteStore,o))),r._onlineComponents=e}async function vx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(qs,"Using user provided OfflineComponentProvider");try{await td(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Cr("Error using user provided cache. Falling back to memory cache: "+i),await td(r,new _c)}}else ot(qs,"Using default OfflineComponentProvider"),await td(r,new yx(void 0));return r._offlineComponents}async function Gv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(qs,"Using user provided OnlineComponentProvider"),await G_(r,r._uninitializedComponentsProvider._online)):(ot(qs,"Using default OnlineComponentProvider"),await G_(r,new Ad))),r._onlineComponents}function bx(r){return Gv(r).then((e=>e.syncEngine))}async function xd(r){const e=await Gv(r),i=e.eventManager;return i.onListen=sx.bind(null,e.syncEngine),i.onUnlisten=lx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ax.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ox.bind(null,e.syncEngine),i}function Ex(r,e,i={}){const a=new Os;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const A=new Fv({next:R=>{A.Nu(),d.enqueueAndForget((()=>Ov(h,S))),R.fromCache&&v.source==="server"?_.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),S=new jv(p,A,{includeMetadataChanges:!0,qa:!0});return Mv(h,S)})(await xd(r),r.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firestore.googleapis.com",Y_=!0;class K_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yv,this.ssl=Y_}else this.host=e.host,this.ssl=e.ssl??Y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ev;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tA)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qv(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new NT;switch(a.type){case"firstParty":return new VT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Q_.get(i);a&&(ot("ComponentProvider","Removing Datastore"),Q_.delete(i),a.terminate())})(this),Promise.resolve()}}function Tx(r,e,i,a={}){var _;r=vi(r,jc);const o=Tc(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(f0(`https://${p}`),m0("Firestore",!0)),h.host!==Yv&&h.host!==p&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:a};if(!rc(v,d)&&(r._setSettings(v),a.mockUserToken)){let A,S;if(typeof a.mockUserToken=="string")A=a.mockUserToken,S=Ke.MOCK_USER;else{A=d0(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(R)}r._authCredentials=new CT(new M0(A,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class Ne{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ne(this.firestore,e,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(co(i,Ne._jsonSchema))return new Ne(e,a||null,new gt(ee.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Re("string",Ne._jsonSchemaVersion),referencePath:Re("string")};class js extends Va{constructor(e,i,a){super(e,i,Ud(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new gt(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function zr(r,e,...i){if(r=Kn(r),O0("collection","path",e),r instanceof jc){const a=ee.fromString(e,...i);return l_(a),new js(r,null,a)}{if(!(r instanceof Ne||r instanceof js))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(e,...i));return l_(a),new js(r.firestore,null,a)}}function Uc(r,e,...i){if(r=Kn(r),arguments.length===1&&(e=Dd.newId()),O0("doc","path",e),r instanceof jc){const a=ee.fromString(e,...i);return r_(a),new Ne(r,null,new gt(a))}{if(!(r instanceof Ne||r instanceof js))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(e,...i));return r_(a),new Ne(r.firestore,r instanceof js?r.converter:null,new gt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class Z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sv(this,"async_queue_retry"),this._c=()=>{const a=Wf();a&&ot(X_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kr(e))throw e;ot(X_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",$_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Zd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:$_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function $_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Na extends jc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,await e}}}function Ax(r,e){const i=typeof r=="object"?r:A0(),a=typeof r=="string"?r:uc,o=v0(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=c0("firestore");h&&Tx(o,...h)}return o}function em(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xx(r),r._firestoreClient}function xx(r){var a,o,h;const e=r._freezeSettings(),i=(function(p,v,_,A){return new XT(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Qv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _x(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ge.fromBase64String(e))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(co(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Re("string",Vn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(co(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Re("string",Ti._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(co(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ai(e.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Re("string",Ai._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=/^__.*__$/;class wx{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,i,this.fieldTransforms):new fo(e,this.data,i,this.fieldTransforms)}}class Kv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Fs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Xv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class im{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new im({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Xv(this.Ac)&&Sx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Rx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Vc(e)}Cc(e,i,a,o=!1){return new im({Ac:e,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(r){const e=r._freezeSettings(),i=Vc(r._databaseId);return new Rx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Nx(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);am("Data must be an object, but it was:",d,a);const p=Zv(a,d);let v,_;if(h.merge)v=new _n(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const R=Sd(e,S,i);if(!d.contains(R))throw new lt(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Jv(A,R)||A.push(R)}v=new _n(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new wx(new on(p),v,_)}class Lc extends nm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lc}}function Cx(r,e,i,a){const o=r.Cc(1,e,i);am("Data must be an object, but it was:",o,a);const h=[],d=on.empty();Hs(a,((v,_)=>{const A=rm(e,v,i);_=Kn(_);const S=o.yc(A);if(_ instanceof Lc)h.push(A);else{const R=yo(_,S);R!=null&&(h.push(A),d.set(A,R))}}));const p=new _n(h);return new Kv(d,p,o.fieldTransforms)}function Dx(r,e,i,a,o,h){const d=r.Cc(1,e,i),p=[Sd(e,a,i)],v=[o];if(h.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<h.length;R+=2)p.push(Sd(e,h[R])),v.push(h[R+1]);const _=[],A=on.empty();for(let R=p.length-1;R>=0;--R)if(!Jv(_,p[R])){const P=p[R];let J=v[R];J=Kn(J);const W=d.yc(P);if(J instanceof Lc)_.push(P);else{const K=yo(J,W);K!=null&&(_.push(P),A.set(P,K))}}const S=new _n(_);return new Kv(A,S,d.fieldTransforms)}function Ix(r,e,i,a=!1){return yo(i,r.Cc(a?4:3,e))}function yo(r,e){if($v(r=Kn(r)))return am("Unsupported field value:",e,r),Zv(r,e);if(r instanceof nm)return(function(a,o){if(!Xv(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const p of a){let v=yo(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=Kn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=se.fromDate(a);return{timestampValue:gc(o.serializer,h)}}if(a instanceof se){const h=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gc(o.serializer,h)}}if(a instanceof Ti)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:mv(o.serializer,a._byteString)};if(a instanceof Ne){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Pd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ai)return(function(d,p){return{mapValue:{fields:{[H0]:{stringValue:F0},[cc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return kd(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Ac(a)}`)})(r,e)}function Zv(r,e){const i={};return k0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(r,((a,o)=>{const h=yo(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function $v(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ti||r instanceof Vn||r instanceof Ne||r instanceof nm||r instanceof Ai)}function am(r,e,i){if(!$v(i)||!j0(i)){const a=Ac(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Sd(r,e,i){if((e=Kn(e))instanceof kc)return e._internalPath;if(typeof e=="string")return rm(r,e);throw vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Vx=new RegExp("[~\\*/\\[\\]]");function rm(r,e,i){if(e.search(Vx)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new kc(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new lt(Z.INVALID_ARGUMENT,p+r+v)}function Jv(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Mx extends Wv{data(){return super.data()}}function lm(r,e){return typeof e=="string"?rm(r,e):e instanceof kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class om{}class Ox extends om{}function e1(r,e,...i){let a=[];e instanceof om&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof um)).length,p=h.filter((v=>v instanceof zc)).length;if(d>1||d>0&&p>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class zc extends Ox{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new zc(e,i,a)}_apply(e){const i=this._parse(e);return i1(e._query,i),new Va(e.firestore,e.converter,dd(e._query,i))}_parse(e){const i=sm(e.firestore);return(function(h,d,p,v,_,A,S){let R;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){t0(S,A);const J=[];for(const W of S)J.push(W_(v,h,W));R={arrayValue:{values:J}}}else R=W_(v,h,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||t0(S,A),R=Ix(p,d,S,A==="in"||A==="not-in");return we.create(_,A,R)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function n1(r,e,i){const a=e,o=lm("where",r);return zc._create(o,a,i)}class um extends om{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new um(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Xn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)i1(d,v),d=dd(d,v)})(e._query,i),new Va(e.firestore,e.converter,dd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W_(r,e,i){if(typeof(i=Kn(i))=="string"){if(i==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J0(e)&&i.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(ee.fromString(i));if(!gt.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return g_(r,new gt(a))}if(i instanceof Ne)return g_(r,i._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ac(i)}.`)}function t0(r,e){if(!Array.isArray(r)||r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i1(r,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class jx{convertValue(e,i="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Hs(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){var a,o,h;const i=(h=(o=(a=e.fields)==null?void 0:a[cc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>ge(d.doubleValue)));return new Ai(i)}convertGeoPoint(e){return new Ti(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=Ls(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ee.fromString(e);Ft(bv(a),9688,{name:e});const o=new ro(a.get(1),a.get(3)),h=new gt(a.popFirst(5));return o.isEqual(i)||Yi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends Wv{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(lm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=xa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Re("string",xa._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class sc extends xa{data(e={}){return super.data(e)}}class Sa{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new sc(this._firestore,this._userDataWriter,a.key,a,new Xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Xl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Xl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:kx(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Re("string",Sa._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class cm extends jx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function Lx(r){r=vi(r,Va);const e=vi(r.firestore,Na),i=em(e),a=new cm(e);return t1(r._query),Ex(i,r._query).then((o=>new Sa(e,a,r,o)))}function zx(r,e,i,...a){r=vi(r,Ne);const o=vi(r.firestore,Na),h=sm(o);let d;return d=typeof(e=Kn(e))=="string"||e instanceof kc?Dx(h,"updateDoc",r._key,e,i,a):Cx(h,"updateDoc",r._key,e),dm(o,[d.toMutation(r._key,Yn.exists(!0))])}function Bx(r){return dm(vi(r.firestore,Na),[new Ld(r._key,Yn.none())])}function hm(r,e){const i=vi(r.firestore,Na),a=Uc(r),o=Ux(r.converter,e);return dm(i,[Nx(sm(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Yn.exists(!1))]).then((()=>a))}function fm(r,...e){var v,_,A;r=Kn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||J_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(J_(e[a])){const S=e[a];e[a]=(v=S.next)==null?void 0:v.bind(S),e[a+1]=(_=S.error)==null?void 0:_.bind(S),e[a+2]=(A=S.complete)==null?void 0:A.bind(S)}let h,d,p;if(r instanceof Ne)d=vi(r.firestore,Na),p=Ud(r._key.path),h={next:S=>{e[a]&&e[a](Px(d,r,S))},error:e[a+1],complete:e[a+2]};else{const S=vi(r,Va);d=vi(S.firestore,Na),p=S._query;const R=new cm(d);h={next:P=>{e[a]&&e[a](new Sa(d,R,S,P))},error:e[a+1],complete:e[a+2]},t1(r._query)}return(function(R,P,J,W){const K=new Fv(W),it=new jv(P,K,J);return R.asyncQueue.enqueueAndForget((async()=>Mv(await xd(R),it))),()=>{K.Nu(),R.asyncQueue.enqueueAndForget((async()=>Ov(await xd(R),it)))}})(em(d),p,o,h)}function dm(r,e){return(function(a,o){const h=new Os;return a.asyncQueue.enqueueAndForget((async()=>ux(await bx(a),o,h))),h.promise})(em(r),e)}function Px(r,e,i){const a=i.docs.get(e._key),o=new cm(r);return new xa(r,o,e._key,a,new Xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){jr=o})(E0),no(new Nr("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Na(new DT(a.getProvider("auth-internal")),new MT(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Vs(n_,i_,e),Vs(n_,i_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebasestorage.googleapis.com",qx="storageBucket",Hx=120*1e3,Fx=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Ca{constructor(e,i,a=0){super(ed(e),`Firebase Storage: ${i} (${ed(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ed(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function ed(r){return"storage/"+r}function Gx(){const r="An unknown error occurred, please check the error payload for server response.";return new wi(Si.UNKNOWN,r)}function Qx(){return new wi(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Yx(){return new wi(Si.CANCELED,"User canceled the upload/download.")}function Kx(r){return new wi(Si.INVALID_URL,"Invalid URL '"+r+"'.")}function Xx(r){return new wi(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function e0(r){return new wi(Si.INVALID_ARGUMENT,r)}function a1(){return new wi(Si.APP_DELETED,"The Firebase app was deleted.")}function Zx(r){return new wi(Si.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let a;try{a=Qn.makeFromUrl(e,i)}catch{return new Qn(e,"")}if(a.path==="")return a;throw Xx(e)}static makeFromUrl(e,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function h(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),v={bucket:1,path:3};function _(rt){rt.path_=decodeURIComponent(rt.path)}const A="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",P=new RegExp(`^https?://${S}/${A}/b/${o}/o${R}`,"i"),J={bucket:1,path:3},W=i===s1?"(?:storage.googleapis.com|storage.cloud.google.com)":i,K="([^?#]*)",it=new RegExp(`^https?://${W}/${o}/${K}`,"i"),tt=[{regex:p,indices:v,postModify:h},{regex:P,indices:J,postModify:_},{regex:it,indices:{bucket:1,path:2},postModify:_}];for(let rt=0;rt<tt.length;rt++){const _t=tt[rt],st=_t.regex.exec(e);if(st){const x=st[_t.indices.bucket];let w=st[_t.indices.path];w||(w=""),a=new Qn(x,w),_t.postModify(a);break}}if(a==null)throw Kx(e);return a}}class $x{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(r,e,i){let a=1,o=null,h=null,d=!1,p=0;function v(){return p===2}let _=!1;function A(...K){_||(_=!0,e.apply(null,K))}function S(K){o=setTimeout(()=>{o=null,r(P,v())},K)}function R(){h&&clearTimeout(h)}function P(K,...it){if(_){R();return}if(K){R(),A.call(null,K,...it);return}if(v()||d){R(),A.call(null,K,...it);return}a<64&&(a*=2);let tt;p===1?(p=2,tt=0):tt=(a+Math.random())*1e3,S(tt)}let J=!1;function W(K){J||(J=!0,R(),!_&&(o!==null?(K||(p=2),clearTimeout(o),S(0)):K||(p=1)))}return S(0),h=setTimeout(()=>{d=!0,W(!0)},i),W}function Wx(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r){return r!==void 0}function n0(r,e,i,a){if(a<e)throw e0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>i)throw e0(`Invalid value for '${r}'. Expected ${i} or less.`)}function eS(r){const e=encodeURIComponent;let i="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var bc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(bc||(bc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(r,e){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,h=e.indexOf(r)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i,a,o,h,d,p,v,_,A,S,R=!0,P=!1){this.url_=e,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=v,this.timeout_=_,this.progressCallback_=A,this.connectionFactory_=S,this.retry=R,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((J,W)=>{this.resolve_=J,this.reject_=W,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Ju(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=p=>{const v=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,_)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const p=h.getErrorCode()===bc.NO_ERROR,v=h.getStatus();if(!p||nS(v,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===bc.ABORT;a(!1,new Ju(!1,null,A));return}const _=this.successCodes_.indexOf(v)!==-1;a(!0,new Ju(_,h))})},i=(a,o)=>{const h=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(p,p.getResponse());tS(v)?h(v):h()}catch(v){d(v)}else if(p!==null){const v=Gx();v.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,v)):d(v)}else if(o.canceled){const v=this.appDelete_?a1():Yx();d(v)}else{const v=Qx();d(v)}};this.canceled_?i(!1,new Ju(!1,null,!0)):this.backoffId_=Jx(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Wx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ju{constructor(e,i,a){this.wasSuccessCode=e,this.connection=i,this.canceled=!!a}}function sS(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function aS(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rS(r,e){e&&(r["X-Firebase-GMPID"]=e)}function lS(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function oS(r,e,i,a,o,h,d=!0,p=!1){const v=eS(r.urlParams),_=r.url+v,A=Object.assign({},r.headers);return rS(A,e),sS(A,i),aS(A,h),lS(A,a),new iS(_,r.method,A,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function cS(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i){this._service=e,i instanceof Qn?this._location=i:this._location=Qn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Ec(e,i)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cS(this._location.path)}get storage(){return this._service}get parent(){const e=uS(this._location.path);if(e===null)return null;const i=new Qn(this._location.bucket,e);return new Ec(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw Zx(e)}}function i0(r,e){const i=e==null?void 0:e[qx];return i==null?null:Qn.makeFromBucketSpec(i,r)}function hS(r,e,i,a={}){r.host=`${e}:${i}`;const o=Tc(e);o&&(f0(`https://${r.host}/b`),m0("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:h}=a;h&&(r._overrideAuthToken=typeof h=="string"?h:d0(h,r.app.options.projectId))}class fS{constructor(e,i,a,o,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=s1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Hx,this._maxUploadRetryTime=Fx,this._requests=new Set,o!=null?this._bucket=Qn.makeFromBucketSpec(o,this._host):this._bucket=i0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=i0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){n0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){n0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(b0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ec(this,e)}_makeRequest(e,i,a,o,h=!0){if(this._deleted)return new $x(a1());{const d=oS(e,this._appId,a,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,a,o).getPromise()}}const s0="@firebase/storage",a0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="storage";function dS(r=A0(),e){r=Kn(r);const a=v0(r,r1).getImmediate({identifier:e}),o=c0("storage");return o&&mS(a,...o),a}function mS(r,e,i,a={}){hS(r,e,i,a)}function gS(r,{instanceIdentifier:e}){const i=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new fS(i,a,o,e,E0)}function pS(){no(new Nr(r1,gS,"PUBLIC").setMultipleInstances(!0)),Vs(s0,a0,""),Vs(s0,a0,"esm2020")}pS();var yS="firebase",_S="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(yS,_S,"app");const Zl={apiKey:"AIzaSyDMP1qs_egJbyS2rWiZihynlbA_HBbiMi0",authDomain:"manas-nidar-trip.firebaseapp.com",projectId:"manas-nidar-trip",storageBucket:"manas-nidar-trip.firebasestorage.app",messagingSenderId:"268881524512",appId:"1:268881524512:web:f66e24a451fb51b537c945",measurementId:"G-BVBR6CN7JG"},vS=()=>Zl.apiKey&&!Zl.apiKey.includes("YOUR_")&&Zl.projectId&&!Zl.projectId.includes("YOUR_"),l1=T0(Zl),Xi=Ax(l1);dS(l1);const o1="trips",u1="expenses",Bc="settlements",bS=async(r,e,i)=>{try{console.log(" Creating trip with:",{name:r,participants:e,hasAvatars:!!i});const a={name:r,participants:e,memberAvatars:i||{},createdAt:Date.now()};console.log(" Sending to Firestore:",a);const o=await hm(zr(Xi,o1),a);return console.log(" Trip created with ID:",o.id),o.id}catch(a){throw console.error(" Create trip error details:",{code:a.code,message:a.message,stack:a.stack}),a}},ES=(r,e)=>fm(Uc(Xi,o1,r),i=>{i.exists()?e({id:i.id,...i.data()}):e(null)},i=>{console.error("Firestore Subscribe Error:",i),e(null)}),TS=(r,e)=>{const i=e1(zr(Xi,u1),n1("tripId","==",r));return fm(i,a=>{const o=a.docs.map(h=>({id:h.id,...h.data()}));o.sort((h,d)=>d.createdAt-h.createdAt),e(o)},a=>{console.error("Firestore Expenses Subscribe Error:",a),e([])})},AS=async(r,e)=>{console.log(" Creating expense:",{tripId:r,...e});const i=await hm(zr(Xi,u1),{...e,tripId:r,createdAt:Date.now()});return console.log(" Expense created with ID:",i.id),i},r0=async(r,e,i,a,o)=>(await hm(zr(Xi,Bc),{tripId:r,from:e,to:i,amount:a,isPaid:!1,proofImageUrl:null,createdAt:Date.now()})).id,xS=async(r,e)=>{const i=Uc(Xi,Bc,r),a={isPaid:e,paidAt:e?Date.now():null};await zx(i,a)},SS=async r=>{const e=Uc(Xi,Bc,r);await Bx(e)},wS=(r,e)=>{const i=e1(zr(Xi,Bc),n1("tripId","==",r));return fm(i,a=>{const o=a.docs.map(h=>({id:h.id,...h.data()}));e(o)},a=>{console.error("Firestore Settlements Subscribe Error:",a),e([])})},Gn="/manas-split/",Us=[{id:"manas",image:`${Gn}pics/manas.png`},{id:"avatar1",image:`${Gn}pics/Screenshot 2026-01-05 184222.png`},{id:"avatar2",image:`${Gn}pics/Screenshot 2026-01-05 184242.png`},{id:"avatar3",image:`${Gn}pics/Screenshot 2026-01-05 184251.png`},{id:"avatar4",image:`${Gn}pics/Screenshot 2026-01-05 184317.png`},{id:"avatar5",image:`${Gn}pics/Screenshot 2026-01-05 184328.png`},{id:"avatar6",image:`${Gn}pics/Screenshot 2026-01-05 184347.png`},{id:"avatar7",image:`${Gn}pics/Screenshot 2026-01-05 184406.png`},{id:"avatar8",image:`${Gn}pics/Screenshot 2026-01-05 184426.png`},{id:"avatar9",image:`${Gn}pics/Screenshot 2026-01-05 184453.png`},{id:"avatar10",image:`${Gn}pics/Screenshot 2026-01-05 184505.png`}],RS=({onJoin:r})=>{const[e,i]=Tt.useState(""),[a,o]=Tt.useState(!1),h=async d=>{if(d.preventDefault(),!!e.trim()){o(!0);try{localStorage.setItem("trip_user_name",e.trim()),r(e.trim())}catch(p){console.error("Error joining:",p),alert("Error saving your name. Please try again.")}finally{o(!1)}}};return b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center p-6 z-50",children:b.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-md p-12 text-center border-4 border-[#f49221]",children:[b.jsx("div",{className:"w-24 h-24 bg-[#f49221] rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-[#f49221]/30 rotate-3",children:b.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),b.jsx("h1",{className:"text-4xl font-bold text-black mb-2 font-pt tracking-tighter uppercase",children:"Manas Split"}),b.jsx("p",{className:"text-gray-500 mb-10 font-medium",children:"Smart expense tracking for your crew."}),b.jsxs("form",{onSubmit:h,className:"space-y-8 text-left",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Identify Yourself"}),b.jsx("input",{type:"text",required:!0,value:e,onChange:d=>i(d.target.value),placeholder:"Your Full Name",className:"w-full px-6 py-5 rounded-2xl border-2 border-gray-100 focus:outline-none focus:border-[#f49221] transition-all text-lg font-bold text-black"})]}),b.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[#f49221] hover:bg-[#d97e1a] text-white font-bold py-5 rounded-2xl transition-all shadow-xl shadow-[#f49221]/30 disabled:opacity-50 uppercase tracking-widest",children:a?"Authenticating...":"Enter Dashboard"})]})]})})},NS=({onTripSelected:r})=>{const[e,i]=Tt.useState("selection"),[a,o]=Tt.useState(""),[h,d]=Tt.useState(["",""]),[p,v]=Tt.useState({}),[_,A]=Tt.useState(null),[S,R]=Tt.useState(""),[P,J]=Tt.useState(!1),[W,K]=Tt.useState(""),it=async()=>{try{console.log("Testing Firebase connection...");const tt=zr(Xi,"trips"),rt=await Lx(tt);return console.log(" Firebase connected successfully. Found",rt.size,"trips"),{success:!0,error:null}}catch(tt){console.error(" Firebase connection error:",tt);let rt="Unknown error";return tt.code==="permission-denied"?rt=" PERMISSION DENIED - Firebase security rules are NOT allowing access. Your rules may not have been saved properly.":tt.code==="unavailable"?rt="Firebase service unavailable. Check your internet connection.":tt.message&&(rt=tt.message),console.error("Detailed error:",tt),{success:!1,error:rt}}},ft=async tt=>{tt.preventDefault();const rt=h.filter(x=>x.trim()!=="");if(!a||rt.length<2)return alert("Trip name and 2+ people needed.");K(""),console.log("Creating trip with:",{tripName:a,participants:rt});const _t=await it();if(!_t.success){K(`Firebase Error: ${_t.error}`);return}J(!0);const st=setTimeout(()=>{J(!1),K("Connection timeout after 8 seconds. Firebase security rules may be blocking writes.")},8e3);try{console.log(" Starting trip creation...");const x=await bS(a,rt,p);clearTimeout(st),console.log(" Trip created successfully with ID:",x),r(x)}catch(x){clearTimeout(st),J(!1),console.error(" Create trip error:",x);let w="Error creating trip: ";x.code==="permission-denied"?w+=" Permission denied. Firebase rules are STILL not set correctly. Please check Firebase Console Firestore Rules.":x.message?w+=x.message:w+="Unknown error. Check browser console (F12) for details.",K(w)}};return e==="create"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"max-w-md mx-auto p-10 bg-white rounded-[2.5rem] shadow-2xl mt-12 border-4 border-black",children:[b.jsx("h2",{className:"text-3xl font-bold mb-8 text-black font-pt uppercase tracking-tight",children:"New Trip"}),W&&b.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-300 rounded-xl text-red-800 text-sm",children:[b.jsx("p",{className:"font-bold mb-2",children:" Error"}),b.jsx("p",{className:"text-xs leading-relaxed",children:W}),W.includes("security rules")&&b.jsxs("p",{className:"mt-3 text-xs",children:[b.jsx("strong",{children:"Fix:"})," Go to Firebase Console  Firestore Database  Rules and set:",b.jsx("br",{}),b.jsx("code",{className:"block mt-1 bg-red-100 p-2 rounded",children:"allow read, write: if true;"})]})]}),b.jsxs("form",{onSubmit:ft,className:"space-y-6",children:[b.jsx("input",{required:!0,className:"w-full px-6 py-4 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none font-bold text-black placeholder-gray-400",placeholder:"Destination Name",value:a,onChange:tt=>o(tt.target.value)}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Participants"}),h.map((tt,rt)=>{var _t;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex gap-2 items-center",children:[tt.trim()&&p[tt]&&b.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full overflow-hidden border-2 border-[#f49221]",children:b.jsx("img",{src:((_t=Us.find(st=>st.id===p[tt]))==null?void 0:_t.image)||"",alt:tt,className:"w-full h-full object-cover"})}),b.jsx("input",{required:!0,className:"flex-1 px-6 py-4 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none text-black placeholder-gray-400 font-bold",placeholder:`Friend ${rt+1}`,value:tt,onChange:st=>{const x=[...h];x[rt]=st.target.value,d(x)}})]}),tt.trim()&&b.jsx("button",{type:"button",onClick:()=>A(tt),className:"ml-2 text-xs text-[#f49221] font-bold hover:underline",children:p[tt]?" Change Avatar":"+ Add Avatar (Optional)"})]},rt)})]}),b.jsx("button",{type:"button",onClick:()=>d([...h,""]),className:"text-xs text-[#f49221] font-bold uppercase tracking-wider hover:underline ml-1",children:"+ Add Participant"}),b.jsxs("div",{className:"pt-8 flex flex-col gap-4",children:[b.jsx("button",{type:"submit",disabled:P,className:"w-full py-5 bg-[#f49221] text-white rounded-2xl font-bold shadow-xl shadow-[#f49221]/20 uppercase tracking-widest disabled:opacity-50",children:P?"Creating Trip...":"Launch Trip"}),b.jsx("button",{type:"button",onClick:()=>i("selection"),disabled:P,className:"w-full py-4 px-4 border-2 border-black rounded-2xl font-bold text-black uppercase tracking-widest text-xs disabled:opacity-50",children:"Back"})]})]})]}),_&&b.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 border-2 border-[#f49221]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-bold text-black",children:"Choose Avatar"}),b.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:Us.map(tt=>b.jsx("button",{type:"button",onClick:()=>{v({...p,[_]:tt.id}),A(null)},className:"w-full aspect-square rounded-2xl overflow-hidden hover:scale-110 transition-all border-2 border-transparent hover:border-[#f49221]",children:b.jsx("img",{src:tt.image,alt:"avatar",className:"w-full h-full object-cover"})},tt.id))}),b.jsx("button",{onClick:()=>A(null),className:"w-full py-3 bg-gray-100 text-black rounded-xl font-bold hover:bg-gray-200",children:"Cancel"})]})})]}):e==="join"?b.jsxs("div",{className:"max-w-md mx-auto p-10 bg-white rounded-[2.5rem] shadow-2xl mt-12 border-4 border-black text-center",children:[b.jsx("h2",{className:"text-3xl font-bold mb-8 text-black font-pt uppercase",children:"Join Trip"}),b.jsx("input",{className:"w-full px-6 py-5 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none mb-8 text-center font-mono text-xl text-black placeholder-gray-400",placeholder:"PASTE TRIP ID",value:S,onChange:tt=>R(tt.target.value)}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsx("button",{onClick:()=>S&&r(S),className:"w-full py-5 bg-black text-white rounded-2xl font-bold shadow-xl uppercase tracking-widest",children:"Connect"}),b.jsx("button",{onClick:()=>i("selection"),className:"w-full py-4 font-bold text-gray-400 uppercase tracking-widest text-xs",children:"Cancel"})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"max-w-md mx-auto mt-20 text-center p-12 bg-white rounded-[3.5rem] shadow-2xl border-2 border-gray-50",children:[b.jsx("div",{className:"w-28 h-28 bg-[#f49221] rounded-[2.5rem] flex items-center justify-center mx-auto mb-10 shadow-2xl shadow-[#f49221]/40 -rotate-3 border-4 border-white",children:b.jsx("svg",{className:"w-14 h-14 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),b.jsx("h1",{className:"text-5xl font-bold text-black mb-3 font-pt tracking-tighter uppercase",children:"Manas Split"}),b.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-[0.2em] text-[10px] mb-14",children:"Simplified Group Finance"}),b.jsxs("div",{className:"space-y-5",children:[b.jsx("button",{onClick:()=>i("create"),className:"w-full py-6 bg-[#f49221] text-white rounded-2xl font-bold hover:scale-[1.02] transition-all shadow-2xl shadow-[#f49221]/30 flex items-center justify-center gap-3 uppercase tracking-widest",children:"New Expedition"}),b.jsx("button",{onClick:()=>i("join"),className:"w-full py-6 bg-black text-white rounded-2xl font-bold hover:scale-[1.02] transition-all flex items-center justify-center gap-3 uppercase tracking-widest",children:"Connect to Trip"})]})]}),_&&b.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 border-2 border-[#f49221]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-bold text-black",children:"Choose Avatar"}),b.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:Us.map(tt=>b.jsx("button",{type:"button",onClick:()=>{v({...p,[_]:tt.id}),A(null)},className:"w-full aspect-square rounded-2xl overflow-hidden hover:scale-110 transition-all border-2 border-transparent hover:border-[#f49221]",children:b.jsx("img",{src:tt.image,alt:"avatar",className:"w-full h-full object-cover"})},tt.id))}),b.jsx("button",{onClick:()=>A(null),className:"w-full py-3 bg-gray-100 text-black rounded-xl font-bold hover:bg-gray-200",children:"Cancel"})]})})]})},CS=({tripId:r,participants:e,onClose:i})=>{const[a,o]=Tt.useState(""),[h,d]=Tt.useState(""),[p,v]=Tt.useState(""),[_,A]=Tt.useState([]),[S,R]=Tt.useState("fair"),[P,J]=Tt.useState({}),[W,K]=Tt.useState("UPI"),[it,ft]=Tt.useState(!1),tt=Tt.useMemo(()=>{if(S==="custom")return 0;const x=parseFloat(h);return isNaN(x)||_.length===0?0:x/_.length},[h,_,S]),rt=Tt.useMemo(()=>Object.values(P).reduce((x,w)=>x+(parseFloat(w)||0),0),[P]),_t=Tt.useMemo(()=>{const x=parseFloat(h);return isNaN(x)||S!=="custom"?{valid:!0,message:""}:Math.abs(rt-x)>.01?{valid:!1,message:`Custom amounts (${rt.toFixed(2)}) don't match total (${x})`}:{valid:!0,message:" Custom amounts match total"}},[rt,h,S]),st=async x=>{if(x.preventDefault(),!a||!h||!p||_.length===0)return alert("Please fill all required fields.");const w=parseFloat(h);if(isNaN(w)||w<=0)return alert("Please enter a valid amount greater than 0.");if(S==="custom"&&!_t.valid)return alert(_t.message);ft(!0);try{const D={title:a,amount:w,paidBy:p,splitBetween:_,perPersonAmount:tt,splitType:S,paymentMethod:W};S==="custom"&&(D.customSplits=Object.fromEntries(Object.entries(P).map(([V,M])=>[V,parseFloat(M)||0]))),await AS(r,D),i()}catch(D){console.error("Error creating expense:",D),alert("Failed to save transaction. Check your backend/permissions.")}finally{ft(!1)}};return b.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:b.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl p-10 border-4 border-[#f49221]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-10",children:[b.jsx("h2",{className:"text-3xl font-bold text-black font-pt uppercase tracking-tight",children:"Add Transaction"}),b.jsx("button",{onClick:i,className:"p-3 hover:bg-gray-100 rounded-2xl transition-all",children:b.jsx("svg",{className:"w-6 h-6 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("form",{onSubmit:st,className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Expense Item"}),b.jsx("input",{type:"text",placeholder:"e.g. Flight Tickets",className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none font-bold text-black",value:a,onChange:x=>o(x.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Amount (INR)"}),b.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none font-bold text-black",value:h,onChange:x=>d(x.target.value)})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Who Paid?"}),b.jsxs("select",{className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none bg-white font-bold text-black",value:p,onChange:x=>v(x.target.value),children:[b.jsx("option",{value:"",children:"Select Member"}),e.map(x=>b.jsx("option",{value:x,children:x},x))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Payment Channel"}),b.jsx("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl",children:["UPI","Cash"].map(x=>b.jsx("button",{type:"button",onClick:()=>K(x),className:`flex-1 py-3 text-xs rounded-xl font-bold transition-all uppercase tracking-widest ${W===x?"bg-white shadow-xl text-[#f49221]":"text-gray-400"}`,children:x},x))})]})]}),b.jsx("div",{children:b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Split Type"}),b.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-xl",children:[b.jsx("button",{type:"button",onClick:()=>R("fair"),className:`px-4 py-2 text-[10px] rounded-lg font-bold transition-all uppercase tracking-widest ${S==="fair"?"bg-white shadow-lg text-[#f49221]":"text-gray-400"}`,children:"Fair Split"}),b.jsx("button",{type:"button",onClick:()=>R("custom"),className:`px-4 py-2 text-[10px] rounded-lg font-bold transition-all uppercase tracking-widest ${S==="custom"?"bg-white shadow-lg text-[#f49221]":"text-gray-400"}`,children:"Custom Split"})]})]})}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-end mb-3 ml-1",children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Distributed Among"}),b.jsx("button",{type:"button",onClick:()=>A([...e]),className:"text-[10px] font-bold text-[#f49221] uppercase tracking-widest",children:"Select Everyone"})]}),b.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-40 overflow-y-auto pr-2 custom-scrollbar",children:e.map(x=>b.jsxs("label",{className:`flex items-center p-4 rounded-2xl border-2 cursor-pointer transition-all ${_.includes(x)?"bg-[#f49221]/10 border-[#f49221]":"bg-white border-gray-100"}`,children:[b.jsx("input",{type:"checkbox",className:"hidden",checked:_.includes(x),onChange:()=>A(w=>w.includes(x)?w.filter(D=>D!==x):[...w,x])}),b.jsx("span",{className:`text-xs font-black uppercase tracking-tight ${_.includes(x)?"text-black":"text-gray-400"}`,children:x})]},x))})]}),S==="custom"&&_.length>0&&b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 block ml-1",children:"Custom Amounts Per Person"}),b.jsx("div",{className:"space-y-3 max-h-52 overflow-y-auto pr-2",children:_.map(x=>b.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl",children:[b.jsx("span",{className:"text-sm font-bold text-black flex-1",children:x}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:""}),b.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-28 pl-8 pr-3 py-2 rounded-lg border-2 border-gray-200 focus:border-[#f49221] outline-none font-bold text-sm text-black",value:P[x]||"",onChange:w=>J({...P,[x]:w.target.value})})]})]},x))}),b.jsx("div",{className:`mt-3 p-3 rounded-xl text-xs font-bold ${_t.valid?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:_t.message||`Total: ${rt.toFixed(2)} / ${h||"0"}`})]}),b.jsx("button",{type:"submit",disabled:it,className:"w-full bg-[#f49221] text-white font-bold py-6 rounded-2xl shadow-2xl shadow-[#f49221]/40 transition-all uppercase tracking-[0.2em] disabled:opacity-50 text-sm",children:it?"Processing...":"Secure Transaction"})]})]})})},DS=({expenses:r})=>{const[e,i]=Tt.useState(null);return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-3xl overflow-hidden shadow-2xl shadow-[#f49221]/10",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left text-sm",children:[b.jsx("thead",{className:"bg-gradient-to-r from-[#f49221] to-[#e58515] text-white backdrop-blur-xl",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Description"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Value"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Paid By"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Split"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Proof"})]})}),b.jsx("tbody",{className:"divide-y divide-white/5",children:r.map(a=>b.jsxs("tr",{className:"hover:bg-white/10 transition-all border-l-4 border-transparent hover:border-[#f49221] backdrop-blur-sm group",children:[b.jsxs("td",{className:"px-6 py-5",children:[b.jsx("div",{className:"font-bold text-white text-base",children:a.title}),b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(a.createdAt).toLocaleDateString()})]}),b.jsxs("td",{className:"px-6 py-5 font-bold text-lg text-white",children:["",a.amount.toFixed(2)]}),b.jsxs("td",{className:"px-6 py-5",children:[b.jsx("div",{className:"text-gray-300 font-medium",children:a.paidBy}),b.jsxs("div",{className:"text-xs text-gray-600",children:["(",a.paymentMethod,")"]})]}),b.jsxs("td",{className:"px-6 py-5",children:[b.jsxs("div",{className:"text-gray-300 font-medium text-sm",children:[a.splitBetween.length," person",a.splitBetween.length!==1?"s":""]}),a.splitType==="custom"?b.jsx("div",{className:"text-xs text-purple-400 font-bold mt-1",children:"CUSTOM SPLIT"}):b.jsxs("div",{className:"text-xs text-[#f49221] font-bold mt-1",children:["",a.perPersonAmount.toFixed(2)," each"]})]}),b.jsx("td",{className:"px-6 py-5",children:a.proofImageUrl?b.jsx("button",{onClick:()=>i(a.proofImageUrl),className:"bg-[#f49221] hover:bg-[#e58515] text-white px-4 py-2 rounded-lg text-xs font-medium transition-colors",children:"View"}):b.jsx("span",{className:"text-gray-600 text-xs",children:"No proof"})})]},a.id))})]})})}),e&&b.jsx("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center p-6 z-[60] backdrop-blur-xl",onClick:()=>i(null),children:b.jsxs("div",{className:"relative max-w-4xl w-full flex flex-col items-center",children:[b.jsx("button",{className:"absolute -top-16 right-0 text-white hover:text-[#f49221] transition-colors p-4",children:b.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),b.jsx("img",{src:e,alt:"Payment Proof",className:"max-h-[80vh] object-contain rounded-3xl shadow-[0_0_100px_rgba(244,146,33,0.3)] border-4 border-white"})]})})]})},IS=({balances:r,tripId:e,trackedSettlements:i,participants:a,trip:o})=>{const[h,d]=Tt.useState(null),[p,v]=Tt.useState(!1),[_,A]=Tt.useState(""),[S,R]=Tt.useState(""),[P,J]=Tt.useState(""),[W,K]=Tt.useState(!1),[it,ft]=Tt.useState(null),tt=Tt.useMemo(()=>{const C=r.filter(et=>et.net<0).map(et=>({name:et.name,amount:Math.abs(et.net)})),N=r.filter(et=>et.net>0).map(et=>({name:et.name,amount:et.net})),xt=[];let Wt=0,F=0;for(;Wt<C.length&&F<N.length;){const et=C[Wt],dt=N[F],Ct=Math.min(et.amount,dt.amount);Ct>.01&&xt.push({from:et.name,to:dt.name,amount:Ct}),et.amount-=Ct,dt.amount-=Ct,et.amount<.01&&(Wt+=1),dt.amount<.01&&(F+=1)}return xt},[r]),rt=i.filter(C=>!C.isPaid),_t=i.filter(C=>C.isPaid),st=C=>{var Wt;const N=(Wt=o==null?void 0:o.memberAvatars)==null?void 0:Wt[C],xt=Us.find(F=>F.id===N);return xt!=null&&xt.image?b.jsx("img",{src:xt.image,alt:C,className:"w-10 h-10 rounded-lg object-cover"}):b.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:C[0]})},x=async C=>{const N=`${C.from}-${C.to}`;d(N);try{await r0(e,C.from,C.to,C.amount)}catch(xt){console.error("Error creating settlement",xt),alert("Failed to track this payment.")}finally{d(null)}},w=async(C,N)=>{ft(C);try{await xS(C,N)}catch(xt){console.error("Error updating paid status",xt),alert("Failed to update status.")}finally{ft(null)}},D=async C=>{try{await SS(C)}catch(N){console.error("Error moving payment back to suggested",N),alert("Failed to move payment back.")}},V=async C=>{C.preventDefault();const N=parseFloat(P);if(!_||!S||Number.isNaN(N)||N<=0){alert("Please fill all fields with a valid amount.");return}if(_===S){alert("Payer and receiver cannot be the same.");return}K(!0);try{await r0(e,_,S,N),v(!1),A(""),R(""),J("")}catch(xt){console.error("Error creating custom settlement",xt),alert("Failed to record payment.")}finally{K(!1)}};return tt.length===0&&rt.length===0&&_t.length===0?b.jsxs("div",{className:"mt-8 bg-gradient-to-br from-green-900 to-green-950 rounded-3xl p-8 text-center border-2 border-green-700",children:[b.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),b.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"All Settled!"}),b.jsx("p",{className:"text-green-300 text-sm",children:"Everyone is balanced. No payments needed."})]}):b.jsxs("div",{className:"mt-8 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-white text-2xl font-bold",children:"Settlements"}),b.jsxs("button",{onClick:()=>v(C=>!C),className:"bg-[#f49221] hover:bg-[#e58515] text-white px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 transition-colors",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v12M6 12h12"})}),"Record Payment"]})]}),p&&b.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-[#f49221] rounded-2xl p-6 shadow-2xl shadow-[#f49221]/20",children:[b.jsx("h4",{className:"text-white font-bold text-lg mb-4",children:"Record a Payment"}),b.jsxs("form",{onSubmit:V,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Who Paid"}),b.jsxs("select",{value:_,onChange:C=>A(C.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0,children:[b.jsx("option",{value:"",children:"Select person"}),a.map(C=>b.jsx("option",{value:C,children:C},C))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Paid To"}),b.jsxs("select",{value:S,onChange:C=>R(C.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0,children:[b.jsx("option",{value:"",children:"Select person"}),a.map(C=>b.jsx("option",{value:C,children:C},C))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Amount ()"}),b.jsx("input",{type:"number",step:"0.01",min:"0.01",value:P,onChange:C=>J(C.target.value),placeholder:"0.00",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"submit",disabled:W,className:"bg-[#f49221] hover:bg-[#e58515] text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 flex-1",children:W?"Saving...":"Save Payment"}),b.jsx("button",{type:"button",onClick:()=>v(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]}),rt.length>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-white text-xl font-bold",children:"Tracked Payments"}),b.jsxs("span",{className:"bg-red-900 text-red-200 text-xs font-bold px-3 py-1 rounded-full",children:[rt.length," Pending"]})]}),b.jsx("div",{className:"space-y-3",children:rt.map(C=>b.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-5 border-2 border-red-800",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[st(C.from),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"text-white font-bold",children:C.from}),b.jsx("div",{className:"text-red-300 text-xs",children:"should pay"})]})]}),b.jsx("div",{className:"px-6",children:b.jsx("svg",{className:"w-8 h-8 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[b.jsxs("div",{className:"flex-1 text-right",children:[b.jsx("div",{className:"text-white font-bold",children:C.to}),b.jsx("div",{className:"text-red-300 text-xs",children:"receives"})]}),st(C.to)]}),b.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[b.jsxs("div",{className:"bg-[#f49221] text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",C.amount.toFixed(2)]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>w(C.id,!0),disabled:it===C.id,className:"w-24 h-9 rounded-full flex items-center px-1 transition-all bg-red-700 text-white text-xs font-bold justify-between",title:"Mark as paid",children:[b.jsx("span",{className:"ml-2",children:"Unpaid"}),b.jsx("span",{className:"w-6 h-6 bg-white rounded-full shadow"})]}),b.jsx("button",{onClick:()=>D(C.id),className:"px-3 py-2 rounded-lg text-xs font-bold bg-gray-700 text-white hover:bg-gray-600 transition-colors",title:"Move back to suggested",children:"Move to Suggested"})]})]})]})},C.id))})]}),tt.length>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-white text-xl font-bold",children:"Suggested Settlements"}),b.jsxs("span",{className:"bg-[#f49221] text-white text-xs font-bold px-3 py-1 rounded-full",children:[tt.length," Suggested"]})]}),b.jsx("div",{className:"space-y-3",children:tt.map((C,N)=>{const xt=`${C.from}-${C.to}`;return rt.some(F=>F.from===C.from&&F.to===C.to&&Math.abs(F.amount-C.amount)<.01)?null:b.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-5 border-2 border-[#f49221]/30 hover:border-[#f49221] transition-all hover:shadow-xl hover:shadow-[#f49221]/20",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[st(C.from),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"text-white font-bold",children:C.from}),b.jsx("div",{className:"text-gray-400 text-xs",children:"should pay"})]})]}),b.jsx("div",{className:"px-6",children:b.jsx("svg",{className:"w-8 h-8 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[b.jsxs("div",{className:"flex-1 text-right",children:[b.jsx("div",{className:"text-white font-bold",children:C.to}),b.jsx("div",{className:"text-gray-400 text-xs",children:"receives"})]}),st(C.to)]}),b.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[b.jsxs("div",{className:"bg-[#f49221] text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",C.amount.toFixed(2)]}),b.jsx("button",{onClick:()=>x(C),disabled:h===xt,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-xl font-bold text-sm transition-colors disabled:opacity-50",title:"Track this payment",children:h===xt?"Adding...":"Track"})]})]})},xt||N)})})]}),_t.length>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-white text-xl font-bold",children:"Completed Payments"}),b.jsxs("span",{className:"bg-green-900 text-green-300 text-xs font-bold px-3 py-1 rounded-full",children:[_t.length," Completed"]})]}),b.jsx("div",{className:"space-y-3",children:_t.map(C=>b.jsx("div",{className:"bg-gradient-to-r from-green-950 to-green-900 rounded-2xl p-5 border-2 border-green-800 opacity-80",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[st(C.from),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"text-white font-bold",children:C.from}),b.jsx("div",{className:"text-green-300 text-xs",children:"paid"})]})]}),b.jsx("div",{className:"px-6",children:b.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[b.jsxs("div",{className:"flex-1 text-right",children:[b.jsx("div",{className:"text-white font-bold",children:C.to}),b.jsx("div",{className:"text-green-300 text-xs",children:"received"})]}),st(C.to)]}),b.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[b.jsxs("div",{className:"bg-green-700 text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",C.amount.toFixed(2)]}),b.jsxs("button",{onClick:()=>w(C.id,!1),disabled:it===C.id,className:"w-24 h-9 rounded-full flex items-center px-1 transition-all bg-green-700 text-white text-xs font-bold justify-between",title:"Mark as unpaid",children:[b.jsx("span",{className:"ml-2",children:"Paid"}),b.jsx("span",{className:"w-6 h-6 bg-white rounded-full shadow"})]})]})]})},C.id))})]})]})},VS=({person:r,balances:e,expenses:i,trip:a,onClose:o})=>{var S;const h=e.find(R=>R.name===r),p=(()=>{const R=e.filter(it=>it.net<0).map(it=>({name:it.name,amount:Math.abs(it.net)})),P=e.filter(it=>it.net>0).map(it=>({name:it.name,amount:it.net})),J=[];let W=0,K=0;for(;W<R.length&&K<P.length;){const it=R[W],ft=P[K],tt=Math.min(it.amount,ft.amount);tt>.01&&J.push({from:it.name,to:ft.name,amount:tt}),it.amount-=tt,ft.amount-=tt,it.amount<.01&&W++,ft.amount<.01&&K++}return J.filter(it=>it.from===r||it.to===r)})(),v=p.filter(R=>R.from===r),_=p.filter(R=>R.to===r),A=i.filter(R=>R.paidBy===r||R.splitBetween.includes(r));return b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center p-4 z-50 overflow-y-auto",children:b.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-3xl shadow-2xl w-full max-w-4xl border-4 border-[#f49221] relative",children:[b.jsx("div",{className:"bg-gradient-to-r from-[#f49221] to-[#e58515] p-8 rounded-t-3xl",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[a.memberAvatars&&a.memberAvatars[r]?b.jsx("img",{src:((S=Us.find(R=>R.id===a.memberAvatars[r]))==null?void 0:S.image)||"",alt:r,className:"w-16 h-16 rounded-full object-cover border-4 border-white shadow-lg"}):b.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center text-[#f49221] font-bold text-2xl border-4 border-white shadow-lg",children:r[0]}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-3xl font-bold text-white",children:r}),b.jsx("p",{className:"text-white/80 text-sm",children:"Payment Dashboard"})]})]}),b.jsx("button",{onClick:o,className:"p-3 hover:bg-white/20 rounded-2xl transition-all",children:b.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),b.jsx("div",{className:"p-8 border-b border-gray-700",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-900/50 to-blue-800/50 rounded-2xl p-6 border border-blue-700/50",children:[b.jsx("div",{className:"text-blue-300 text-xs font-bold uppercase tracking-widest mb-2",children:"Total Paid"}),b.jsxs("div",{className:"text-4xl font-black text-white",children:["",h==null?void 0:h.paid.toFixed(2)]})]}),b.jsxs("div",{className:"bg-gradient-to-br from-purple-900/50 to-purple-800/50 rounded-2xl p-6 border border-purple-700/50",children:[b.jsx("div",{className:"text-purple-300 text-xs font-bold uppercase tracking-widest mb-2",children:"Fair Share"}),b.jsxs("div",{className:"text-4xl font-black text-white",children:["",h==null?void 0:h.owed.toFixed(2)]})]}),b.jsxs("div",{className:`bg-gradient-to-br ${h&&h.net<0?"from-red-900/50 to-red-800/50 border-red-700/50":h&&h.net>0?"from-green-900/50 to-green-800/50 border-green-700/50":"from-gray-700/50 to-gray-600/50 border-gray-600/50"} rounded-2xl p-6 border`,children:[b.jsx("div",{className:`text-xs font-bold uppercase tracking-widest mb-2 ${h&&h.net<0?"text-red-300":h&&h.net>0?"text-green-300":"text-gray-400"}`,children:h&&h.net<0?"You Owe":h&&h.net>0?"You Get Back":"Status"}),b.jsx("div",{className:`text-4xl font-black ${h&&h.net<0?"text-red-400":h&&h.net>0?"text-green-400":"text-gray-400"}`,children:h&&Math.abs(h.net)>.01?`${Math.abs(h.net).toFixed(2)}`:"Settled"})]})]})}),b.jsxs("div",{className:"p-8 space-y-6 max-h-[60vh] overflow-y-auto",children:[v.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"You Should Pay"]}),b.jsx("div",{className:"space-y-3",children:v.map((R,P)=>{var J;return b.jsx("div",{className:"bg-gradient-to-r from-red-950/50 to-gray-800/50 rounded-2xl p-5 border-2 border-red-700/50 hover:border-red-500/70 transition-all",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"bg-red-500/20 p-3 rounded-xl",children:b.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),b.jsxs("div",{className:"flex items-center gap-3",children:[a.memberAvatars&&a.memberAvatars[R.to]?b.jsx("img",{src:((J=Us.find(W=>W.id===a.memberAvatars[R.to]))==null?void 0:J.image)||"",alt:R.to,className:"w-10 h-10 rounded-full object-cover border-2 border-green-500/50"}):b.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center text-green-400 font-bold border-2 border-green-500/50",children:R.to[0]}),b.jsxs("div",{children:[b.jsxs("div",{className:"text-white font-bold text-lg",children:["Pay ",R.to]}),b.jsx("div",{className:"text-red-300 text-xs",children:"Settlement Required"})]})]})]}),b.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white font-black px-6 py-3 rounded-xl text-2xl shadow-lg",children:["",R.amount.toFixed(2)]})]})},P)})})]}),_.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"You Should Receive"]}),b.jsx("div",{className:"space-y-3",children:_.map((R,P)=>{var J;return b.jsx("div",{className:"bg-gradient-to-r from-green-950/50 to-gray-800/50 rounded-2xl p-5 border-2 border-green-700/50 hover:border-green-500/70 transition-all",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"bg-green-500/20 p-3 rounded-xl",children:b.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})})}),b.jsxs("div",{className:"flex items-center gap-3",children:[a.memberAvatars&&a.memberAvatars[R.from]?b.jsx("img",{src:((J=Us.find(W=>W.id===a.memberAvatars[R.from]))==null?void 0:J.image)||"",alt:R.from,className:"w-10 h-10 rounded-full object-cover border-2 border-red-500/50"}):b.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center text-red-400 font-bold border-2 border-red-500/50",children:R.from[0]}),b.jsxs("div",{children:[b.jsxs("div",{className:"text-white font-bold text-lg",children:["From ",R.from]}),b.jsx("div",{className:"text-green-300 text-xs",children:"Pending Payment"})]})]})]}),b.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white font-black px-6 py-3 rounded-xl text-2xl shadow-lg",children:["",R.amount.toFixed(2)]})]})},P)})})]}),v.length===0&&_.length===0&&b.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-2xl p-8 text-center border-2 border-green-700/50",children:[b.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),b.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"All Settled!"}),b.jsx("p",{className:"text-green-300 text-sm",children:"You're all balanced. No payments needed."})]}),A.length>0&&b.jsxs("div",{className:"mt-8",children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 bg-[#f49221] rounded-full"}),"Your Expense Activity"]}),b.jsx("div",{className:"bg-gray-800/50 rounded-2xl border border-gray-700 overflow-hidden",children:b.jsx("div",{className:"divide-y divide-gray-700",children:A.slice(0,10).map((R,P)=>b.jsx("div",{className:"p-4 hover:bg-gray-700/30 transition-colors",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("span",{className:"text-white font-bold",children:R.title}),R.paidBy===r&&b.jsx("span",{className:"bg-blue-500/20 text-blue-300 text-xs px-2 py-0.5 rounded font-bold",children:"You Paid"}),R.splitBetween.includes(r)&&R.paidBy!==r&&b.jsx("span",{className:"bg-purple-500/20 text-purple-300 text-xs px-2 py-0.5 rounded font-bold",children:"You Split"})]}),b.jsxs("div",{className:"text-gray-400 text-xs",children:[new Date(R.createdAt).toLocaleDateString(),"  Paid by ",R.paidBy]})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("div",{className:"text-white font-bold",children:["",R.amount.toFixed(2)]}),R.splitBetween.includes(r)&&b.jsxs("div",{className:"text-[#f49221] text-xs font-bold",children:["Your share: ",(R.splitType==="custom"&&R.customSplits&&R.customSplits[r]?R.customSplits[r]:R.perPersonAmount).toFixed(2)]})]})]})},P))})}),A.length>10&&b.jsxs("p",{className:"text-gray-400 text-xs text-center mt-2",children:["Showing 10 of ",A.length," expenses"]})]})]}),b.jsx("div",{className:"p-6 bg-gray-900/50 rounded-b-3xl border-t border-gray-700",children:b.jsx("button",{onClick:o,className:"w-full bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white font-bold py-4 rounded-xl transition-all shadow-lg hover:shadow-xl",children:"Close"})})]})})},MS=()=>{var _t;const[r,e]=Tt.useState(localStorage.getItem("trip_user_name")),[i,a]=Tt.useState(null),[o,h]=Tt.useState(null),[d,p]=Tt.useState([]),[v,_]=Tt.useState([]),[A,S]=Tt.useState(!1),[R,P]=Tt.useState(!1),[J,W]=Tt.useState(null),[K,it]=Tt.useState(!1),[ft,tt]=Tt.useState(null),rt=Tt.useMemo(()=>o?o.participants.map(st=>{let x=0,w=0;return d.forEach(V=>{V.paidBy===st&&(x+=V.amount),V.splitBetween.includes(st)&&(V.splitType==="custom"&&V.customSplits&&V.customSplits[st]?w+=V.customSplits[st]:w+=V.perPersonAmount)}),v.filter(V=>V.isPaid).forEach(V=>{V.from===st&&(x+=V.amount),V.to===st&&(w+=V.amount)}),{name:st,paid:x,owed:w,net:x-w}}):[],[o,d,v]);return Tt.useEffect(()=>{const st=localStorage.getItem("current_trip_id");st&&a(st)},[]),Tt.useEffect(()=>{if(!i){h(null),p([]),it(!1);return}it(!0),W(null),localStorage.setItem("current_trip_id",i);const st=setTimeout(()=>{it(!1),W("Connection timeout. Please check your internet connection and try again."),a(null),localStorage.removeItem("current_trip_id")},5e3),x=ES(i,V=>{clearTimeout(st),it(!1),V?(h(V),W(null)):(W("Trip not found. Verify the Trip ID or check if it was deleted."),a(null),localStorage.removeItem("current_trip_id"))}),w=TS(i,V=>{p(V)}),D=wS(i,V=>{_(V)});return()=>{clearTimeout(st),x(),w(),D()}},[i]),vS()?r?!i||J?b.jsxs("div",{className:"min-h-screen bg-white pt-10 px-4",children:[J&&b.jsxs("div",{className:"max-w-md mx-auto mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-2xl text-sm font-bold shadow-sm flex items-center gap-3",children:[b.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),J]}),b.jsx(NS,{onTripSelected:a})]}):K?b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#f49221] border-t-transparent mb-4 shadow-lg shadow-[#f49221]/20"}),b.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] mb-6",children:"Connecting to Firebase..."}),b.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:"Clear & Restart"})]}):!o&&i?b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#f49221] border-t-transparent mb-4 shadow-lg shadow-[#f49221]/20"}),b.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] mb-6",children:"Loading trip..."})]}):b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-[#1a0a00] to-black pb-20 relative overflow-hidden",children:[b.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#f49221] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),b.jsx("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-[#e58515] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),b.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-96 h-96 bg-[#f49221] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),b.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-gradient-to-r from-[#f49221]/80 to-[#e58515]/80 border-b border-white/10 shadow-2xl shadow-[#f49221]/20",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/manas-split/pics/manas.png",alt:"Manas Split Logo",className:"w-10 h-10 rounded-xl shadow-lg hover:scale-110 transition-transform object-cover"}),b.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"Manas Split"})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("button",{onClick:()=>{a(null),localStorage.removeItem("current_trip_id")},className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white rounded-lg text-sm font-medium transition-all border border-white/30 hover:border-white/50 flex items-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Trips"]}),b.jsx("div",{className:"w-11 h-11 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white font-bold border-2 border-white/40 shadow-lg hover:scale-110 transition-transform cursor-pointer",children:(_t=r==null?void 0:r[0])==null?void 0:_t.toUpperCase()})]})]})}),b.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:[b.jsxs("div",{className:"mb-8 backdrop-blur-sm bg-white/5 rounded-3xl p-6 border border-white/10",children:[b.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-white via-[#f49221] to-white bg-clip-text text-transparent mb-3",children:"Dashboard"}),b.jsx("p",{className:"text-gray-300 text-sm",children:"An overview of your group's expenses and balances."}),b.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(i),P(!0),setTimeout(()=>P(!1),2e3)},className:"mt-3 text-xs text-gray-400 hover:text-[#f49221] transition-colors backdrop-blur-sm bg-white/5 px-4 py-2 rounded-lg border border-white/10 hover:border-[#f49221]/50",children:["Trip: ",o.name,"  ID: ",i.substring(0,12),"... ",R?" Copied":" Copy"]})]}),b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-[#f49221] to-[#e58515] rounded-full"}),"Balances"]}),b.jsxs("button",{onClick:()=>S(!0),className:"bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white px-6 py-3 rounded-xl font-medium text-sm flex items-center gap-2 transition-all shadow-lg shadow-[#f49221]/50 hover:shadow-xl hover:shadow-[#f49221]/60 hover:scale-105",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:rt.map(st=>{var x;return b.jsxs("div",{className:"group relative backdrop-blur-xl bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-2xl p-6 hover:border-[#f49221]/50 transition-all hover:shadow-2xl hover:shadow-[#f49221]/30 hover:scale-105 duration-300 cursor-pointer",onClick:()=>tt(st.name),children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f49221]/10 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsxs("div",{className:"relative z-10",children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[o.memberAvatars&&o.memberAvatars[st.name]?b.jsx("img",{src:((x=Us.find(w=>w.id===o.memberAvatars[st.name]))==null?void 0:x.image)||"",alt:st.name,className:"w-10 h-10 rounded-full object-cover border-2 border-[#f49221]/50"}):b.jsx("div",{className:"w-10 h-10 bg-[#f49221]/20 rounded-full flex items-center justify-center text-[#f49221] font-bold border-2 border-[#f49221]/50",children:st.name[0]}),b.jsx("h4",{className:"text-white font-bold text-lg",children:st.name})]}),b.jsx("span",{className:`text-xs font-bold px-3 py-1.5 rounded-full backdrop-blur-md ${st.net<-.01?"bg-red-500/30 text-red-200 border border-red-400/30":st.net>.01?"bg-[#f49221]/30 text-[#f49221] border border-[#f49221]/30":"bg-gray-500/30 text-gray-300 border border-gray-400/30"}`,children:st.net<-.01?"Owes":st.net>.01?"Gets Back":"Settled"})]}),b.jsxs("div",{className:"text-4xl font-black bg-gradient-to-r from-[#f49221] via-[#ff9d3d] to-[#e58515] bg-clip-text text-transparent mb-3 drop-shadow-lg",children:["",Math.abs(st.net).toFixed(2)]}),b.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[b.jsx("span",{className:"w-2 h-2 bg-[#f49221] rounded-full animate-pulse"}),"Paid: ",b.jsxs("span",{className:"text-[#f49221] font-bold",children:["",st.paid.toFixed(2)]})]})]})]},st.name)})})]}),b.jsx(IS,{balances:rt,tripId:o.id,trackedSettlements:v,participants:o.participants,trip:o}),b.jsxs("div",{className:"mt-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-[#f49221] to-[#e58515] rounded-full"}),"Recent Expenses"]}),b.jsxs("span",{className:"backdrop-blur-md bg-white/10 border border-white/20 text-gray-300 text-sm px-4 py-2 rounded-full font-medium",children:[d.length," transaction",d.length!==1?"s":""]})]}),d.length===0?b.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border-2 border-dashed border-[#f49221]/30 rounded-3xl p-16 text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#f49221]/20 to-[#e58515]/20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-md border border-[#f49221]/30",children:b.jsx("svg",{className:"w-10 h-10 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("p",{className:"text-gray-300 text-xl font-semibold mb-2",children:"No expenses yet"}),b.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Get started by adding your first expense."}),b.jsxs("button",{onClick:()=>S(!0),className:"bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white px-8 py-3 rounded-xl font-semibold inline-flex items-center gap-2 transition-all shadow-xl shadow-[#f49221]/50 hover:shadow-2xl hover:shadow-[#f49221]/60 hover:scale-105",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]})]}):b.jsx(DS,{expenses:d})]})]}),b.jsx("button",{onClick:()=>S(!0),className:"fixed bottom-8 right-8 w-16 h-16 bg-[#f49221] text-white rounded-2xl shadow-2xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-40 shadow-[#f49221]/40 border-4 border-white",children:b.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),A&&b.jsx(CS,{tripId:o.id,participants:o.participants,onClose:()=>S(!1)}),ft&&o&&b.jsx(VS,{person:ft,balances:rt,expenses:d,trip:o,onClose:()=>tt(null)})]}):b.jsx(RS,{onJoin:e}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-6 text-center",children:b.jsxs("div",{className:"max-w-md bg-white p-10 rounded-[2rem] shadow-2xl border-2 border-[#f49221]",children:[b.jsx("div",{className:"w-20 h-20 bg-[#f49221] text-white rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:b.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),b.jsx("h1",{className:"text-2xl font-bold text-black mb-4 font-pt",children:"Configuration Required"}),b.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"The application needs valid Firebase credentials to function. Check your setup."})]})})},c1=document.getElementById("root");if(!c1)throw new Error("Could not find root element to mount to");const OS=Jb.createRoot(c1);OS.render(b.jsx(Fb.StrictMode,{children:b.jsx(MS,{})}));
