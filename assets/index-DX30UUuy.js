(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function E0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gf={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function gE(){if(Yy)return Xl;Yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Xl.Fragment=e,Xl.jsx=i,Xl.jsxs=i,Xl}var Xy;function pE(){return Xy||(Xy=1,Gf.exports=gE()),Gf.exports}var b=pE(),Qf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function yE(){if(Ky)return St;Ky=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.iterator;function q(I){return I===null||typeof I!="object"?null:(I=D&&I[D]||I["@@iterator"],typeof I=="function"?I:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function ct(I,Q,at){this.props=I,this.context=Q,this.refs=Z,this.updater=at||W}ct.prototype.isReactComponent={},ct.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},ct.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ft(){}ft.prototype=ct.prototype;function nt(I,Q,at){this.props=I,this.context=Q,this.refs=Z,this.updater=at||W}var it=nt.prototype=new ft;it.constructor=nt,tt(it,ct.prototype),it.isPureReactComponent=!0;var gt=Array.isArray;function dt(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(I,Q,at){var ut=at.ref;return{$$typeof:r,type:I,key:Q,ref:ut!==void 0?ut:null,props:at}}function M(I,Q){return C(I.type,Q,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function k(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(at){return Q[at]})}var R=/\/+/g;function Qt(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?k(""+I.key):Q.toString(36)}function X(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(dt,dt):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function P(I,Q,at,ut,Et){var Nt=typeof I;(Nt==="undefined"||Nt==="boolean")&&(I=null);var Lt=!1;if(I===null)Lt=!0;else switch(Nt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(I.$$typeof){case r:case e:Lt=!0;break;case A:return Lt=I._init,P(Lt(I._payload),Q,at,ut,Et)}}if(Lt)return Et=Et(I),Lt=ut===""?"."+Qt(I,0):ut,gt(Et)?(at="",Lt!=null&&(at=Lt.replace(R,"$&/")+"/"),P(Et,Q,at,"",function(Ys){return Ys})):Et!=null&&(V(Et)&&(Et=M(Et,at+(Et.key==null||I&&I.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+Lt)),Q.push(Et)),1;Lt=0;var Ie=ut===""?".":ut+":";if(gt(I))for(var re=0;re<I.length;re++)ut=I[re],Nt=Ie+Qt(ut,re),Lt+=P(ut,Q,at,Nt,Et);else if(re=q(I),typeof re=="function")for(I=re.call(I),re=0;!(ut=I.next()).done;)ut=ut.value,Nt=Ie+Qt(ut,re++),Lt+=P(ut,Q,at,Nt,Et);else if(Nt==="object"){if(typeof I.then=="function")return P(X(I),Q,at,ut,Et);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(I,Q,at){if(I==null)return I;var ut=[],Et=0;return P(I,ut,"","",function(Nt){return Q.call(at,Nt,Et++)}),ut}function rt(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(at){(I._status===0||I._status===-1)&&(I._status=1,I._result=at)},function(at){(I._status===0||I._status===-1)&&(I._status=2,I._result=at)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var wt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},bt={map:et,forEach:function(I,Q,at){et(I,function(){Q.apply(this,arguments)},at)},count:function(I){var Q=0;return et(I,function(){Q++}),Q},toArray:function(I){return et(I,function(Q){return Q})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return St.Activity=x,St.Children=bt,St.Component=ct,St.Fragment=i,St.Profiler=o,St.PureComponent=nt,St.StrictMode=a,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,St.__COMPILER_RUNTIME={__proto__:null,c:function(I){return w.H.useMemoCache(I)}},St.cache=function(I){return function(){return I.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(I,Q,at){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ut=tt({},I.props),Et=I.key;if(Q!=null)for(Nt in Q.key!==void 0&&(Et=""+Q.key),Q)!S.call(Q,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&Q.ref===void 0||(ut[Nt]=Q[Nt]);var Nt=arguments.length-2;if(Nt===1)ut.children=at;else if(1<Nt){for(var Lt=Array(Nt),Ie=0;Ie<Nt;Ie++)Lt[Ie]=arguments[Ie+2];ut.children=Lt}return C(I.type,Et,ut)},St.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},St.createElement=function(I,Q,at){var ut,Et={},Nt=null;if(Q!=null)for(ut in Q.key!==void 0&&(Nt=""+Q.key),Q)S.call(Q,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(Et[ut]=Q[ut]);var Lt=arguments.length-2;if(Lt===1)Et.children=at;else if(1<Lt){for(var Ie=Array(Lt),re=0;re<Lt;re++)Ie[re]=arguments[re+2];Et.children=Ie}if(I&&I.defaultProps)for(ut in Lt=I.defaultProps,Lt)Et[ut]===void 0&&(Et[ut]=Lt[ut]);return C(I,Nt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(I){return{$$typeof:p,render:I}},St.isValidElement=V,St.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:rt}},St.memo=function(I,Q){return{$$typeof:_,type:I,compare:Q===void 0?null:Q}},St.startTransition=function(I){var Q=w.T,at={};w.T=at;try{var ut=I(),Et=w.S;Et!==null&&Et(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(dt,wt)}catch(Nt){wt(Nt)}finally{Q!==null&&at.types!==null&&(Q.types=at.types),w.T=Q}},St.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},St.use=function(I){return w.H.use(I)},St.useActionState=function(I,Q,at){return w.H.useActionState(I,Q,at)},St.useCallback=function(I,Q){return w.H.useCallback(I,Q)},St.useContext=function(I){return w.H.useContext(I)},St.useDebugValue=function(){},St.useDeferredValue=function(I,Q){return w.H.useDeferredValue(I,Q)},St.useEffect=function(I,Q){return w.H.useEffect(I,Q)},St.useEffectEvent=function(I){return w.H.useEffectEvent(I)},St.useId=function(){return w.H.useId()},St.useImperativeHandle=function(I,Q,at){return w.H.useImperativeHandle(I,Q,at)},St.useInsertionEffect=function(I,Q){return w.H.useInsertionEffect(I,Q)},St.useLayoutEffect=function(I,Q){return w.H.useLayoutEffect(I,Q)},St.useMemo=function(I,Q){return w.H.useMemo(I,Q)},St.useOptimistic=function(I,Q){return w.H.useOptimistic(I,Q)},St.useReducer=function(I,Q,at){return w.H.useReducer(I,Q,at)},St.useRef=function(I){return w.H.useRef(I)},St.useState=function(I){return w.H.useState(I)},St.useSyncExternalStore=function(I,Q,at){return w.H.useSyncExternalStore(I,Q,at)},St.useTransition=function(){return w.H.useTransition()},St.version="19.2.3",St}var Zy;function Od(){return Zy||(Zy=1,Qf.exports=yE()),Qf.exports}var Tt=Od();const _E=E0(Tt);var Yf={exports:{}},Kl={},Xf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function vE(){return Jy||(Jy=1,(function(r){function e(P,et){var rt=P.length;P.push(et);t:for(;0<rt;){var wt=rt-1>>>1,bt=P[wt];if(0<o(bt,et))P[wt]=et,P[rt]=bt,rt=wt;else break t}}function i(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var et=P[0],rt=P.pop();if(rt!==et){P[0]=rt;t:for(var wt=0,bt=P.length,I=bt>>>1;wt<I;){var Q=2*(wt+1)-1,at=P[Q],ut=Q+1,Et=P[ut];if(0>o(at,rt))ut<bt&&0>o(Et,at)?(P[wt]=Et,P[ut]=rt,wt=ut):(P[wt]=at,P[Q]=rt,wt=Q);else if(ut<bt&&0>o(Et,rt))P[wt]=Et,P[ut]=rt,wt=ut;else break t}}return et}function o(P,et){var rt=P.sortIndex-et.sortIndex;return rt!==0?rt:P.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,x=null,D=3,q=!1,W=!1,tt=!1,Z=!1,ct=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function it(P){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=P)a(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function gt(P){if(tt=!1,it(P),!W)if(i(v)!==null)W=!0,dt||(dt=!0,k());else{var et=i(_);et!==null&&X(gt,et.startTime-P)}}var dt=!1,w=-1,S=5,C=-1;function M(){return Z?!0:!(r.unstable_now()-C<S)}function V(){if(Z=!1,dt){var P=r.unstable_now();C=P;var et=!0;try{t:{W=!1,tt&&(tt=!1,ft(w),w=-1),q=!0;var rt=D;try{e:{for(it(P),x=i(v);x!==null&&!(x.expirationTime>P&&M());){var wt=x.callback;if(typeof wt=="function"){x.callback=null,D=x.priorityLevel;var bt=wt(x.expirationTime<=P);if(P=r.unstable_now(),typeof bt=="function"){x.callback=bt,it(P),et=!0;break e}x===i(v)&&a(v),it(P)}else a(v);x=i(v)}if(x!==null)et=!0;else{var I=i(_);I!==null&&X(gt,I.startTime-P),et=!1}}break t}finally{x=null,D=rt,q=!1}et=void 0}}finally{et?k():dt=!1}}}var k;if(typeof nt=="function")k=function(){nt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Qt=R.port2;R.port1.onmessage=V,k=function(){Qt.postMessage(null)}}else k=function(){ct(V,0)};function X(P,et){w=ct(function(){P(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(P){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var rt=D;D=et;try{return P()}finally{D=rt}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(P,et){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var rt=D;D=P;try{return et()}finally{D=rt}},r.unstable_scheduleCallback=function(P,et,rt){var wt=r.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?wt+rt:wt):rt=wt,P){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=rt+bt,P={id:A++,callback:et,priorityLevel:P,startTime:rt,expirationTime:bt,sortIndex:-1},rt>wt?(P.sortIndex=rt,e(_,P),i(v)===null&&P===i(_)&&(tt?(ft(w),w=-1):tt=!0,X(gt,rt-wt))):(P.sortIndex=bt,e(v,P),W||q||(W=!0,dt||(dt=!0,k()))),P},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(P){var et=D;return function(){var rt=D;D=et;try{return P.apply(this,arguments)}finally{D=rt}}}})(Kf)),Kf}var $y;function bE(){return $y||($y=1,Xf.exports=vE()),Xf.exports}var Zf={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function EE(){if(Wy)return Xe;Wy=1;var r=Od();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Xe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Xe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Xe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Xe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,x=p(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:D,fetchPriority:q}):A==="script"&&a.d.X(v,{crossOrigin:x,integrity:D,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Xe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,x=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Xe.requestFormReset=function(v){a.d.r(v)},Xe.unstable_batchedUpdates=function(v,_){return v(_)},Xe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var t_;function TE(){if(t_)return Zf.exports;t_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zf.exports=EE(),Zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function AE(){if(e_)return Kl;e_=1;var r=bE(),e=Od(),i=TE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,D=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),ft=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Qt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case ct:return"Profiler";case Z:return"StrictMode";case gt:return"Suspense";case dt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case nt:return t.displayName||"Context";case ft:return(t._context.displayName||"Context")+".Consumer";case it:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:Qt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Qt(t(n))}catch{}}return null}var X=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},wt=[],bt=-1;function I(t){return{current:t}}function Q(t){0>bt||(t.current=wt[bt],wt[bt]=null,bt--)}function at(t,n){bt++,wt[bt]=t.current,t.current=n}var ut=I(null),Et=I(null),Nt=I(null),Lt=I(null);function Ie(t,n){switch(at(Nt,n),at(Et,t),at(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?py(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=py(n),t=yy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ut),at(ut,t)}function re(){Q(ut),Q(Et),Q(Nt)}function Ys(t){t.memoizedState!==null&&at(Lt,t);var n=ut.current,s=yy(n,t.type);n!==s&&(at(Et,t),at(ut,s))}function Ur(t){Et.current===t&&(Q(ut),Q(Et)),Lt.current===t&&(Q(Lt),Fl._currentValue=rt)}var Lr,zr;function $n(t){if(Lr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Lr=n&&n[1]||"",zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lr+t+zr}var Fa=!1;function Xs(t,n){if(!t||Fa)return"";Fa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(F){var B=F}Reflect.construct(t,[],K)}else{try{K.call()}catch(F){B=F}t.call(K.prototype)}}else{try{throw Error()}catch(F){B=F}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),z=E.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===z.length)for(l=N.length-1,c=z.length-1;1<=l&&0<=c&&N[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==z[c]){var G=`
`+N[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Fa=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?$n(s):""}function Ga(t,n){switch(t.tag){case 26:case 27:case 5:return $n(t.type);case 16:return $n("Lazy");case 13:return t.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return Xs(t.type,!1);case 11:return Xs(t.type.render,!1);case 1:return Xs(t.type,!0);case 31:return $n("Activity");default:return""}}function Qa(t){try{var n="",s=null;do n+=Ga(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,$i=r.unstable_cancelCallback,Qc=r.unstable_shouldYield,wo=r.unstable_requestPaint,$e=r.unstable_now,Ks=r.unstable_getCurrentPriorityLevel,Ya=r.unstable_ImmediatePriority,Xa=r.unstable_UserBlockingPriority,Wi=r.unstable_NormalPriority,Yc=r.unstable_LowPriority,Ro=r.unstable_IdlePriority,Co=r.log,No=r.unstable_setDisableYieldValue,Ln=null,ze=null;function Sn(t){if(typeof Co=="function"&&No(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,t)}catch{}}var de=Math.clz32?Math.clz32:Io,Do=Math.log,Br=Math.LN2;function Io(t){return t>>>=0,t===0?32:31-(Do(t)/Br|0)|0}var Wn=256,Zs=262144,ve=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=ti(l):(g&=E,g!==0?c=ti(g):s||(s=E&~t,s!==0&&(c=ti(s))))):(E=l&~f,E!==0?c=ti(E):g!==0?c=ti(g):s||(s=l&~t,s!==0&&(c=ti(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function ni(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Js(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(s=g&~s;0<s;){var G=31-de(s),K=1<<G;E[G]=0,N[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var F=B[G];F!==null&&(F.lane&=-536870913)}s&=~K}l!==0&&$s(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function $s(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-de(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Ka(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-de(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Za(t,n){var s=n&-n;return s=(s&42)!==0?1:Ws(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:By(t.type))}function Bn(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var Pn=Math.random().toString(36).slice(2),be="__reactFiber$"+Pn,je="__reactProps$"+Pn,ii="__reactContainer$"+Pn,Pr="__reactEvents$"+Pn,Zc="__reactListeners$"+Pn,Mo="__reactHandles$"+Pn,jo="__reactResources$"+Pn,si="__reactMarker$"+Pn;function qr(t){delete t[be],delete t[je],delete t[Pr],delete t[Zc],delete t[Mo]}function ri(t){var n=t[be];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ii]||s[be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Sy(t);t!==null;){if(s=t[be])return s;t=Sy(t)}return n}t=s,s=t.parentNode}return null}function xn(t){if(t=t[be]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ai(t){var n=t[jo];return n||(n=t[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[si]=!0}var Ja=new Set,$a={};function li(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for($a[t]=n,t=0;t<n.length;t++)Ja.add(n[t])}var Wa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function ko(t){return _e.call(el,t)?!0:_e.call(tl,t)?!1:Wa.test(t)?el[t]=!0:(tl[t]=!0,!1)}function Hr(t,n,s){if(ko(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function mn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Te(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ts(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=ts(t)?"checked":"value";t._valueTracker=nl(t,n,""+t[n])}}function tr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=ts(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var er=/[\n"\\]/g;function nn(t){return t.replace(er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fr(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ke(n)):t.value!==""+ke(n)&&(t.value=""+ke(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?il(t,g,ke(n)):s!=null?il(t,g,ke(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ke(E):t.removeAttribute("name")}function Uo(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(t);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function il(t,n,s){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function es(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Lo(t,n,s){if(n!=null&&(n=""+ke(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+ke(s):""}function ns(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(X(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ke(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Yt(t)}function sn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||zo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function rl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&sl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&sl(t,f,n[f])}function Gr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qr(t){return is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var al=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ss=null,ci=null;function nr(t){var n=xn(t);if(n&&(t=n.stateNode)){var s=t[je]||null;t:switch(t=n.stateNode,n.type){case"input":if(Fr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[je]||null;if(!c)throw Error(a(90));Fr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&tr(l)}break t;case"textarea":Lo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&es(t,!!s.multiple,n,!1)}}}var Yr=!1;function rs(t,n,s){if(Yr)return t(n,s);Yr=!0;try{var l=t(n);return l}finally{if(Yr=!1,(ss!==null||ci!==null)&&(Ou(),ss&&(n=ss,t=ci,ci=ss=null,nr(n),t)))for(n=0;n<t.length;n++)nr(t[n])}}function Hn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[je]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ir=!1;if(Rn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){ir=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{ir=!1}var hi=null,ll=null,sr=null;function ol(){if(sr)return sr;var t,n=ll,s=n.length,l,c="value"in hi?hi.value:hi.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return sr=c.slice(t,1<l?1-l:void 0)}function rr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Fn(){return!1}function Be(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ii:Fn,this.isPropagationStopped=Fn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Be(Vi),as=x({},Vi,{view:0,detail:0}),ul=Be(as),ls,Xr,di,Kr=x({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(ls=t.screenX-di.screenX,Xr=t.screenY-di.screenY):Xr=ls=0,di=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:Xr}}),cl=Be(Kr),ar=x({},Kr,{dataTransfer:0}),Po=Be(ar),qo=x({},as,{relatedTarget:0}),lr=Be(qo),hl=x({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=Be(hl),Zr=x({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fo=Be(Zr),Go=x({},Vi,{data:0}),mi=Be(Go),Qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Xo[t])?!!n[t]:!1}function os(){return Ko}var We=x({},as,{key:function(t){if(t.key){var n=Qo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(t){return t.type==="keypress"?rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zo=Be(We),Jo=x({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Be(Jo),u=x({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),m=Be(u),y=x({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(y),U=x({},Kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Be(U),st=x({},Vi,{newState:0,oldState:0}),Rt=Be(st),me=[9,13,27,32],Ht=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!ae,gi=Rn&&(!Ht||ae&&8<ae&&11>=ae),Gn=" ",Qn=!1;function or(t,n){switch(t){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $r=!1;function z1(t,n){switch(t){case"compositionend":return Jr(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Qn?null:t;default:return null}}function B1(t,n){if($r)return t==="compositionend"||!Ht&&or(t,n)?(t=ol(),sr=ll=hi=null,$r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!P1[t.type]:n==="textarea"}function Cm(t,n,s,l){ss?ci?ci.push(l):ci=[l]:ss=l,n=Bu(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var fl=null,dl=null;function q1(t){cy(t,0)}function $o(t){var n=dn(t);if(tr(n))return t}function Nm(t,n){if(t==="change")return n}var Dm=!1;if(Rn){var Jc;if(Rn){var $c="oninput"in document;if(!$c){var Im=document.createElement("div");Im.setAttribute("oninput","return;"),$c=typeof Im.oninput=="function"}Jc=$c}else Jc=!1;Dm=Jc&&(!document.documentMode||9<document.documentMode)}function Vm(){fl&&(fl.detachEvent("onpropertychange",Om),dl=fl=null)}function Om(t){if(t.propertyName==="value"&&$o(dl)){var n=[];Cm(n,dl,t,wn(t)),rs(q1,n)}}function H1(t,n,s){t==="focusin"?(Vm(),fl=n,dl=s,fl.attachEvent("onpropertychange",Om)):t==="focusout"&&Vm()}function F1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $o(dl)}function G1(t,n){if(t==="click")return $o(n)}function Q1(t,n){if(t==="input"||t==="change")return $o(n)}function Y1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:Y1;function ml(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!_e.call(n,c)||!gn(t[c],n[c]))return!1}return!0}function Mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jm(t,n){var s=Mm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Mm(s)}}function km(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?km(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ui(t.document)}return n}function Wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var X1=Rn&&"documentMode"in document&&11>=document.documentMode,Wr=null,th=null,gl=null,eh=!1;function Lm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;eh||Wr==null||Wr!==ui(l)||(l=Wr,"selectionStart"in l&&Wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=Bu(th,"onSelect"),0<l.length&&(n=new fi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Wr)))}function ur(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ta={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},nh={},zm={};Rn&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function cr(t){if(nh[t])return nh[t];if(!ta[t])return t;var n=ta[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in zm)return nh[t]=n[s];return t}var Bm=cr("animationend"),Pm=cr("animationiteration"),qm=cr("animationstart"),K1=cr("transitionrun"),Z1=cr("transitionstart"),J1=cr("transitioncancel"),Hm=cr("transitionend"),Fm=new Map,ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ih.push("scrollEnd");function Yn(t,n){Fm.set(t,n),li(n,[t])}var Wo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],ea=0,sh=0;function tu(){for(var t=ea,n=sh=ea=0;n<t;){var s=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var c=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Gm(s,c,f)}}function eu(t,n,s,l){Nn[ea++]=t,Nn[ea++]=n,Nn[ea++]=s,Nn[ea++]=l,sh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rh(t,n,s,l){return eu(t,n,s,l),nu(t)}function hr(t,n){return eu(t,null,null,n),nu(t)}function Gm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-de(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function nu(t){if(50<Ul)throw Ul=0,gf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var na={};function $1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,l){return new $1(t,n,s,l)}function ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Qm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function iu(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")ah(t)&&(g=1);else if(typeof t=="string")g=iE(t,s,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=pn(31,s,n,c),t.elementType=C,t.lanes=f,t;case tt:return fr(s.children,c,f,n);case Z:g=8,c|=24;break;case ct:return t=pn(12,s,n,c|2),t.elementType=ct,t.lanes=f,t;case gt:return t=pn(13,s,n,c),t.elementType=gt,t.lanes=f,t;case dt:return t=pn(19,s,n,c),t.elementType=dt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:g=10;break t;case ft:g=9;break t;case it:g=11;break t;case w:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=pn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function fr(t,n,s,l){return t=pn(7,t,l,n),t.lanes=s,t}function lh(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function Ym(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function oh(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xm=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var s=Xm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Qa(n)},Xm.set(t,n),n)}return{value:t,source:n,stack:Qa(n)}}var ia=[],sa=0,su=null,pl=0,In=[],Vn=0,us=null,pi=1,yi="";function ji(t,n){ia[sa++]=pl,ia[sa++]=su,su=t,pl=n}function Km(t,n,s){In[Vn++]=pi,In[Vn++]=yi,In[Vn++]=us,us=t;var l=pi;t=yi;var c=32-de(l)-1;l&=~(1<<c),s+=1;var f=32-de(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,pi=1<<32-de(n)+c|s<<c|l,yi=f+t}else pi=1<<f|s<<c|l,yi=t}function uh(t){t.return!==null&&(ji(t,1),Km(t,1,0))}function ch(t){for(;t===su;)su=ia[--sa],ia[sa]=null,pl=ia[--sa],ia[sa]=null;for(;t===us;)us=In[--Vn],In[Vn]=null,yi=In[--Vn],In[Vn]=null,pi=In[--Vn],In[Vn]=null}function Zm(t,n){In[Vn++]=pi,In[Vn++]=yi,In[Vn++]=us,pi=n.id,yi=n.overflow,us=t}var Pe=null,ne=null,Ut=!1,cs=null,On=!1,hh=Error(a(519));function hs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Dn(n,t)),hh}function Jm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[be]=t,n[je]=l,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<zl.length;s++)Vt(zl[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Uo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ns(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||my(n.textContent,s)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||hs(t,!0)}function $m(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Pe=Pe.return}}function ra(t){if(t!==Pe)return!1;if(!Ut)return $m(t),Ut=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Df(t.type,t.memoizedProps)),s=!s),s&&ne&&hs(t),$m(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ne=Ay(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ne=Ay(t)}else n===27?(n=ne,xs(t.type)?(t=jf,jf=null,ne=t):ne=n):ne=Pe?jn(t.stateNode.nextSibling):null;return!0}function dr(){ne=Pe=null,Ut=!1}function fh(){var t=cs;return t!==null&&(on===null?on=t:on.push.apply(on,t),cs=null),t}function yl(t){cs===null?cs=[t]:cs.push(t)}var dh=I(null),mr=null,ki=null;function fs(t,n,s){at(dh,n._currentValue),n._currentValue=s}function Ui(t){t._currentValue=dh.current,Q(dh)}function mh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function gh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),mh(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),mh(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function aa(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;gn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Lt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}c=c.return}t!==null&&gh(n,t,s,l),n.flags|=262144}function ru(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gr(t){mr=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Wm(mr,t)}function au(t,n){return mr===null&&gr(t),Wm(t,n)}function Wm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(t===null)throw Error(a(308));ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ki=ki.next=n;return s}var W1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},tb=r.unstable_scheduleCallback,eb=r.unstable_NormalPriority,Ae={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new W1,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&tb(eb,function(){t.controller.abort()})}var vl=null,yh=0,la=0,oa=null;function nb(t,n){if(vl===null){var s=vl=[];yh=0,la=Ef(),oa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yh++,n.then(tg,tg),n}function tg(){if(--yh===0&&vl!==null){oa!==null&&(oa.status="fulfilled");var t=vl;vl=null,la=0,oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ib(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var eg=P.S;P.S=function(t,n){Lp=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nb(t,n),eg!==null&&eg(t,n)};var pr=I(null);function _h(){var t=pr.current;return t!==null?t:te.pooledCache}function lu(t,n){n===null?at(pr,pr.current):at(pr,n.pool)}function ng(){var t=_h();return t===null?null:{parent:Ae._currentValue,pool:t}}var ua=Error(a(460)),vh=Error(a(474)),ou=Error(a(542)),uu={then:function(){}};function ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t}throw _r=n,ua}}function yr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(_r=s,ua):s}}var _r=null;function rg(){if(_r===null)throw Error(a(459));var t=_r;return _r=null,t}function ag(t){if(t===ua||t===ou)throw Error(a(483))}var ca=null,bl=0;function cu(t){var n=bl;return bl+=1,ca===null&&(ca=[]),sg(ca,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function hu(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function lg(t){function n(j,O){if(t){var L=j.deletions;L===null?(j.deletions=[O],j.flags|=16):L.push(O)}}function s(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function c(j,O){return j=Mi(j,O),j.index=0,j.sibling=null,j}function f(j,O,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<O?(j.flags|=67108866,O):L):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,L,Y){return O===null||O.tag!==6?(O=lh(L,j.mode,Y),O.return=j,O):(O=c(O,L),O.return=j,O)}function N(j,O,L,Y){var pt=L.type;return pt===tt?G(j,O,L.props.children,Y,L.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&yr(pt)===O.type)?(O=c(O,L.props),El(O,L),O.return=j,O):(O=iu(L.type,L.key,L.props,null,j.mode,Y),El(O,L),O.return=j,O)}function z(j,O,L,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=oh(L,j.mode,Y),O.return=j,O):(O=c(O,L.children||[]),O.return=j,O)}function G(j,O,L,Y,pt){return O===null||O.tag!==7?(O=fr(L,j.mode,Y,pt),O.return=j,O):(O=c(O,L),O.return=j,O)}function K(j,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=lh(""+O,j.mode,L),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return L=iu(O.type,O.key,O.props,null,j.mode,L),El(L,O),L.return=j,L;case W:return O=oh(O,j.mode,L),O.return=j,O;case S:return O=yr(O),K(j,O,L)}if(X(O)||k(O))return O=fr(O,j.mode,L,null),O.return=j,O;if(typeof O.then=="function")return K(j,cu(O),L);if(O.$$typeof===nt)return K(j,au(j,O),L);hu(j,O)}return null}function B(j,O,L,Y){var pt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pt!==null?null:E(j,O,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===pt?N(j,O,L,Y):null;case W:return L.key===pt?z(j,O,L,Y):null;case S:return L=yr(L),B(j,O,L,Y)}if(X(L)||k(L))return pt!==null?null:G(j,O,L,Y,null);if(typeof L.then=="function")return B(j,O,cu(L),Y);if(L.$$typeof===nt)return B(j,O,au(j,L),Y);hu(j,L)}return null}function F(j,O,L,Y,pt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(L)||null,E(O,j,""+Y,pt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return j=j.get(Y.key===null?L:Y.key)||null,N(O,j,Y,pt);case W:return j=j.get(Y.key===null?L:Y.key)||null,z(O,j,Y,pt);case S:return Y=yr(Y),F(j,O,L,Y,pt)}if(X(Y)||k(Y))return j=j.get(L)||null,G(O,j,Y,pt,null);if(typeof Y.then=="function")return F(j,O,L,cu(Y),pt);if(Y.$$typeof===nt)return F(j,O,L,au(O,Y),pt);hu(O,Y)}return null}function ht(j,O,L,Y){for(var pt=null,Pt=null,mt=O,Dt=O=0,Mt=null;mt!==null&&Dt<L.length;Dt++){mt.index>Dt?(Mt=mt,mt=null):Mt=mt.sibling;var qt=B(j,mt,L[Dt],Y);if(qt===null){mt===null&&(mt=Mt);break}t&&mt&&qt.alternate===null&&n(j,mt),O=f(qt,O,Dt),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt,mt=Mt}if(Dt===L.length)return s(j,mt),Ut&&ji(j,Dt),pt;if(mt===null){for(;Dt<L.length;Dt++)mt=K(j,L[Dt],Y),mt!==null&&(O=f(mt,O,Dt),Pt===null?pt=mt:Pt.sibling=mt,Pt=mt);return Ut&&ji(j,Dt),pt}for(mt=l(mt);Dt<L.length;Dt++)Mt=F(mt,j,Dt,L[Dt],Y),Mt!==null&&(t&&Mt.alternate!==null&&mt.delete(Mt.key===null?Dt:Mt.key),O=f(Mt,O,Dt),Pt===null?pt=Mt:Pt.sibling=Mt,Pt=Mt);return t&&mt.forEach(function(Ds){return n(j,Ds)}),Ut&&ji(j,Dt),pt}function _t(j,O,L,Y){if(L==null)throw Error(a(151));for(var pt=null,Pt=null,mt=O,Dt=O=0,Mt=null,qt=L.next();mt!==null&&!qt.done;Dt++,qt=L.next()){mt.index>Dt?(Mt=mt,mt=null):Mt=mt.sibling;var Ds=B(j,mt,qt.value,Y);if(Ds===null){mt===null&&(mt=Mt);break}t&&mt&&Ds.alternate===null&&n(j,mt),O=f(Ds,O,Dt),Pt===null?pt=Ds:Pt.sibling=Ds,Pt=Ds,mt=Mt}if(qt.done)return s(j,mt),Ut&&ji(j,Dt),pt;if(mt===null){for(;!qt.done;Dt++,qt=L.next())qt=K(j,qt.value,Y),qt!==null&&(O=f(qt,O,Dt),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt);return Ut&&ji(j,Dt),pt}for(mt=l(mt);!qt.done;Dt++,qt=L.next())qt=F(mt,j,Dt,qt.value,Y),qt!==null&&(t&&qt.alternate!==null&&mt.delete(qt.key===null?Dt:qt.key),O=f(qt,O,Dt),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt);return t&&mt.forEach(function(mE){return n(j,mE)}),Ut&&ji(j,Dt),pt}function Wt(j,O,L,Y){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var pt=L.key;O!==null;){if(O.key===pt){if(pt=L.type,pt===tt){if(O.tag===7){s(j,O.sibling),Y=c(O,L.props.children),Y.return=j,j=Y;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&yr(pt)===O.type){s(j,O.sibling),Y=c(O,L.props),El(Y,L),Y.return=j,j=Y;break t}s(j,O);break}else n(j,O);O=O.sibling}L.type===tt?(Y=fr(L.props.children,j.mode,Y,L.key),Y.return=j,j=Y):(Y=iu(L.type,L.key,L.props,null,j.mode,Y),El(Y,L),Y.return=j,j=Y)}return g(j);case W:t:{for(pt=L.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(j,O.sibling),Y=c(O,L.children||[]),Y.return=j,j=Y;break t}else{s(j,O);break}else n(j,O);O=O.sibling}Y=oh(L,j.mode,Y),Y.return=j,j=Y}return g(j);case S:return L=yr(L),Wt(j,O,L,Y)}if(X(L))return ht(j,O,L,Y);if(k(L)){if(pt=k(L),typeof pt!="function")throw Error(a(150));return L=pt.call(L),_t(j,O,L,Y)}if(typeof L.then=="function")return Wt(j,O,cu(L),Y);if(L.$$typeof===nt)return Wt(j,O,au(j,L),Y);hu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(j,O.sibling),Y=c(O,L),Y.return=j,j=Y):(s(j,O),Y=lh(L,j.mode,Y),Y.return=j,j=Y),g(j)):s(j,O)}return function(j,O,L,Y){try{bl=0;var pt=Wt(j,O,L,Y);return ca=null,pt}catch(mt){if(mt===ua||mt===ou)throw mt;var Pt=pn(29,mt,null,j.mode);return Pt.lanes=Y,Pt.return=j,Pt}finally{}}}var vr=lg(!0),og=lg(!1),ds=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=nu(t),Gm(t,null,s),n}return eu(t,l,n,s),nu(t)}function Tl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Ka(t,s)}}function Th(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Ah=!1;function Al(){if(Ah){var t=oa;if(t!==null)throw t}}function Sl(t,n,s,l){Ah=!1;var c=t.updateQueue;ds=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var N=E,z=N.next;N.next=null,g===null?f=z:g.next=z,g=N;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=N))}if(f!==null){var K=c.baseState;g=0,G=z=N=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Ot&B)===B:(l&B)===B){B!==0&&B===la&&(Ah=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=t,_t=E;B=n;var Wt=s;switch(_t.tag){case 1:if(ht=_t.payload,typeof ht=="function"){K=ht.call(Wt,K,B);break t}K=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=_t.payload,B=typeof ht=="function"?ht.call(Wt,K,B):ht,B==null)break t;K=x({},K,B);break t;case 2:ds=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=c.callbacks,F===null?c.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=F,N=K):G=G.next=F,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;F=E,E=F.next,F.next=null,c.lastBaseUpdate=F,c.shared.pending=null}}while(!0);G===null&&(N=K),c.baseState=N,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),bs|=g,t.lanes=g,t.memoizedState=K}}function ug(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function cg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ug(s[t],n)}var ha=I(null),fu=I(0);function hg(t,n){t=Qi,at(fu,t),at(ha,n),Qi=t|n.baseLanes}function Sh(){at(fu,Qi),at(ha,ha.current)}function xh(){Qi=fu.current,Q(ha),Q(fu)}var yn=I(null),Mn=null;function ps(t){var n=t.alternate;at(ge,ge.current&1),at(yn,t),Mn===null&&(n===null||ha.current!==null||n.memoizedState!==null)&&(Mn=t)}function wh(t){at(ge,ge.current),at(yn,t),Mn===null&&(Mn=t)}function fg(t){t.tag===22?(at(ge,ge.current),at(yn,t),Mn===null&&(Mn=t)):ys()}function ys(){at(ge,ge.current),at(yn,yn.current)}function _n(t){Q(yn),Mn===t&&(Mn=null),Q(ge)}var ge=I(0);function du(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Of(s)||Mf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Ct=null,Jt=null,Se=null,mu=!1,fa=!1,br=!1,gu=0,xl=0,da=null,sb=0;function ue(){throw Error(a(321))}function Rh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!gn(t[s],n[s]))return!1;return!0}function Ch(t,n,s,l,c,f){return Li=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=t===null||t.memoizedState===null?Kg:Hh,br=!1,f=s(l,c),br=!1,fa&&(f=mg(n,s,l,c)),dg(t),f}function dg(t){P.H=Cl;var n=Jt!==null&&Jt.next!==null;if(Li=0,Se=Jt=Ct=null,mu=!1,xl=0,da=null,n)throw Error(a(300));t===null||xe||(t=t.dependencies,t!==null&&ru(t)&&(xe=!0))}function mg(t,n,s,l){Ct=t;var c=0;do{if(fa&&(da=null),xl=0,fa=!1,25<=c)throw Error(a(301));if(c+=1,Se=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=Zg,f=n(s,l)}while(fa);return f}function rb(){var t=P.H,n=t.useState()[0];return n=typeof n.then=="function"?wl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Nh(){var t=gu!==0;return gu=0,t}function Dh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Ih(t){if(mu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}mu=!1}Li=0,Se=Jt=Ct=null,fa=!1,xl=gu=0,da=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=t:Se=Se.next=t,Se}function pe(){if(Jt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Se===null?Ct.memoizedState:Se.next;if(n!==null)Se=n,Jt=t;else{if(t===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Se===null?Ct.memoizedState=Se=t:Se=Se.next=t}return Se}function pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var n=xl;return xl+=1,da===null&&(da=[]),t=sg(da,t,n),n=Ct,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Kg:Hh),t}function yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===nt)return qe(t)}throw Error(a(438,String(t)))}function Vh(t){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=pu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function zi(t,n){return typeof n=="function"?n(t):n}function _u(t){var n=pe();return Oh(n,Jt,t)}function Oh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,N=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ot&K)===K:(Li&K)===K){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===la&&(G=!0);else if((Li&B)===B){z=z.next,B===la&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=K,g=f):N=N.next=K,Ct.lanes|=B,bs|=B;K=z.action,br&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else B={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=B,g=f):N=N.next=B,Ct.lanes|=K,bs|=K;z=z.next}while(z!==null&&z!==n);if(N===null?g=f:N.next=E,!gn(f,t.memoizedState)&&(xe=!0,G&&(s=oa,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mh(t){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);gn(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function gg(t,n,s){var l=Ct,c=pe(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!gn((Jt||c).memoizedState,s);if(g&&(c.memoizedState=s,xe=!0),c=c.queue,Uh(_g.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,ma(9,{destroy:void 0},yg.bind(null,l,c,s,n),null),te===null)throw Error(a(349));f||(Li&127)!==0||pg(l,n,s)}return s}function pg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=pu(),Ct.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function yg(t,n,s,l){n.value=s,n.getSnapshot=l,vg(n)&&bg(t)}function _g(t,n,s){return s(function(){vg(n)&&bg(t)})}function vg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!gn(t,s)}catch{return!0}}function bg(t){var n=hr(t,2);n!==null&&un(n,t,2)}function jh(t){var n=tn();if(typeof t=="function"){var s=t;if(t=s(),br){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n}function Eg(t,n,s,l){return t.baseState=s,Oh(t,Jt,typeof l=="function"?l:zi)}function ab(t,n,s,l,c){if(Eu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};P.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Tg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Tg(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=P.T,g={};P.T=g;try{var E=s(c,l),N=P.S;N!==null&&N(g,E),Ag(t,n,E)}catch(z){kh(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),P.T=f}}else try{f=s(c,l),Ag(t,n,f)}catch(z){kh(t,n,z)}}function Ag(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Sg(t,n,l)},function(l){return kh(t,n,l)}):Sg(t,n,s)}function Sg(t,n,s){n.status="fulfilled",n.value=s,xg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Tg(t,s)))}function kh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,xg(n),n=n.next;while(n!==l)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function wg(t,n){return n}function Rg(t,n){if(Ut){var s=te.formState;if(s!==null){t:{var l=Ct;if(Ut){if(ne){e:{for(var c=ne,f=On;c.nodeType!==8;){if(!f){c=null;break e}if(c=jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=jn(c.nextSibling),l=c.data==="F!";break t}}hs(l)}l=!1}l&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},s.queue=l,s=Qg.bind(null,Ct,l),l.dispatch=s,l=jh(!1),f=qh.bind(null,Ct,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=ab.bind(null,Ct,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Cg(t){var n=pe();return Ng(n,Jt,t)}function Ng(t,n,s){if(n=Oh(t,n,wg)[0],t=_u(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=wl(n)}catch(g){throw g===ua?ou:g}else l=n;n=pe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,ma(9,{destroy:void 0},lb.bind(null,c,s),null)),[l,f,t]}function lb(t,n){t.action=n}function Dg(t){var n=pe(),s=Jt;if(s!==null)return Ng(n,s,t);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ma(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=pu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Ig(){return pe().memoizedState}function vu(t,n,s,l){var c=tn();Ct.flags|=t,c.memoizedState=ma(1|n,{destroy:void 0},s,l===void 0?null:l)}function bu(t,n,s,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&Rh(l,Jt.memoizedState.deps)?c.memoizedState=ma(n,f,s,l):(Ct.flags|=t,c.memoizedState=ma(1|n,f,s,l))}function Vg(t,n){vu(8390656,8,t,n)}function Uh(t,n){bu(2048,8,t,n)}function ob(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=pu(),Ct.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Og(t){var n=pe().memoizedState;return ob({ref:n,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Mg(t,n){return bu(4,2,t,n)}function jg(t,n){return bu(4,4,t,n)}function kg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ug(t,n,s){s=s!=null?s.concat([t]):null,bu(4,4,kg.bind(null,n,t),s)}function Lh(){}function Lg(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Rh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function zg(t,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Rh(n,l[1]))return l[0];if(l=t(),br){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[l,n],l}function zh(t,n,s){return s===void 0||(Li&1073741824)!==0&&(Ot&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Bp(),Ct.lanes|=t,bs|=t,s)}function Bg(t,n,s,l){return gn(s,n)?s:ha.current!==null?(t=zh(t,s,l),gn(t,n)||(xe=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Ot&261930)===0?(xe=!0,t.memoizedState=s):(t=Bp(),Ct.lanes|=t,bs|=t,n)}function Pg(t,n,s,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=P.T,E={};P.T=E,qh(t,!1,n,s);try{var N=c(),z=P.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=ib(N,l);Rl(t,n,G,En(t))}else Rl(t,n,l,En(t))}catch(K){Rl(t,n,{then:function(){},status:"rejected",reason:K},En())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),P.T=g}}function ub(){}function Bh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=qg(t).queue;Pg(t,c,n,rt,s===null?ub:function(){return Hg(t),s(l)})}function qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:rt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hg(t){var n=qg(t);n.next===null&&(n=t.alternate.memoizedState),Rl(t,n.next.queue,{},En())}function Ph(){return qe(Fl)}function Fg(){return pe().memoizedState}function Gg(){return pe().memoizedState}function cb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();t=ms(s);var l=gs(n,t,s);l!==null&&(un(l,n,s),Tl(l,n,s)),n={cache:ph()},t.payload=n;return}n=n.return}}function hb(t,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Eu(t)?Yg(n,s):(s=rh(t,n,s,l),s!==null&&(un(s,t,l),Xg(s,n,l)))}function Qg(t,n,s){var l=En();Rl(t,n,s,l)}function Rl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))Yg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,gn(E,g))return eu(t,n,c,0),te===null&&tu(),!1}catch{}finally{}if(s=rh(t,n,c,l),s!==null)return un(s,t,l),Xg(s,n,l),!0}return!1}function qh(t,n,s,l){if(l={lane:2,revertLane:Ef(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Eu(t)){if(n)throw Error(a(479))}else n=rh(t,s,l,2),n!==null&&un(n,t,2)}function Eu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Yg(t,n){fa=mu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Xg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Ka(t,s)}}var Cl={readContext:qe,use:yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Cl.useEffectEvent=ue;var Kg={readContext:qe,use:yu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Vg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,vu(4194308,4,kg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return vu(4194308,4,t,n)},useInsertionEffect:function(t,n){vu(4,2,t,n)},useMemo:function(t,n){var s=tn();n=n===void 0?null:n;var l=t();if(br){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=tn();if(s!==void 0){var c=s(n);if(br){Sn(!0);try{s(n)}finally{Sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=hb.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=jh(t);var n=t.queue,s=Qg.bind(null,Ct,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Lh,useDeferredValue:function(t,n){var s=tn();return zh(s,t,n)},useTransition:function(){var t=jh(!1);return t=Pg.bind(null,Ct,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ct,c=tn();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Ot&127)!==0||pg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Vg(_g.bind(null,l,f,t),[t]),l.flags|=2048,ma(9,{destroy:void 0},yg.bind(null,l,f,s,n),null),s},useId:function(){var t=tn(),n=te.identifierPrefix;if(Ut){var s=yi,l=pi;s=(l&~(1<<32-de(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=sb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ph,useFormState:Rg,useActionState:Rg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=qh.bind(null,Ct,!0,s),s.dispatch=n,[t,n]},useMemoCache:Vh,useCacheRefresh:function(){return tn().memoizedState=cb.bind(null,Ct)},useEffectEvent:function(t){var n=tn(),s={impl:t};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Hh={readContext:qe,use:yu,useCallback:Lg,useContext:qe,useEffect:Uh,useImperativeHandle:Ug,useInsertionEffect:Mg,useLayoutEffect:jg,useMemo:zg,useReducer:_u,useRef:Ig,useState:function(){return _u(zi)},useDebugValue:Lh,useDeferredValue:function(t,n){var s=pe();return Bg(s,Jt.memoizedState,t,n)},useTransition:function(){var t=_u(zi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:wl(t),n]},useSyncExternalStore:gg,useId:Fg,useHostTransitionStatus:Ph,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var s=pe();return Eg(s,Jt,t,n)},useMemoCache:Vh,useCacheRefresh:Gg};Hh.useEffectEvent=Og;var Zg={readContext:qe,use:yu,useCallback:Lg,useContext:qe,useEffect:Uh,useImperativeHandle:Ug,useInsertionEffect:Mg,useLayoutEffect:jg,useMemo:zg,useReducer:Mh,useRef:Ig,useState:function(){return Mh(zi)},useDebugValue:Lh,useDeferredValue:function(t,n){var s=pe();return Jt===null?zh(s,t,n):Bg(s,Jt.memoizedState,t,n)},useTransition:function(){var t=Mh(zi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:wl(t),n]},useSyncExternalStore:gg,useId:Fg,useHostTransitionStatus:Ph,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var s=pe();return Jt!==null?Eg(s,Jt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Vh,useCacheRefresh:Gg};Zg.useEffectEvent=Og;function Fh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:x({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Gh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=En(),c=ms(l);c.payload=n,s!=null&&(c.callback=s),n=gs(t,c,l),n!==null&&(un(n,t,l),Tl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=En(),c=ms(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=gs(t,c,l),n!==null&&(un(n,t,l),Tl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=En(),l=ms(s);l.tag=2,n!=null&&(l.callback=n),n=gs(t,l,s),n!==null&&(un(n,t,s),Tl(n,t,s))}};function Jg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ml(s,l)||!ml(c,f):!0}function $g(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Gh.enqueueReplaceState(n,n.state,null)}function Er(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=x({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Wg(t){Wo(t)}function tp(t){console.error(t)}function ep(t){Wo(t)}function Tu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function np(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Qh(t,n,s){return s=ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Tu(t,n)},s}function ip(t){return t=ms(t),t.tag=3,t}function sp(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){np(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){np(n,s,l),typeof c!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function fb(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&aa(n,s,c,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Mu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),_f(t,l,c)),!1;case 22:return s.flags|=65536,l===uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),_f(t,l,c)),!1}throw Error(a(435,s.tag))}return _f(t,l,c),Mu(),!1}if(Ut)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==hh&&(t=Error(a(422),{cause:l}),yl(Dn(t,s)))):(l!==hh&&(n=Error(a(423),{cause:l}),yl(Dn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Dn(l,s),c=Qh(t.stateNode,l,c),Th(t,c),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=Dn(f,s),kl===null?kl=[f]:kl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Dn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Qh(s.stateNode,l,t),Th(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Es===null||!Es.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=ip(c),sp(c,t,s,l),Th(s,c),!1}s=s.return}while(s!==null);return!1}var Yh=Error(a(461)),xe=!1;function He(t,n,s,l){n.child=t===null?og(n,null,s,l):vr(n,t.child,s,l)}function rp(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return gr(n),l=Ch(t,n,s,g,f,c),E=Nh(),t!==null&&!xe?(Dh(t,n,c),Bi(t,n,c)):(Ut&&E&&uh(n),n.flags|=1,He(t,n,l,c),n.child)}function ap(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!ah(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,lp(t,n,f,l,c)):(t=iu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ef(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ml,s(g,l)&&t.ref===n.ref)return Bi(t,n,c)}return n.flags|=1,t=Mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function lp(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(ml(f,l)&&t.ref===n.ref)if(xe=!1,n.pendingProps=l=f,ef(t,c))(t.flags&131072)!==0&&(xe=!0);else return n.lanes=t.lanes,Bi(t,n,c)}return Xh(t,n,s,l,c)}function op(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return up(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&lu(n,f!==null?f.cachePool:null),f!==null?hg(n,f):Sh(),fg(n);else return l=n.lanes=536870912,up(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(lu(n,f.cachePool),hg(n,f),ys(),n.memoizedState=null):(t!==null&&lu(n,null),Sh(),ys());return He(t,n,c,s),n.child}function Nl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function up(t,n,s,l,c){var f=_h();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&lu(n,null),Sh(),fg(n),t!==null&&aa(t,n,l,!0),n.childLanes=c,null}function Au(t,n){return n=xu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function cp(t,n,s){return vr(n,t.child,null,s),t=Au(n,n.pendingProps),t.flags|=2,_n(n),n.memoizedState=null,t}function db(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=Au(n,l),n.lanes=536870912,Nl(null,t);if(wh(n),(t=ne)?(t=Ty(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:us!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Ym(t),s.return=n,n.child=s,Pe=n,ne=null)):t=null,t===null)throw hs(n);return n.lanes=536870912,null}return Au(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(wh(n),c)if(n.flags&256)n.flags&=-257,n=cp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(xe||aa(t,n,s,!1),c=(s&t.childLanes)!==0,xe||c){if(l=te,l!==null&&(g=Za(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,hr(t,g),un(l,t,g),Yh;Mu(),n=cp(t,n,s)}else t=f.treeContext,ne=jn(g.nextSibling),Pe=n,Ut=!0,cs=null,On=!1,t!==null&&Zm(n,t),n=Au(n,l),n.flags|=4096;return n}return t=Mi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Su(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Xh(t,n,s,l,c){return gr(n),s=Ch(t,n,s,l,void 0,c),l=Nh(),t!==null&&!xe?(Dh(t,n,c),Bi(t,n,c)):(Ut&&l&&uh(n),n.flags|=1,He(t,n,s,c),n.child)}function hp(t,n,s,l,c,f){return gr(n),n.updateQueue=null,s=mg(n,l,s,c),dg(t),l=Nh(),t!==null&&!xe?(Dh(t,n,f),Bi(t,n,f)):(Ut&&l&&uh(n),n.flags|=1,He(t,n,s,f),n.child)}function fp(t,n,s,l,c){if(gr(n),n.stateNode===null){var f=na,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},bh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):na,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Fh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Gh.enqueueReplaceState(f,f.state,null),Sl(n,l,f,c),Al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Er(s,E);f.props=N;var z=f.context,G=s.contextType;g=na,typeof G=="object"&&G!==null&&(g=qe(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&$g(n,f,l,g),ds=!1;var B=n.memoizedState;f.state=B,Sl(n,l,f,c),Al(),z=n.memoizedState,E||B!==z||ds?(typeof K=="function"&&(Fh(n,s,K,l),z=n.memoizedState),(N=ds||Jg(n,s,N,l,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Eh(t,n),g=n.memoizedProps,G=Er(s,g),f.props=G,K=n.pendingProps,B=f.context,z=s.contextType,N=na,typeof z=="object"&&z!==null&&(N=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||B!==N)&&$g(n,f,l,N),ds=!1,B=n.memoizedState,f.state=B,Sl(n,l,f,c),Al();var F=n.memoizedState;g!==K||B!==F||ds||t!==null&&t.dependencies!==null&&ru(t.dependencies)?(typeof E=="function"&&(Fh(n,s,E,l),F=n.memoizedState),(G=ds||Jg(n,s,G,l,B,F,N)||t!==null&&t.dependencies!==null&&ru(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Su(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=vr(n,t.child,null,c),n.child=vr(n,null,s,c)):He(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Bi(t,n,c),t}function dp(t,n,s,l){return dr(),n.flags|=256,He(t,n,s,l),n.child}var Kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zh(t){return{baseLanes:t,cachePool:ng()}}function Jh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=bn),t}function mp(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?ps(n):ys(),(t=ne)?(t=Ty(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:us!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Ym(t),s.return=n,n.child=s,Pe=n,ne=null)):t=null,t===null)throw hs(n);return Mf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ys(),c=n.mode,E=xu({mode:"hidden",children:E},c),l=fr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Zh(s),l.childLanes=Jh(t,g,s),n.memoizedState=Kh,Nl(null,l)):(ps(n),$h(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(ps(n),n.flags&=-257,n=Wh(t,n,s)):n.memoizedState!==null?(ys(),n.child=t.child,n.flags|=128,n=null):(ys(),E=l.fallback,c=n.mode,l=xu({mode:"visible",children:l.children},c),E=fr(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,vr(n,t.child,null,s),l=n.child,l.memoizedState=Zh(s),l.childLanes=Jh(t,g,s),n.memoizedState=Kh,n=Nl(null,l));else if(ps(n),Mf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,yl({value:l,source:null,stack:null}),n=Wh(t,n,s)}else if(xe||aa(t,n,s,!1),g=(s&t.childLanes)!==0,xe||g){if(g=te,g!==null&&(l=Za(g,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,hr(t,l),un(g,t,l),Yh;Of(E)||Mu(),n=Wh(t,n,s)}else Of(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ne=jn(E.nextSibling),Pe=n,Ut=!0,cs=null,On=!1,t!==null&&Zm(n,t),n=$h(n,l.children),n.flags|=4096);return n}return c?(ys(),E=l.fallback,c=n.mode,N=t.child,z=N.sibling,l=Mi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=Mi(z,E):(E=fr(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Nl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Zh(s):(c=E.cachePool,c!==null?(N=Ae._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=ng(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Jh(t,g,s),n.memoizedState=Kh,Nl(t.child,l)):(ps(n),s=t.child,t=s.sibling,s=Mi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function $h(t,n){return n=xu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function xu(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function Wh(t,n,s){return vr(n,t.child,null,s),t=$h(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,s)}function tf(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function pp(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,at(ge,g),He(t,n,l,s),l=Ut?pl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gp(t,s,n);else if(t.tag===19)gp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&du(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),tf(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&du(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}tf(n,!0,s,null,f,l);break;case"together":tf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(aa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Mi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Mi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function ef(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ru(t)))}function mb(t,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),fs(n,Ae,t.memoizedState.cache),dr();break;case 27:case 5:Ys(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ps(n),n.flags|=128,null):(s&n.child.childLanes)!==0?mp(t,n,s):(ps(n),t=Bi(t,n,s),t!==null?t.sibling:null);ps(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(aa(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return pp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),at(ge,ge.current),l)break;return null;case 22:return n.lanes=0,op(t,n,s,n.pendingProps);case 24:fs(n,Ae,t.memoizedState.cache)}return Bi(t,n,s)}function yp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)xe=!0;else{if(!ef(t,s)&&(n.flags&128)===0)return xe=!1,mb(t,n,s);xe=(t.flags&131072)!==0}else xe=!1,Ut&&(n.flags&1048576)!==0&&Km(n,pl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=yr(n.elementType),n.type=t,typeof t=="function")ah(t)?(l=Er(t,l),n.tag=1,n=fp(null,n,t,l,s)):(n.tag=0,n=Xh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===it){n.tag=11,n=rp(null,n,t,l,s);break t}else if(c===w){n.tag=14,n=ap(null,n,t,l,s);break t}}throw n=Qt(t)||t,Error(a(306,n,""))}}return n;case 0:return Xh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Er(l,n.pendingProps),fp(t,n,l,c,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Eh(t,n),Sl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,fs(n,Ae,l),l!==f.cache&&gh(n,[Ae],s,!0),Al(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dp(t,n,l,s);break t}else if(l!==c){c=Dn(Error(a(424)),n),yl(c),n=dp(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ne=jn(t.firstChild),Pe=n,Ut=!0,cs=null,On=!0,s=og(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(dr(),l===c){n=Bi(t,n,s);break t}He(t,n,l,s)}n=n.child}return n;case 26:return Su(t,n),t===null?(s=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,t=n.pendingProps,l=Pu(Nt.current).createElement(s),l[be]=n,l[je]=t,Fe(l,s,t),Ee(l),n.stateNode=l):n.memoizedState=Cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ys(n),t===null&&Ut&&(l=n.stateNode=xy(n.type,n.pendingProps,Nt.current),Pe=n,On=!0,c=ne,xs(n.type)?(jf=c,ne=jn(l.firstChild)):ne=c),He(t,n,n.pendingProps.children,s),Su(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=ne)&&(l=Fb(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Pe=n,ne=jn(l.firstChild),On=!1,c=!0):c=!1),c||hs(n)),Ys(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Df(c,f)?l=null:g!==null&&Df(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Ch(t,n,rb,null,null,s),Fl._currentValue=c),Su(t,n),He(t,n,l,s),n.child;case 6:return t===null&&Ut&&((t=s=ne)&&(s=Gb(s,n.pendingProps,On),s!==null?(n.stateNode=s,Pe=n,ne=null,t=!0):t=!1),t||hs(n)),null;case 13:return mp(t,n,s);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=vr(n,null,l,s):He(t,n,l,s),n.child;case 11:return rp(t,n,n.type,n.pendingProps,s);case 7:return He(t,n,n.pendingProps,s),n.child;case 8:return He(t,n,n.pendingProps.children,s),n.child;case 12:return He(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,fs(n,n.type,l.value),He(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,gr(n),c=qe(c),l=l(c),n.flags|=1,He(t,n,l,s),n.child;case 14:return ap(t,n,n.type,n.pendingProps,s);case 15:return lp(t,n,n.type,n.pendingProps,s);case 19:return pp(t,n,s);case 31:return db(t,n,s);case 22:return op(t,n,s,n.pendingProps);case 24:return gr(n),l=qe(Ae),t===null?(c=_h(),c===null&&(c=te,f=ph(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},bh(n),fs(n,Ae,c)):((t.lanes&s)!==0&&(Eh(t,n),Sl(n,null,null,s),Al()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),fs(n,Ae,l)):(l=f.cache,fs(n,Ae,l),l!==c.cache&&gh(n,[Ae],s,!0))),He(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(t){t.flags|=4}function nf(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Fp())t.flags|=8192;else throw _r=uu,vh}else t.flags&=-16777217}function _p(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Oy(n))if(Fp())t.flags|=8192;else throw _r=uu,vh}function wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Vo():536870912,t.lanes|=n,_a|=n)}function Dl(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function gb(t,n,s){var l=n.pendingProps;switch(ch(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Ae),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ra(n)?Pi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fh())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Pi(n),f!==null?(ie(n),_p(n,f)):(ie(n),nf(n,c,null,l,s))):f?f!==t.memoizedState?(Pi(n),ie(n),_p(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Pi(n),ie(n),nf(n,c,t,l,s)),null;case 27:if(Ur(n),s=Nt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}t=ut.current,ra(n)?Jm(n):(t=xy(c,l,s),n.stateNode=t,Pi(n))}return ie(n),null;case 5:if(Ur(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=ut.current,ra(n))Jm(n);else{var g=Pu(Nt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[be]=n,f[je]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Pi(n)}}return ie(n),nf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Nt.current,ra(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[be]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||my(t.nodeValue,s)),t||hs(n,!0)}else t=Pu(t).createTextNode(l),t[be]=n,n.stateNode=t}return ie(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ra(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[be]=n}else dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else s=fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ra(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[be]=n}else dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),wu(n,n.updateQueue),ie(n),null);case 4:return re(),t===null&&xf(n.stateNode.containerInfo),ie(n),null;case 10:return Ui(n.type),ie(n),null;case 19:if(Q(ge),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Dl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=du(t),f!==null){for(n.flags|=128,Dl(l,!1),t=f.updateQueue,n.updateQueue=t,wu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Qm(s,t),s=s.sibling;return at(ge,ge.current&1|2),Ut&&ji(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$e()>Iu&&(n.flags|=128,c=!0,Dl(l,!1),n.lanes=4194304)}else{if(!c)if(t=du(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,wu(n,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*$e()-l.renderingStartTime>Iu&&s!==536870912&&(n.flags|=128,c=!0,Dl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$e(),t.sibling=null,s=ge.current,at(ge,c?s&1|2:s&1),Ut&&ji(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return _n(n),xh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&wu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Q(pr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function pb(t,n){switch(ch(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(Ae),re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ur(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(_n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(ge),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return _n(n),xh(),t!==null&&Q(pr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function vp(t,n){switch(ch(n),n.tag){case 3:Ui(Ae),re();break;case 26:case 27:case 5:Ur(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Q(ge);break;case 10:Ui(n.type);break;case 22:case 23:_n(n),xh(),t!==null&&Q(pr);break;case 24:Ui(Ae)}}function Il(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Kt(n,n.return,E)}}function _s(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var N=s,z=E;try{z()}catch(G){Kt(c,N,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function bp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{cg(n,s)}catch(l){Kt(t,t.return,l)}}}function Ep(t,n,s){s.props=Er(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Vl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Kt(t,n,c)}}function _i(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Kt(t,n,c)}else s.current=null}function Tp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Kt(t,t.return,c)}}function sf(t,n,s){try{var l=t.stateNode;Lb(l,t.type,s,n),l[je]=n}catch(c){Kt(t,t.return,c)}}function Ap(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xs(t.type)||t.tag===4}function rf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&xs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(af(t,n,s),t=t.sibling;t!==null;)af(t,n,s),t=t.sibling}function Ru(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&xs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ru(t,n,s),t=t.sibling;t!==null;)Ru(t,n,s),t=t.sibling}function Sp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Fe(n,l,s),n[be]=t,n[je]=s}catch(f){Kt(t,t.return,f)}}var qi=!1,we=!1,lf=!1,xp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function yb(t,n){if(t=t.containerInfo,Cf=Xu,t=Um(t),Wc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,N=-1,z=0,G=0,K=t,B=null;e:for(;;){for(var F;K!==s||c!==0&&K.nodeType!==3||(E=g+c),K!==f||l!==0&&K.nodeType!==3||(N=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(F=K.firstChild)!==null;)B=K,K=F;for(;;){if(K===t)break e;if(B===s&&++z===c&&(E=g),B===f&&++G===l&&(N=g),(F=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=F}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Nf={focusedElem:t,selectionRange:s},Xu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ht=Er(s.type,c);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Kt(s,s.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Vf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function wp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(t,s),l&4&&Il(5,s);break;case 1:if(Fi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var c=Er(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}l&64&&bp(s),l&512&&Vl(s,s.return);break;case 3:if(Fi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{cg(t,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&l&4&&Sp(s);case 26:case 5:Fi(t,s),n===null&&l&4&&Tp(s),l&512&&Vl(s,s.return);break;case 12:Fi(t,s);break;case 31:Fi(t,s),l&4&&Np(t,s);break;case 13:Fi(t,s),l&4&&Dp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=wb.bind(null,s),Qb(t,s))));break;case 22:if(l=s.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||we,c=qi;var f=we;qi=l,(we=n)&&!f?Gi(t,s,(s.subtreeFlags&8772)!==0):Fi(t,s),qi=c,we=f}break;case 30:break;default:Fi(t,s)}}function Rp(t){var n=t.alternate;n!==null&&(t.alternate=null,Rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,rn=!1;function Hi(t,n,s){for(s=s.child;s!==null;)Cp(t,n,s),s=s.sibling}function Cp(t,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:we||_i(s,n),Hi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||_i(s,n);var l=le,c=rn;xs(s.type)&&(le=s.stateNode,rn=!1),Hi(t,n,s),Pl(s.stateNode),le=l,rn=c;break;case 5:we||_i(s,n);case 6:if(l=le,c=rn,le=null,Hi(t,n,s),le=l,rn=c,le!==null)if(rn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:le!==null&&(rn?(t=le,by(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),wa(t)):by(le,s.stateNode));break;case 4:l=le,c=rn,le=s.stateNode.containerInfo,rn=!0,Hi(t,n,s),le=l,rn=c;break;case 0:case 11:case 14:case 15:_s(2,s,n),we||_s(4,s,n),Hi(t,n,s);break;case 1:we||(_i(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ep(s,n,l)),Hi(t,n,s);break;case 21:Hi(t,n,s);break;case 22:we=(l=we)||s.memoizedState!==null,Hi(t,n,s),we=l;break;default:Hi(t,n,s)}}function Np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wa(t)}catch(s){Kt(n,n.return,s)}}}function Dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wa(t)}catch(s){Kt(n,n.return,s)}}function _b(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xp),n;default:throw Error(a(435,t.tag))}}function Cu(t,n){var s=_b(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=Rb.bind(null,t,l);l.then(c,c)}})}function an(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){le=E.stateNode,rn=!1;break t}break;case 5:le=E.stateNode,rn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(le===null)throw Error(a(160));Cp(f,g,c),le=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ip(n,t),n=n.sibling}var Xn=null;function Ip(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),ln(t),l&4&&(_s(3,t,t.return),Il(3,t),_s(5,t,t.return));break;case 1:an(n,t),ln(t),l&512&&(we||s===null||_i(s,s.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Xn;if(an(n,t),ln(t),l&512&&(we||s===null||_i(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[si]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Fe(f,l,s),f[be]=t,Ee(f),l=f;break t;case"link":var g=Iy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Fe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Iy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Fe(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[be]=t,Ee(f),l=f}t.stateNode=l}else Vy(c,t.type,t.stateNode);else t.stateNode=Dy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Vy(c,t.type,t.stateNode):Dy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sf(t,t.memoizedProps,s.memoizedProps)}break;case 27:an(n,t),ln(t),l&512&&(we||s===null||_i(s,s.return)),s!==null&&l&4&&sf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(an(n,t),ln(t),l&512&&(we||s===null||_i(s,s.return)),t.flags&32){c=t.stateNode;try{sn(c,"")}catch(ht){Kt(t,t.return,ht)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,sf(t,c,s!==null?s.memoizedProps:c)),l&1024&&(lf=!0);break;case 6:if(an(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ht){Kt(t,t.return,ht)}}break;case 3:if(Fu=null,c=Xn,Xn=qu(n.containerInfo),an(n,t),Xn=c,ln(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{wa(n.containerInfo)}catch(ht){Kt(t,t.return,ht)}lf&&(lf=!1,Vp(t));break;case 4:l=Xn,Xn=qu(t.stateNode.containerInfo),an(n,t),ln(t),Xn=l;break;case 12:an(n,t),ln(t);break;case 31:an(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cu(t,l)));break;case 13:an(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Du=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cu(t,l)));break;case 22:c=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,z=qi,G=we;if(qi=z||c,we=G||N,an(n,t),we=G,qi=z,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||N||qi||we||Tr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var K=N.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ht){Kt(N,N.return,ht)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(ht){Kt(N,N.return,ht)}}}else if(n.tag===18){if(s===null){N=n;try{var F=N.stateNode;c?Ey(F,!0):Ey(N.stateNode,!1)}catch(ht){Kt(N,N.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Cu(t,s))));break;case 19:an(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cu(t,l)));break;case 30:break;case 21:break;default:an(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Ap(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=rf(t);Ru(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=rf(t);Ru(t,E,g);break;case 3:case 4:var N=s.stateNode.containerInfo,z=rf(t);af(t,z,N);break;default:throw Error(a(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wp(t,n.alternate,n),n=n.sibling}function Tr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:_s(4,n,n.return),Tr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ep(n,n.return,s),Tr(n);break;case 27:Pl(n.stateNode);case 26:case 5:_i(n,n.return),Tr(n);break;case 22:n.memoizedState===null&&Tr(n);break;case 30:Tr(n);break;default:Tr(n)}t=t.sibling}}function Gi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(c,f,s),Il(4,f);break;case 1:if(Gi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)ug(N[c],E)}catch(z){Kt(l,l.return,z)}}s&&g&64&&bp(f),Vl(f,f.return);break;case 27:Sp(f);case 26:case 5:Gi(c,f,s),s&&l===null&&g&4&&Tp(f),Vl(f,f.return);break;case 12:Gi(c,f,s);break;case 31:Gi(c,f,s),s&&g&4&&Np(c,f);break;case 13:Gi(c,f,s),s&&g&4&&Dp(c,f);break;case 22:f.memoizedState===null&&Gi(c,f,s),Vl(f,f.return);break;case 30:break;default:Gi(c,f,s)}n=n.sibling}}function of(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&_l(s))}function uf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t))}function Kn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Op(t,n,s,l),n=n.sibling}function Op(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,s,l),c&2048&&Il(9,n);break;case 1:Kn(t,n,s,l);break;case 3:Kn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t)));break;case 12:if(c&2048){Kn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Kt(n,n.return,N)}}else Kn(t,n,s,l);break;case 31:Kn(t,n,s,l);break;case 13:Kn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,s,l):Ol(t,n):f._visibility&2?Kn(t,n,s,l):(f._visibility|=2,ga(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&of(g,n);break;case 24:Kn(t,n,s,l),c&2048&&uf(n.alternate,n);break;default:Kn(t,n,s,l)}}function ga(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,N=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:ga(f,g,E,N,c),Il(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?ga(f,g,E,N,c):Ol(f,g):(G._visibility|=2,ga(f,g,E,N,c)),c&&z&2048&&of(g.alternate,g);break;case 24:ga(f,g,E,N,c),c&&z&2048&&uf(g.alternate,g);break;default:ga(f,g,E,N,c)}n=n.sibling}}function Ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Ol(s,l),c&2048&&of(l.alternate,l);break;case 24:Ol(s,l),c&2048&&uf(l.alternate,l);break;default:Ol(s,l)}n=n.sibling}}var Ml=8192;function pa(t,n,s){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)Mp(t,n,s),t=t.sibling}function Mp(t,n,s){switch(t.tag){case 26:pa(t,n,s),t.flags&Ml&&t.memoizedState!==null&&sE(s,Xn,t.memoizedState,t.memoizedProps);break;case 5:pa(t,n,s);break;case 3:case 4:var l=Xn;Xn=qu(t.stateNode.containerInfo),pa(t,n,s),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ml,Ml=16777216,pa(t,n,s),Ml=l):pa(t,n,s));break;default:pa(t,n,s)}}function jp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function jl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,Up(l,t)}jp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kp(t),t=t.sibling}function kp(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&_s(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Nu(t)):jl(t);break;default:jl(t)}}function Nu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,Up(l,t)}jp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:_s(8,n,n.return),Nu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Nu(n));break;default:Nu(n)}t=t.sibling}}function Up(t,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:_s(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=t;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(Rp(l),l===s){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var vb={getCacheForType:function(t){var n=qe(Ae),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return qe(Ae).controller.signal}},bb=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,It=null,Ot=0,Xt=0,vn=null,vs=!1,ya=!1,cf=!1,Qi=0,ce=0,bs=0,Ar=0,hf=0,bn=0,_a=0,kl=null,on=null,ff=!1,Du=0,Lp=0,Iu=1/0,Vu=null,Es=null,Oe=0,Ts=null,va=null,Yi=0,df=0,mf=null,zp=null,Ul=0,gf=null;function En(){return(Ft&2)!==0&&Ot!==0?Ot&-Ot:P.T!==null?Ef():Oo()}function Bp(){if(bn===0)if((Ot&536870912)===0||Ut){var t=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),bn=t}else bn=536870912;return t=yn.current,t!==null&&(t.flags|=32),bn}function un(t,n,s){(t===te&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(ba(t,0),As(t,Ot,bn,!1)),Js(t,s),((Ft&2)===0||t!==te)&&(t===te&&((Ft&2)===0&&(Ar|=s),ce===4&&As(t,Ot,bn,!1)),vi(t))}function Pp(t,n,s){if((Ft&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),c=l?Ab(t,n):yf(t,n,!0),f=l;do{if(c===0){ya&&!l&&As(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!Eb(s)){c=yf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=kl;var N=E.current.memoizedState.isDehydrated;if(N&&(ba(E,g).flags|=256),g=yf(E,g,!1),g!==2){if(cf&&!N){E.errorRecoveryDisabledLanes|=f,Ar|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ba(t,0),As(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:As(l,n,bn,!vs);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Du+300-$e(),10<c)){if(As(l,n,bn,!vs),ei(l,0,!0)!==0)break t;Yi=n,l.timeoutHandle=_y(qp.bind(null,l,s,on,Vu,ff,n,bn,Ar,_a,vs,f,"Throttled",-0,0),c);break t}qp(l,s,on,Vu,ff,n,bn,Ar,_a,vs,f,null,-0,0)}}break}while(!0);vi(t)}function qp(t,n,s,l,c,f,g,E,N,z,G,K,B,F){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Mp(n,f,K);var ht=(f&62914560)===f?Du-$e():(f&4194048)===f?Lp-$e():0;if(ht=rE(K,ht),ht!==null){Yi=f,t.cancelPendingCommit=ht(Zp.bind(null,t,n,f,s,l,c,g,E,N,G,K,null,B,F)),As(t,f,g,!z);return}}Zp(t,n,f,s,l,c,g,E,N)}function Eb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!gn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function As(t,n,s,l){n&=~hf,n&=~Ar,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-de(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&$s(t,s,n)}function Ou(){return(Ft&6)===0?(Ll(0),!1):!0}function pf(){if(It!==null){if(Xt===0)var t=It.return;else t=It,ki=mr=null,Ih(t),ca=null,bl=0,t=It;for(;t!==null;)vp(t.alternate,t),t=t.return;It=null}}function ba(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Pb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Yi=0,pf(),te=t,It=s=Mi(t.current,null),Ot=n,Xt=0,vn=null,vs=!1,ya=zn(t,n),cf=!1,_a=bn=hf=Ar=bs=ce=0,on=kl=null,ff=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-de(l),f=1<<c;n|=t[c],l&=~f}return Qi=n,tu(),s}function Hp(t,n){Ct=null,P.H=Cl,n===ua||n===ou?(n=rg(),Xt=3):n===vh?(n=rg(),Xt=4):Xt=n===Yh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(ce=1,Tu(t,Dn(n,t.current)))}function Fp(){var t=yn.current;return t===null?!0:(Ot&4194048)===Ot?Mn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?t===Mn:!1}function Gp(){var t=P.H;return P.H=Cl,t===null?Cl:t}function Qp(){var t=P.A;return P.A=vb,t}function Mu(){ce=4,vs||(Ot&4194048)!==Ot&&yn.current!==null||(ya=!0),(bs&134217727)===0&&(Ar&134217727)===0||te===null||As(te,Ot,bn,!1)}function yf(t,n,s){var l=Ft;Ft|=2;var c=Gp(),f=Qp();(te!==t||Ot!==n)&&(Vu=null,ba(t,n)),n=!1;var g=ce;t:do try{if(Xt!==0&&It!==null){var E=It,N=vn;switch(Xt){case 8:pf(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Xt;if(Xt=0,vn=null,Ea(t,E,N,z),s&&ya){g=0;break t}break;default:z=Xt,Xt=0,vn=null,Ea(t,E,N,z)}}Tb(),g=ce;break}catch(G){Hp(t,G)}while(!0);return n&&t.shellSuspendCounter++,ki=mr=null,Ft=l,P.H=c,P.A=f,It===null&&(te=null,Ot=0,tu()),g}function Tb(){for(;It!==null;)Yp(It)}function Ab(t,n){var s=Ft;Ft|=2;var l=Gp(),c=Qp();te!==t||Ot!==n?(Vu=null,Iu=$e()+500,ba(t,n)):ya=zn(t,n);t:do try{if(Xt!==0&&It!==null){n=It;var f=vn;e:switch(Xt){case 1:Xt=0,vn=null,Ea(t,n,f,1);break;case 2:case 9:if(ig(f)){Xt=0,vn=null,Xp(n);break}n=function(){Xt!==2&&Xt!==9||te!==t||(Xt=7),vi(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:ig(f)?(Xt=0,vn=null,Xp(n)):(Xt=0,vn=null,Ea(t,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?Oy(g):E.stateNode.complete){Xt=0,vn=null;var N=E.sibling;if(N!==null)It=N;else{var z=E.return;z!==null?(It=z,ju(z)):It=null}break e}}Xt=0,vn=null,Ea(t,n,f,5);break;case 6:Xt=0,vn=null,Ea(t,n,f,6);break;case 8:pf(),ce=6;break t;default:throw Error(a(462))}}Sb();break}catch(G){Hp(t,G)}while(!0);return ki=mr=null,P.H=l,P.A=c,Ft=s,It!==null?0:(te=null,Ot=0,tu(),ce)}function Sb(){for(;It!==null&&!Qc();)Yp(It)}function Yp(t){var n=yp(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?ju(t):It=n}function Xp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=hp(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=hp(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Ih(n);default:vp(s,n),n=It=Qm(n,Qi),n=yp(s,n,Qi)}t.memoizedProps=t.pendingProps,n===null?ju(t):It=n}function Ea(t,n,s,l){ki=mr=null,Ih(n),ca=null,bl=0;var c=n.return;try{if(fb(t,c,n,s,Ot)){ce=1,Tu(t,Dn(s,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ce=1,Tu(t,Dn(s,t.current)),It=null;return}n.flags&32768?(Ut||l===1?t=!0:ya||(Ot&536870912)!==0?t=!1:(vs=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kp(n,t)):ju(n)}function ju(t){var n=t;do{if((n.flags&32768)!==0){Kp(n,vs);return}t=n.return;var s=gb(n.alternate,n,Qi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);ce===0&&(ce=5)}function Kp(t,n){do{var s=pb(t.alternate,t);if(s!==null){s.flags&=32767,It=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=s}while(t!==null);ce=6,It=null}function Zp(t,n,s,l,c,f,g,E,N){t.cancelPendingCommit=null;do ku();while(Oe!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=sh,Kc(t,s,f,g,E,N),t===te&&(It=te=null,Ot=0),va=n,Ts=t,Yi=s,df=f,mf=c,zp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cb(Wi,function(){return ey(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,c=et.p,et.p=2,g=Ft,Ft|=4;try{yb(t,n,s)}finally{Ft=g,et.p=c,P.T=l}}Oe=1,Jp(),$p(),Wp()}}function Jp(){if(Oe===1){Oe=0;var t=Ts,n=va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var l=et.p;et.p=2;var c=Ft;Ft|=4;try{Ip(n,t);var f=Nf,g=Um(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&km(E.ownerDocument.documentElement,E)){if(N!==null&&Wc(E)){var z=N.start,G=N.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var F=B.getSelection(),ht=E.textContent.length,_t=Math.min(N.start,ht),Wt=N.end===void 0?_t:Math.min(N.end,ht);!F.extend&&_t>Wt&&(g=Wt,Wt=_t,_t=g);var j=jm(E,_t),O=jm(E,Wt);if(j&&O&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var L=K.createRange();L.setStart(j.node,j.offset),F.removeAllRanges(),_t>Wt?(F.addRange(L),F.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),F.addRange(L))}}}}for(K=[],F=E;F=F.parentNode;)F.nodeType===1&&K.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Xu=!!Cf,Nf=Cf=null}finally{Ft=c,et.p=l,P.T=s}}t.current=n,Oe=2}}function $p(){if(Oe===2){Oe=0;var t=Ts,n=va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var l=et.p;et.p=2;var c=Ft;Ft|=4;try{wp(t,n.alternate,n)}finally{Ft=c,et.p=l,P.T=s}}Oe=3}}function Wp(){if(Oe===4||Oe===3){Oe=0,wo();var t=Ts,n=va,s=Yi,l=zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,va=Ts=null,ty(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Es=null),Di(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=P.T,c=et.p,et.p=2,P.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{P.T=n,et.p=c}}(Yi&3)!==0&&ku(),vi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===gf?Ul++:(Ul=0,gf=t):Ul=0,Ll(0)}}function ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,_l(n)))}function ku(){return Jp(),$p(),Wp(),ey()}function ey(){if(Oe!==5)return!1;var t=Ts,n=df;df=0;var s=Di(Yi),l=P.T,c=et.p;try{et.p=32>s?32:s,P.T=null,s=mf,mf=null;var f=Ts,g=Yi;if(Oe=0,va=Ts=null,Yi=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,kp(f.current),Op(f,f.current,g,s),Ft=E,Ll(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{et.p=c,P.T=l,ty(t,n)}}function ny(t,n,s){n=Dn(s,n),n=Qh(t.stateNode,n,2),t=gs(t,n,2),t!==null&&(Js(t,2),vi(t))}function Kt(t,n,s){if(t.tag===3)ny(t,t,s);else for(;n!==null;){if(n.tag===3){ny(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){t=Dn(s,t),s=ip(2),l=gs(n,s,2),l!==null&&(sp(s,l,n,t),Js(l,2),vi(l));break}}n=n.return}}function _f(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new bb;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(cf=!0,c.add(s),t=xb.bind(null,t,n,s),n.then(t,t))}function xb(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,te===t&&(Ot&s)===s&&(ce===4||ce===3&&(Ot&62914560)===Ot&&300>$e()-Du?(Ft&2)===0&&ba(t,0):hf|=s,_a===Ot&&(_a=0)),vi(t)}function iy(t,n){n===0&&(n=Vo()),t=hr(t,n),t!==null&&(Js(t,n),vi(t))}function wb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),iy(t,s)}function Rb(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),iy(t,s)}function Cb(t,n){return Ve(t,n)}var Uu=null,Ta=null,vf=!1,Lu=!1,bf=!1,Ss=0;function vi(t){t!==Ta&&t.next===null&&(Ta===null?Uu=Ta=t:Ta=Ta.next=t),Lu=!0,vf||(vf=!0,Db())}function Ll(t,n){if(!bf&&Lu){bf=!0;do for(var s=!1,l=Uu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,ly(l,f))}else f=Ot,f=ei(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,ly(l,f));l=l.next}while(s);bf=!1}}function Nb(){sy()}function sy(){Lu=vf=!1;var t=0;Ss!==0&&Bb()&&(t=Ss);for(var n=$e(),s=null,l=Uu;l!==null;){var c=l.next,f=ry(l,n);f===0?(l.next=null,s===null?Uu=c:s.next=c,c===null&&(Ta=s)):(s=l,(t!==0||(f&3)!==0)&&(Lu=!0)),l=c}Oe!==0&&Oe!==5||Ll(t),Ss!==0&&(Ss=0)}function ry(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,N=c[g];N===-1?((E&s)===0||(E&l)!==0)&&(c[g]=Xc(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,s=Ot,s=ei(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$i(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&$i(l),Di(s)){case 2:case 8:s=Xa;break;case 32:s=Wi;break;case 268435456:s=Ro;break;default:s=Wi}return l=ay.bind(null,t),s=Ve(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&$i(l),t.callbackPriority=2,t.callbackNode=null,2}function ay(t,n){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ku()&&t.callbackNode!==s)return null;var l=Ot;return l=ei(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pp(t,l,n),ry(t,$e()),t.callbackNode!=null&&t.callbackNode===s?ay.bind(null,t):null)}function ly(t,n){if(ku())return null;Pp(t,n,!0)}function Db(){qb(function(){(Ft&6)!==0?Ve(Ya,Nb):sy()})}function Ef(){if(Ss===0){var t=la;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ss=t}return Ss}function oy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qr(""+t)}function uy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Ib(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=oy((c[je]||null).action),g=l.submitter;g&&(n=(n=g[je]||null)?oy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var N=g?uy(c,g):new FormData(c);Bh(s,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?uy(c,g):new FormData(c),Bh(s,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var Tf=0;Tf<ih.length;Tf++){var Af=ih[Tf],Vb=Af.toLowerCase(),Ob=Af[0].toUpperCase()+Af.slice(1);Yn(Vb,"on"+Ob)}Yn(Bm,"onAnimationEnd"),Yn(Pm,"onAnimationIteration"),Yn(qm,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(K1,"onTransitionRun"),Yn(Z1,"onTransitionStart"),Yn(J1,"onTransitionCancel"),Yn(Hm,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function cy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){Wo(G)}c.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){Wo(G)}c.currentTarget=null,f=N}}}}function Vt(t,n){var s=n[Pr];s===void 0&&(s=n[Pr]=new Set);var l=t+"__bubble";s.has(l)||(hy(n,t,2,!1),s.add(l))}function Sf(t,n,s){var l=0;n&&(l|=4),hy(s,t,l,n)}var zu="_reactListening"+Math.random().toString(36).slice(2);function xf(t){if(!t[zu]){t[zu]=!0,Ja.forEach(function(s){s!=="selectionchange"&&(Mb.has(s)||Sf(s,!1,t),Sf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[zu]||(n[zu]=!0,Sf("selectionchange",!1,n))}}function hy(t,n,s,l){switch(By(n)){case 2:var c=oE;break;case 8:c=uE;break;default:c=Bf}s=c.bind(null,n,s,t),c=void 0,!ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function wf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue t}E=E.parentNode}}l=l.return}rs(function(){var z=f,G=wn(s),K=[];t:{var B=Fm.get(t);if(B!==void 0){var F=fi,ht=t;switch(t){case"keypress":if(rr(s)===0)break t;case"keydown":case"keyup":F=Zo;break;case"focusin":ht="focus",F=lr;break;case"focusout":ht="blur",F=lr;break;case"beforeblur":case"afterblur":F=lr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Po;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Bm:case Pm:case qm:F=Ho;break;case Hm:F=T;break;case"scroll":case"scrollend":F=ul;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Oi;break;case"toggle":case"beforetoggle":F=Rt}var _t=(n&4)!==0,Wt=!_t&&(t==="scroll"||t==="scrollend"),j=_t?B!==null?B+"Capture":null:B;_t=[];for(var O=z,L;O!==null;){var Y=O;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||j===null||(Y=Hn(O,j),Y!=null&&_t.push(Bl(O,Y,L))),Wt)break;O=O.return}0<_t.length&&(B=new F(B,ht,null,s,G),K.push({event:B,listeners:_t}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&s!==al&&(ht=s.relatedTarget||s.fromElement)&&(ri(ht)||ht[ii]))break t;if((F||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ht=s.relatedTarget||s.toElement,F=z,ht=ht?ri(ht):null,ht!==null&&(Wt=h(ht),_t=ht.tag,ht!==Wt||_t!==5&&_t!==27&&_t!==6)&&(ht=null)):(F=null,ht=z),F!==ht)){if(_t=cl,Y="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Oi,Y="onPointerLeave",j="onPointerEnter",O="pointer"),Wt=F==null?B:dn(F),L=ht==null?B:dn(ht),B=new _t(Y,O+"leave",F,s,G),B.target=Wt,B.relatedTarget=L,Y=null,ri(G)===z&&(_t=new _t(j,O+"enter",ht,s,G),_t.target=L,_t.relatedTarget=Wt,Y=_t),Wt=Y,F&&ht)e:{for(_t=jb,j=F,O=ht,L=0,Y=j;Y;Y=_t(Y))L++;Y=0;for(var pt=O;pt;pt=_t(pt))Y++;for(;0<L-Y;)j=_t(j),L--;for(;0<Y-L;)O=_t(O),Y--;for(;L--;){if(j===O||O!==null&&j===O.alternate){_t=j;break e}j=_t(j),O=_t(O)}_t=null}else _t=null;F!==null&&fy(K,B,F,_t,!1),ht!==null&&Wt!==null&&fy(K,Wt,ht,_t,!0)}}t:{if(B=z?dn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Pt=Nm;else if(Rm(B))if(Dm)Pt=Q1;else{Pt=F1;var mt=H1}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Gr(z.elementType)&&(Pt=Nm):Pt=G1;if(Pt&&(Pt=Pt(t,z))){Cm(K,Pt,s,G);break t}mt&&mt(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&il(B,"number",B.value)}switch(mt=z?dn(z):window,t){case"focusin":(Rm(mt)||mt.contentEditable==="true")&&(Wr=mt,th=z,gl=null);break;case"focusout":gl=th=Wr=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Lm(K,s,G);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":Lm(K,s,G)}var Dt;if(Ht)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else $r?or(t,s)&&(Mt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(gi&&s.locale!=="ko"&&($r||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&$r&&(Dt=ol()):(hi=G,ll="value"in hi?hi.value:hi.textContent,$r=!0)),mt=Bu(z,Mt),0<mt.length&&(Mt=new mi(Mt,t,null,s,G),K.push({event:Mt,listeners:mt}),Dt?Mt.data=Dt:(Dt=Jr(s),Dt!==null&&(Mt.data=Dt)))),(Dt=Cn?z1(t,s):B1(t,s))&&(Mt=Bu(z,"onBeforeInput"),0<Mt.length&&(mt=new mi("onBeforeInput","beforeinput",null,s,G),K.push({event:mt,listeners:Mt}),mt.data=Dt)),Ib(K,t,z,s,G)}cy(K,n)})}function Bl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Bu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hn(t,s),c!=null&&l.unshift(Bl(t,c,f)),c=Hn(t,n),c!=null&&l.push(Bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function jb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fy(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||z===null||(N=z,c?(z=Hn(s,f),z!=null&&g.unshift(Bl(s,z,N))):c||(z=Hn(s,f),z!=null&&g.push(Bl(s,z,N)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var kb=/\r\n?/g,Ub=/\u0000|\uFFFD/g;function dy(t){return(typeof t=="string"?t:""+t).replace(kb,`
`).replace(Ub,"")}function my(t,n){return n=dy(n),dy(t)===n}function $t(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,s,l);break;case"style":rl(t,l,f);break;case"data":if(n!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(t,n,"name",c.name,c,null),$t(t,n,"formEncType",c.formEncType,c,null),$t(t,n,"formMethod",c.formMethod,c,null),$t(t,n,"formTarget",c.formTarget,c,null)):($t(t,n,"encType",c.encType,c,null),$t(t,n,"method",c.method,c,null),$t(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Qr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Hr(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Bo.get(s)||s,Hr(t,s,l))}}function Rf(t,n,s,l,c,f){switch(s){case"style":rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$a.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Hr(t,s,l)}}}function Fe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(t,n,f,g,s,null)}}c&&$t(t,n,"srcSet",s.srcSet,s,null),l&&$t(t,n,"src",s.src,s,null);return;case"input":Vt("invalid",t);var E=f=g=c=null,N=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":N=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(t,n,l,G,s,null)}}Uo(t,f,E,N,z,g,c,!1);return;case"select":Vt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:$t(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?es(t,!!l,n,!1):s!=null&&es(t,!!l,s,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(t,n,g,E,s,null)}ns(t,l,c,f);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,N,l,s,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Vt(zl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(t,n,z,l,s,null)}return;default:if(Gr(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Rf(t,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&$t(t,n,E,l,s,null))}function Lb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,N=null,z=null,G=null;for(F in s){var K=s[F];if(s.hasOwnProperty(F)&&K!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=K;default:l.hasOwnProperty(F)||$t(t,n,F,null,l,K)}}for(var B in l){var F=l[B];if(K=s[B],l.hasOwnProperty(B)&&(F!=null||K!=null))switch(B){case"type":f=F;break;case"name":c=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==K&&$t(t,n,B,F,l,K)}}Fr(t,g,E,N,z,G,f,c);return;case"select":F=g=E=B=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,N)}for(c in l)if(f=l[c],N=s[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&$t(t,n,c,f,l,N)}n=E,s=g,l=F,B!=null?es(t,!!s,B,!1):!!l!=!!s&&(n!=null?es(t,!!s,n,!0):es(t,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":F=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&$t(t,n,g,c,l,f)}Lo(t,B,F);return;case"option":for(var ht in s)if(B=s[ht],s.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:$t(t,n,ht,null,l,B)}for(N in l)if(B=l[N],F=s[N],l.hasOwnProperty(N)&&B!==F&&(B!=null||F!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:$t(t,n,N,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)B=s[_t],s.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t)&&$t(t,n,_t,null,l,B);for(z in l)if(B=l[z],F=s[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:$t(t,n,z,B,l,F)}return;default:if(Gr(n)){for(var Wt in s)B=s[Wt],s.hasOwnProperty(Wt)&&B!==void 0&&!l.hasOwnProperty(Wt)&&Rf(t,n,Wt,void 0,l,B);for(G in l)B=l[G],F=s[G],!l.hasOwnProperty(G)||B===F||B===void 0&&F===void 0||Rf(t,n,G,B,l,F);return}}for(var j in s)B=s[j],s.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&$t(t,n,j,null,l,B);for(K in l)B=l[K],F=s[K],!l.hasOwnProperty(K)||B===F||B==null&&F==null||$t(t,n,K,B,l,F)}function gy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&gy(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var N=s[l],z=N.startTime;if(z>E)break;var G=N.transferSize,K=N.initiatorType;G&&gy(K)&&(N=N.responseEnd,g+=G*(N<E?1:(E-z)/(N-z)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cf=null,Nf=null;function Pu(t){return t.nodeType===9?t:t.ownerDocument}function py(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var If=null;function Bb(){var t=window.event;return t&&t.type==="popstate"?t===If?!1:(If=t,!0):(If=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,qb=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(t){return vy.resolve(null).then(t).catch(Hb)}:_y;function Hb(t){setTimeout(function(){throw t})}function xs(t){return t==="head"}function by(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),wa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Pl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Pl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Pl(t.ownerDocument.body);s=c}while(s);wa(n)}function Ey(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vf(s),qr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Fb(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function Gb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=jn(t.nextSibling),t===null))return null;return t}function Ty(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Of(t){return t.data==="$?"||t.data==="$~"}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var jf=null;function Ay(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return jn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Sy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function xy(t,n,s){switch(n=Pu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qr(t)}var kn=new Map,wy=new Set;function qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=et.d;et.d={f:Yb,r:Xb,D:Kb,C:Zb,L:Jb,m:$b,X:tE,S:Wb,M:eE};function Yb(){var t=Xi.f(),n=Ou();return t||n}function Xb(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?Hg(n):Xi.r(t)}var Aa=typeof document>"u"?null:document;function Ry(t,n,s){var l=Aa;if(l&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),wy.has(c)||(wy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Fe(n,"link",t),Ee(n),l.head.appendChild(n)))}}function Kb(t){Xi.D(t),Ry("dns-prefetch",t,null)}function Zb(t,n){Xi.C(t,n),Ry("preconnect",t,n)}function Jb(t,n,s){Xi.L(t,n,s);var l=Aa;if(l&&t&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+nn(s.imageSizes)+'"]')):c+='[href="'+nn(t)+'"]';var f=c;switch(n){case"style":f=Sa(t);break;case"script":f=xa(t)}kn.has(f)||(t=x({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),kn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(ql(f))||n==="script"&&l.querySelector(Hl(f))||(n=l.createElement("link"),Fe(n,"link",t),Ee(n),l.head.appendChild(n)))}}function $b(t,n){Xi.m(t,n);var s=Aa;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(t)}if(!kn.has(f)&&(t=x({rel:"modulepreload",href:t},n),kn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Hl(f)))return}l=s.createElement("link"),Fe(l,"link",t),Ee(l),s.head.appendChild(l)}}}function Wb(t,n,s){Xi.S(t,n,s);var l=Aa;if(l&&t){var c=ai(l).hoistableStyles,f=Sa(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ql(f)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},s),(s=kn.get(f))&&kf(t,s);var N=g=l.createElement("link");Ee(N),Fe(N,"link",t),N._p=new Promise(function(z,G){N.onload=z,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Hu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function tE(t,n){Xi.X(t,n);var s=Aa;if(s&&t){var l=ai(s).hoistableScripts,c=xa(t),f=l.get(c);f||(f=s.querySelector(Hl(c)),f||(t=x({src:t,async:!0},n),(n=kn.get(c))&&Uf(t,n),f=s.createElement("script"),Ee(f),Fe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function eE(t,n){Xi.M(t,n);var s=Aa;if(s&&t){var l=ai(s).hoistableScripts,c=xa(t),f=l.get(c);f||(f=s.querySelector(Hl(c)),f||(t=x({src:t,async:!0,type:"module"},n),(n=kn.get(c))&&Uf(t,n),f=s.createElement("script"),Ee(f),Fe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Cy(t,n,s,l){var c=(c=Nt.current)?qu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Sa(s.href),s=ai(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Sa(s.href);var f=ai(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(ql(t)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(t,s),f||nE(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(s),s=ai(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Sa(t){return'href="'+nn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function Ny(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function nE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",s),Ee(n),t.head.appendChild(n))}function xa(t){return'[src="'+nn(t)+'"]'}function Hl(t){return"script[async]"+t}function Dy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nn(s.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),Fe(l,"style",c),Hu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Sa(s.href);var f=t.querySelector(ql(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Ny(s),(c=kn.get(c))&&kf(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Fe(f,"link",l),n.state.loading|=4,Hu(f,s.precedence,t),n.instance=f;case"script":return f=xa(s.src),(c=t.querySelector(Hl(f)))?(n.instance=c,Ee(c),c):(l=s,(c=kn.get(f))&&(l=x({},s),Uf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),Fe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Hu(l,s.precedence,t));return n.instance}function Hu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Fu=null;function Iy(t,n,s){if(Fu===null){var l=new Map,c=Fu=new Map;c.set(s,l)}else c=Fu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[si]||f[be]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Vy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function iE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Oy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Sa(l.href),f=n.querySelector(ql(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Gu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Ny(l),(c=kn.get(c))&&kf(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Fe(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Gu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Lf=0;function rE(t,n){return t.stylesheets&&t.count===0&&Yu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Lf===0&&(Lf=62500*zb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Lf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qu=null;function Yu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qu=new Map,n.forEach(aE,t),Qu=null,Gu.call(t))}function aE(t,n){if(!(n.state.loading&4)){var s=Qu.get(t);if(s)var l=s.get(null);else{s=new Map,Qu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Gu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function lE(t,n,s,l,c,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function My(t,n,s,l,c,f,g,E,N,z,G,K){return t=new lE(t,n,s,g,N,z,G,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=ph(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},bh(f),t}function jy(t){return t?(t=na,t):na}function ky(t,n,s,l,c,f){c=jy(c),l.context===null?l.context=c:l.pendingContext=c,l=ms(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=gs(t,l,n),s!==null&&(un(s,t,n),Tl(s,t,n))}function Uy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function zf(t,n){Uy(t,n),(t=t.alternate)&&Uy(t,n)}function Ly(t){if(t.tag===13||t.tag===31){var n=hr(t,67108864);n!==null&&un(n,t,67108864),zf(t,67108864)}}function zy(t){if(t.tag===13||t.tag===31){var n=En();n=Ws(n);var s=hr(t,n);s!==null&&un(s,t,n),zf(t,n)}}var Xu=!0;function oE(t,n,s,l){var c=P.T;P.T=null;var f=et.p;try{et.p=2,Bf(t,n,s,l)}finally{et.p=f,P.T=c}}function uE(t,n,s,l){var c=P.T;P.T=null;var f=et.p;try{et.p=8,Bf(t,n,s,l)}finally{et.p=f,P.T=c}}function Bf(t,n,s,l){if(Xu){var c=Pf(l);if(c===null)wf(t,n,l,Ku,s),Py(t,l);else if(hE(c,t,n,s,l))l.stopPropagation();else if(Py(t,l),n&4&&-1<cE.indexOf(t)){for(;c!==null;){var f=xn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-de(g);E.entanglements[1]|=N,g&=~N}vi(f),(Ft&6)===0&&(Iu=$e()+500,Ll(0))}}break;case 31:case 13:E=hr(f,2),E!==null&&un(E,f,2),Ou(),zf(f,2)}if(f=Pf(l),f===null&&wf(t,n,l,Ku,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else wf(t,n,l,null,s)}}function Pf(t){return t=wn(t),qf(t)}var Ku=null;function qf(t){if(Ku=null,t=ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ku=t,null}function By(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ks()){case Ya:return 2;case Xa:return 8;case Wi:case Yc:return 32;case Ro:return 268435456;default:return 32}default:return 32}}var Hf=!1,ws=null,Rs=null,Cs=null,Gl=new Map,Ql=new Map,Ns=[],cE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Py(t,n){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Yl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=xn(n),n!==null&&Ly(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function hE(t,n,s,l,c){switch(n){case"focusin":return ws=Yl(ws,t,n,s,l,c),!0;case"dragenter":return Rs=Yl(Rs,t,n,s,l,c),!0;case"mouseover":return Cs=Yl(Cs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Gl.set(f,Yl(Gl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ql.set(f,Yl(Ql.get(f)||null,t,n,s,l,c)),!0}return!1}function qy(t){var n=ri(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){zy(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,Bn(t.priority,function(){zy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Pf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);al=l,s.target.dispatchEvent(l),al=null}else return n=xn(s),n!==null&&Ly(n),t.blockedOn=s,!1;n.shift()}return!0}function Hy(t,n,s){Zu(t)&&s.delete(n)}function fE(){Hf=!1,ws!==null&&Zu(ws)&&(ws=null),Rs!==null&&Zu(Rs)&&(Rs=null),Cs!==null&&Zu(Cs)&&(Cs=null),Gl.forEach(Hy),Ql.forEach(Hy)}function Ju(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fE)))}var $u=null;function Fy(t){$u!==t&&($u=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$u===t&&($u=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(qf(l||s)===null)continue;break}var f=xn(s);f!==null&&(t.splice(n,3),n-=3,Bh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function wa(t){function n(N){return Ju(N,t)}ws!==null&&Ju(ws,t),Rs!==null&&Ju(Rs,t),Cs!==null&&Ju(Cs,t),Gl.forEach(n),Ql.forEach(n);for(var s=0;s<Ns.length;s++){var l=Ns[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ns.length&&(s=Ns[0],s.blockedOn===null);)qy(s),s.blockedOn===null&&Ns.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[je]||null;if(typeof f=="function")g||Fy(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[je]||null)E=g.formAction;else if(qf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Fy(s)}}}function Gy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Ff(t){this._internalRoot=t}Wu.prototype.render=Ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=En();ky(s,l,t,n,null,null)},Wu.prototype.unmount=Ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ky(t.current,2,null,t,null,null),Ou(),n[ii]=null}};function Wu(t){this._internalRoot=t}Wu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oo();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ns.length&&n!==0&&n<Ns[s].priority;s++);Ns.splice(s,0,t),s===0&&qy(t)}};var Qy=e.version;if(Qy!=="19.2.3")throw Error(a(527,Qy,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var dE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Ln=tc.inject(dE),ze=tc}catch{}}return Kl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Wg,f=tp,g=ep;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=My(t,1,!1,null,null,s,l,null,c,f,g,Gy),t[ii]=n.current,xf(t),new Ff(n)},Kl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=Wg,g=tp,E=ep,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=My(t,1,!0,n,s??null,l,c,N,f,g,E,Gy),n.context=jy(null),s=n.current,l=En(),l=Ws(l),c=ms(l),c.callback=null,gs(s,c,l),s=l,n.current.lanes=s,Js(n,s),vi(n),t[ii]=n.current,xf(t),new Wu(n)},Kl.version="19.2.3",Kl}var n_;function SE(){if(n_)return Yf.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yf.exports=AE(),Yf.exports}var xE=SE();const wE=E0(xE),RE=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},CE=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,x=(h&3)<<4|p>>4;let D=(p&15)<<2|_>>6,q=_&63;v||(q=64,d||(D=64)),a.push(i[A],i[x],i[D],i[q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(T0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const x=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||_==null||x==null)throw new NE;const D=h<<2|p>>4;if(a.push(D),_!==64){const q=p<<4&240|_>>2;if(a.push(q),x!==64){const W=_<<6&192|x;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DE=function(r){const e=T0(r);return A0.encodeByteArray(e,!0)},mc=function(r){return DE(r).replace(/\./g,"")},IE=function(r){try{return A0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=()=>VE().__FIREBASE_DEFAULTS__,ME=()=>{if(typeof process>"u"||typeof i_>"u")return;const r=i_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IE(r[1]);return e&&JSON.parse(e)},Md=()=>{try{return RE()||OE()||ME()||jE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kE=r=>{var e,i;return(i=(e=Md())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},S0=r=>{const e=kE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},x0=()=>{var r;return(r=Md())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mc(JSON.stringify(i)),mc(JSON.stringify(d)),""].join(".")}const no={};function LE(){const r={prod:[],emulator:[]};for(const e of Object.keys(no))no[e]?r.emulator.push(e):r.prod.push(e);return r}function zE(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let s_=!1;function C0(r,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||no[r]===e||no[r]||s_)return;no[r]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",h=LE().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{s_=!0,d()},D}function A(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function x(){const D=zE(a),q=i("text"),W=document.getElementById(q)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),ct=i("preprendIcon"),ft=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const nt=D.element;p(nt),A(Z,tt);const it=_();v(ft,ct),nt.append(ft,W,Z,it),document.body.appendChild(nt)}h?(W.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PE(){var e;const r=(e=Md())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qE(){return!PE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HE(){try{return typeof indexedDB=="object"}catch{return!1}}function FE(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="FirebaseError";class Or extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=GE,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N0.prototype.create)}}class N0{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?QE(h,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Or(o,p,a)}}function QE(r,e){return r.replace(YE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const YE=/\{\$([^}]+)}/g;function gc(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(r_(h)&&r_(d)){if(!gc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function r_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(r){return r&&r._delegate?r._delegate:r}class Va{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new UE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZE(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:KE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KE(r){return r===Sr?void 0:r}function ZE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new XE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const $E={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},WE=Bt.INFO,t2={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},e2=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=t2[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D0{constructor(e){this.name=e,this._logLevel=WE,this._logHandler=e2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$E[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const n2=(r,e)=>e.some(i=>r instanceof i);let a_,l_;function i2(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,od=new WeakMap,V0=new WeakMap,Jf=new WeakMap,jd=new WeakMap;function r2(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Os(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&I0.set(i,r)}).catch(()=>{}),jd.set(e,r),e}function a2(r){if(od.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});od.set(r,e)}let ud={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return od.get(r);if(e==="objectStoreNames")return r.objectStoreNames||V0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Os(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function l2(r){ud=r(ud)}function o2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call($f(this),e,...i);return V0.set(a,e.sort?e.sort():[e]),Os(a)}:s2().includes(r)?function(...e){return r.apply($f(this),e),Os(I0.get(this))}:function(...e){return Os(r.apply($f(this),e))}}function u2(r){return typeof r=="function"?o2(r):(r instanceof IDBTransaction&&a2(r),n2(r,i2())?new Proxy(r,ud):r)}function Os(r){if(r instanceof IDBRequest)return r2(r);if(Jf.has(r))return Jf.get(r);const e=u2(r);return e!==r&&(Jf.set(r,e),jd.set(e,r)),e}const $f=r=>jd.get(r);function c2(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=Os(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Os(d.result),v.oldVersion,v.newVersion,Os(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const h2=["get","getKey","getAll","getAllKeys","count"],f2=["put","add","delete","clear"],Wf=new Map;function o_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=f2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||h2.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Wf.set(e,h),h}l2(r=>({...r,get:(e,i,a)=>o_(e,i)||r.get(e,i,a),has:(e,i)=>!!o_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(m2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function m2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cd="@firebase/app",u_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new D0("@firebase/app"),g2="@firebase/app-compat",p2="@firebase/analytics-compat",y2="@firebase/analytics",_2="@firebase/app-check-compat",v2="@firebase/app-check",b2="@firebase/auth",E2="@firebase/auth-compat",T2="@firebase/database",A2="@firebase/data-connect",S2="@firebase/database-compat",x2="@firebase/functions",w2="@firebase/functions-compat",R2="@firebase/installations",C2="@firebase/installations-compat",N2="@firebase/messaging",D2="@firebase/messaging-compat",I2="@firebase/performance",V2="@firebase/performance-compat",O2="@firebase/remote-config",M2="@firebase/remote-config-compat",j2="@firebase/storage",k2="@firebase/storage-compat",U2="@firebase/firestore",L2="@firebase/ai",z2="@firebase/firestore-compat",B2="firebase",P2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",q2={[cd]:"fire-core",[g2]:"fire-core-compat",[y2]:"fire-analytics",[p2]:"fire-analytics-compat",[v2]:"fire-app-check",[_2]:"fire-app-check-compat",[b2]:"fire-auth",[E2]:"fire-auth-compat",[T2]:"fire-rtdb",[A2]:"fire-data-connect",[S2]:"fire-rtdb-compat",[x2]:"fire-fn",[w2]:"fire-fn-compat",[R2]:"fire-iid",[C2]:"fire-iid-compat",[N2]:"fire-fcm",[D2]:"fire-fcm-compat",[I2]:"fire-perf",[V2]:"fire-perf-compat",[O2]:"fire-rc",[M2]:"fire-rc-compat",[j2]:"fire-gcs",[k2]:"fire-gcs-compat",[U2]:"fire-fst",[z2]:"fire-fst-compat",[L2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,H2=new Map,fd=new Map;function c_(r,e){try{r.container.addComponent(e)}catch(i){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function oo(r){const e=r.name;if(fd.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,r);for(const i of pc.values())c_(i,r);for(const i of H2.values())c_(i,r);return!0}function O0(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function M0(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new N0("app","Firebase",F2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=P2;function k0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:hd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ms.create("bad-app-name",{appName:String(o)});if(i||(i=x0()),!i)throw Ms.create("no-options");const h=pc.get(o);if(h){if(gc(i,h.options)&&gc(a,h.config))return h;throw Ms.create("duplicate-app",{appName:o})}const d=new JE(o);for(const v of fd.values())d.addComponent(v);const p=new G2(i,a,d);return pc.set(o,p),p}function U0(r=hd){const e=pc.get(r);if(!e&&r===hd&&x0())return k0();if(!e)throw Ms.create("no-app",{appName:r});return e}function js(r,e,i){let a=q2[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}oo(new Va(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="firebase-heartbeat-database",Y2=1,uo="firebase-heartbeat-store";let td=null;function L0(){return td||(td=c2(Q2,Y2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ms.create("idb-open",{originalErrorMessage:r.message})})),td}async function X2(r){try{const i=(await L0()).transaction(uo),a=await i.objectStore(uo).get(z0(r));return await i.done,a}catch(e){if(e instanceof Or)Ki.warn(e.message);else{const i=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(i.message)}}}async function h_(r,e){try{const a=(await L0()).transaction(uo,"readwrite");await a.objectStore(uo).put(e,z0(r)),await a.done}catch(i){if(i instanceof Or)Ki.warn(i.message);else{const a=Ms.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ki.warn(a.message)}}}function z0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=1024,Z2=30;class J2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new W2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=f_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>Z2){const d=tT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ki.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=f_(),{heartbeatsToSend:a,unsentEntries:o}=$2(this._heartbeatsCache.heartbeats),h=mc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ki.warn(i),""}}}function f_(){return new Date().toISOString().substring(0,10)}function $2(r,e=K2){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),d_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),d_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class W2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HE()?FE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await X2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return h_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return h_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function d_(r){return mc(JSON.stringify({version:2,heartbeats:r})).length}function tT(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){oo(new Va("platform-logger",e=>new d2(e),"PRIVATE")),oo(new Va("heartbeat",e=>new J2(e),"PRIVATE")),js(cd,u_,r),js(cd,u_,"esm2020"),js("fire-js","")}eT("");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,B0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,S){function C(){}C.prototype=S.prototype,w.F=S.prototype,w.prototype=new C,w.prototype.constructor=w,w.D=function(M,V,k){for(var R=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)R[Qt-2]=arguments[Qt];return S.prototype[V].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)M[V]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(V=0;V<16;++V)M[V]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=w.g[0],C=w.g[1],V=w.g[2];let k=w.g[3],R;R=S+(k^C&(V^k))+M[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(V^S&(C^V))+M[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=V+(C^k&(S^C))+M[2]+606105819&4294967295,V=k+(R<<17&4294967295|R>>>15),R=C+(S^V&(k^S))+M[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=S+(k^C&(V^k))+M[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(V^S&(C^V))+M[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=V+(C^k&(S^C))+M[6]+2821735955&4294967295,V=k+(R<<17&4294967295|R>>>15),R=C+(S^V&(k^S))+M[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=S+(k^C&(V^k))+M[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(V^S&(C^V))+M[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=V+(C^k&(S^C))+M[10]+4294925233&4294967295,V=k+(R<<17&4294967295|R>>>15),R=C+(S^V&(k^S))+M[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=S+(k^C&(V^k))+M[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(V^S&(C^V))+M[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=V+(C^k&(S^C))+M[14]+2792965006&4294967295,V=k+(R<<17&4294967295|R>>>15),R=C+(S^V&(k^S))+M[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=S+(V^k&(C^V))+M[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^V&(S^C))+M[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=V+(S^C&(k^S))+M[11]+643717713&4294967295,V=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(V^k))+M[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=S+(V^k&(C^V))+M[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^V&(S^C))+M[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=V+(S^C&(k^S))+M[15]+3634488961&4294967295,V=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(V^k))+M[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=S+(V^k&(C^V))+M[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^V&(S^C))+M[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=V+(S^C&(k^S))+M[3]+4107603335&4294967295,V=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(V^k))+M[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=S+(V^k&(C^V))+M[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^V&(S^C))+M[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=V+(S^C&(k^S))+M[7]+1735328473&4294967295,V=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(V^k))+M[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=S+(C^V^k)+M[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^V)+M[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=V+(k^S^C)+M[11]+1839030562&4294967295,V=k+(R<<16&4294967295|R>>>16),R=C+(V^k^S)+M[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=S+(C^V^k)+M[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^V)+M[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=V+(k^S^C)+M[7]+4139469664&4294967295,V=k+(R<<16&4294967295|R>>>16),R=C+(V^k^S)+M[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=S+(C^V^k)+M[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^V)+M[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=V+(k^S^C)+M[3]+3572445317&4294967295,V=k+(R<<16&4294967295|R>>>16),R=C+(V^k^S)+M[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=S+(C^V^k)+M[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^V)+M[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=V+(k^S^C)+M[15]+530742520&4294967295,V=k+(R<<16&4294967295|R>>>16),R=C+(V^k^S)+M[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=S+(V^(C|~k))+M[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~V))+M[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=V+(S^(k|~C))+M[14]+2878612391&4294967295,V=k+(R<<15&4294967295|R>>>17),R=C+(k^(V|~S))+M[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=S+(V^(C|~k))+M[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~V))+M[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=V+(S^(k|~C))+M[10]+4293915773&4294967295,V=k+(R<<15&4294967295|R>>>17),R=C+(k^(V|~S))+M[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=S+(V^(C|~k))+M[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~V))+M[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=V+(S^(k|~C))+M[6]+2734768916&4294967295,V=k+(R<<15&4294967295|R>>>17),R=C+(k^(V|~S))+M[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=S+(V^(C|~k))+M[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~V))+M[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=V+(S^(k|~C))+M[2]+718787259&4294967295,V=k+(R<<15&4294967295|R>>>17),R=C+(k^(V|~S))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+V&4294967295,w.g[3]=w.g[3]+k&4294967295}a.prototype.v=function(w,S){S===void 0&&(S=w.length);const C=S-this.blockSize,M=this.C;let V=this.h,k=0;for(;k<S;){if(V==0)for(;k<=C;)o(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<S;)if(M[V++]=w.charCodeAt(k++),V==this.blockSize){o(this,M),V=0;break}}else for(;k<S;)if(M[V++]=w[k++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=S},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var C=w.length-8;C<w.length;++C)w[C]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)w[S++]=this.g[C]>>>M&255;return w};function h(w,S){var C=p;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=S(w)}function d(w,S){this.h=S;const C=[];let M=!0;for(let V=w.length-1;V>=0;V--){const k=w[V]|0;M&&k==S||(C[V]=k,M=!1)}this.g=C}var p={};function v(w){return-128<=w&&w<128?h(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return x;if(w<0)return Z(_(-w));const S=[];let C=1;for(let M=0;w>=C;M++)S[M]=w/C|0,C*=4294967296;return new d(S,0)}function A(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return Z(A(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let M=x;for(let k=0;k<w.length;k+=8){var V=Math.min(8,w.length-k);const R=parseInt(w.substring(k,k+V),S);V<8?(V=_(Math.pow(S,V)),M=M.j(V).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var x=v(0),D=v(1),q=v(16777216);r=d.prototype,r.m=function(){if(tt(this))return-Z(this).m();let w=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);w+=(M>=0?M:4294967296+M)*S,S*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(W(this))return"0";if(tt(this))return"-"+Z(this).toString(w);const S=_(Math.pow(w,6));var C=this;let M="";for(;;){const V=it(C,S).g;C=ct(C,V.j(S));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(w);if(C=V,W(C))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function W(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function tt(w){return w.h==-1}r.l=function(w){return w=ct(this,w),tt(w)?-1:W(w)?0:1};function Z(w){const S=w.g.length,C=[];for(let M=0;M<S;M++)C[M]=~w.g[M];return new d(C,~w.h).add(D)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(w){const S=Math.max(this.g.length,w.g.length),C=[];let M=0;for(let V=0;V<=S;V++){let k=M+(this.i(V)&65535)+(w.i(V)&65535),R=(k>>>16)+(this.i(V)>>>16)+(w.i(V)>>>16);M=R>>>16,k&=65535,R&=65535,C[V]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ct(w,S){return w.add(Z(S))}r.j=function(w){if(W(this)||W(w))return x;if(tt(this))return tt(w)?Z(this).j(Z(w)):Z(Z(this).j(w));if(tt(w))return Z(this.j(Z(w)));if(this.l(q)<0&&w.l(q)<0)return _(this.m()*w.m());const S=this.g.length+w.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<w.g.length;V++){const k=this.i(M)>>>16,R=this.i(M)&65535,Qt=w.i(V)>>>16,X=w.i(V)&65535;C[2*M+2*V]+=R*X,ft(C,2*M+2*V),C[2*M+2*V+1]+=k*X,ft(C,2*M+2*V+1),C[2*M+2*V+1]+=R*Qt,ft(C,2*M+2*V+1),C[2*M+2*V+2]+=k*Qt,ft(C,2*M+2*V+2)}for(w=0;w<S;w++)C[w]=C[2*w+1]<<16|C[2*w];for(w=S;w<2*S;w++)C[w]=0;return new d(C,0)};function ft(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function nt(w,S){this.g=w,this.h=S}function it(w,S){if(W(S))throw Error("division by zero");if(W(w))return new nt(x,x);if(tt(w))return S=it(Z(w),S),new nt(Z(S.g),Z(S.h));if(tt(S))return S=it(w,Z(S)),new nt(Z(S.g),S.h);if(w.g.length>30){if(tt(w)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=D,M=S;M.l(w)<=0;)C=gt(C),M=gt(M);var V=dt(C,1),k=dt(M,1);for(M=dt(M,2),C=dt(C,2);!W(M);){var R=k.add(M);R.l(w)<=0&&(V=V.add(C),k=R),M=dt(M,1),C=dt(C,1)}return S=ct(w,V.j(S)),new nt(V,S)}for(V=x;w.l(S)>=0;){for(C=Math.max(1,Math.floor(w.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(C),R=k.j(S);tt(R)||R.l(w)>0;)C-=M,k=_(C),R=k.j(S);W(k)&&(k=D),V=V.add(k),w=ct(w,R)}return new nt(V,w)}r.B=function(w){return it(this,w).h},r.and=function(w){const S=Math.max(this.g.length,w.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&w.i(M);return new d(C,this.h&w.h)},r.or=function(w){const S=Math.max(this.g.length,w.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|w.i(M);return new d(C,this.h|w.h)},r.xor=function(w){const S=Math.max(this.g.length,w.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^w.i(M);return new d(C,this.h^w.h)};function gt(w){const S=w.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=w.i(M)<<1|w.i(M-1)>>>31;return new d(C,w.h)}function dt(w,S){const C=S>>5;S%=32;const M=w.g.length-C,V=[];for(let k=0;k<M;k++)V[k]=S>0?w.i(k+C)>>>S|w.i(k+C+1)<<32-S:w.i(k+C);return new d(V,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,B0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ks=d}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P0,Jl,q0,oc,dd,H0,F0,G0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function x(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var st=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)st[Rt-2]=arguments[Rt];return m.prototype[U].apply(T,st)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const H=U.length||0;u.length=y+H;for(let st=0;st<H;st++)u[y+st]=U[st]}else u.push(U)}}class tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ft{constructor(){this.h=this.g=null}add(m,y){const T=nt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var nt=new tt(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,dt=!1,w=new ft,S=()=>{const u=Promise.resolve(void 0);gt=()=>{u.then(C)}};function C(){for(var u;u=ct();){try{u.h.call(u.g)}catch(y){Z(y)}var m=nt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}dt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Qt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Qt,V),Qt.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),P=0;function et(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++P,this.da=this.fa=!1}function rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function bt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function I(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let H=0;H<Q.length;H++)y=Q[H],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,y,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const st=Nt(u,m,T,U);return st>-1?(m=u[st],y||(m.fa=!1)):(m=new et(m,this.src,H,!!T,U),m.fa=y,u.push(m)),m};function Et(u,m){const y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(rt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Nt(u,m,y,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==T)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(u,m,y,T,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)re(u,m[H],y,T,U);return null}return y=Qa(y),u&&u[X]?u.J(m,y,p(T)?!!T.capture:!1,U):Ys(u,m,y,!1,T,U)}function Ys(u,m,y,T,U,H){if(!m)throw Error("Invalid event type");const st=p(U)?!!U.capture:!!U;let Rt=Xs(u);if(Rt||(u[Lt]=Rt=new ut(u)),y=Rt.add(m,y,T,st,H),y.proxy)return y;if(T=Ur(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)k||(U=st),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ur(){function u(y){return m.call(u.src,u.listener,y)}const m=Fa;return u}function Lr(u,m,y,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Lr(u,m[H],y,T,U);else T=p(T)?!!T.capture:!!T,y=Qa(y),u&&u[X]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],y=Nt(m,y,T,U),y>-1&&(rt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Nt(m,y,T,U)),(y=u>-1?m[u]:null)&&zr(y))}function zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[X])Et(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent($n(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Xs(m))?(Et(y,u),y.h==0&&(y.src=null,m[Lt]=null)):rt(u)}}}function $n(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function Fa(u,m){if(u.da)u=!0;else{m=new Qt(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&zr(u),u=y.call(T,m)}return u}function Xs(u){return u=u[Lt],u instanceof ut?u:null}var Ga="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qa(u){return typeof u=="function"?u:(u[Ga]||(u[Ga]=function(m){return u.handleEvent(m)}),u[Ga])}function _e(){M.call(this),this.i=new ut(this),this.M=this,this.G=null}x(_e,M),_e.prototype[X]=!0,_e.prototype.removeEventListener=function(u,m,y,T){Lr(this,u,m,y,T)};function Ve(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var U=m;m=new V(T,u),at(m,U)}U=!0;let H,st;if(y)for(st=y.length-1;st>=0;st--)H=m.g=y[st],U=$i(H,T,!0,m)&&U;if(H=m.g=u,U=$i(H,T,!0,m)&&U,U=$i(H,T,!1,m)&&U,y)for(st=0;st<y.length;st++)H=m.g=y[st],U=$i(H,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)rt(y[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},_e.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function $i(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const st=m[H];if(st&&!st.da&&st.capture==y){const Rt=st.listener,me=st.ha||st.src;st.fa&&Et(u.i,st),U=Rt.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function Qc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function wo(u){u.g=Qc(()=>{u.g=null,u.i&&(u.i=!1,wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(u){M.call(this),this.h=u,this.g={}}x(Ks,M);var Ya=[];function Xa(u){wt(u.g,function(m,y){this.g.hasOwnProperty(y)&&zr(m)},u),u.g={}}Ks.prototype.N=function(){Ks.Z.N.call(this),Xa(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=d.JSON.stringify,Yc=d.JSON.parse,Ro=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Co(){}function No(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){V.call(this,"d")}x(ze,V);function Sn(){V.call(this,"c")}x(Sn,V);var de={},Do=null;function Br(){return Do=Do||new _e}de.Ia="serverreachability";function Io(u){V.call(this,de.Ia,u)}x(Io,V);function Wn(u){const m=Br();Ve(m,new Io(m))}de.STAT_EVENT="statevent";function Zs(u,m){V.call(this,de.STAT_EVENT,u),this.stat=m}x(Zs,V);function ve(u){const m=Br();Ve(m,new Zs(m,u))}de.Ja="timingevent";function ti(u,m){V.call(this,de.Ja,u),this.size=m}x(ti,V);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Xc(u,m,y,T,U,H){u.info(function(){if(u.g)if(H){var st="",Rt=H.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var me=Rt[Ht].split("=");if(me.length>1){const ae=me[0];me=me[1];const Cn=ae.split("_");st=Cn.length>=2&&Cn[1]=="type"?st+(ae+"="+me+"&"):st+(ae+"=redacted&")}}}else st=null;else st=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+st})}function Vo(u,m,y,T,U,H,st){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+H+" "+st})}function ni(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kc(u,y)+(T?" "+T:"")})}function Js(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Kc(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var y=H[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let st=1;st<T.length;st++)T[st]=""}}}}return Wi(H)}catch{return m}}var $s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ka={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Za;function Ws(){}x(Ws,Co),Ws.prototype.g=function(){return new XMLHttpRequest},Za=new Ws;function Di(u){return encodeURIComponent(String(u))}function Oo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Bn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var be={},je={};function ii(u,m,y){u.M=1,u.A=tr(Te(m)),u.u=y,u.R=!0,Pr(u,null)}function Pr(u,m){u.F=Date.now(),si(u),u.B=Te(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Gr(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Pn,u.g=Xo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ya[0]=U.toString()),U=Ya);for(let H=0;H<U.length;H++){const st=re(y,U[H],T||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Xc(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Fn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Rt!=4||me==7||(me==8||Ht<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var y=Zc(this);if(this.o=m==200,Vo(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break e}}H=null}if(u=H)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),xn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<y.length;)if(ae=jo(this,y),ae==je){Rt==4&&(this.m=4,ve(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==be){this.m=4,ve(15),ni(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,ae,null),ai(this,ae);if(Mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||y.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,y,"[Invalid Chunked Response]"),dn(this),xn(this);else if(y.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),hl(st),st.P=!0,ve(11))}}else ni(this.i,this.l,y,null),ai(this,y);Rt==4&&dn(this),this.o&&!this.K&&(Rt==4?Fo(this.j,this):(this.o=!1,si(this)))}else Vi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),xn(this)}}}catch{}finally{}};function Zc(u){if(!Mo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let y="";const T=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),xn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,y+=u.h.i.decode(m[H],{stream:!(U&&H==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Mo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function jo(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?je:(y=Number(m.substring(y,T)),isNaN(y)?be:(T+=1,T+y>m.length?je:(m=m.slice(T,T+y),u.C=T+y,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function si(u){u.T=Date.now()+u.H,qr(u,u.H)}function qr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(_(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Js(this.i,this.B),this.M!=2&&(Wn(),ve(17)),dn(this),this.m=2,xn(this)):qr(this,this.T-u)};function xn(u){u.j.I==0||u.K||Fo(u.j,u)}function dn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xa(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||oi(y.h,u))){if(!u.L&&oi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Zr(y),ls(y);else break t;lr(y),ve(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ei(_(y.Va,y),6e3));li(y.h)<=1&&y.ta&&(y.ta=void 0)}else mi(y,11)}else if((u.L||y.g==u)&&Zr(y),!R(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const ae=Ht[0];if(!(ae<=y.K))if(y.K=ae,Ht=Ht[1],y.I==2)if(Ht[0]=="c"){y.M=Ht[1],y.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(y.ka=Cn,y.j.info("VER="+y.ka));const gi=Ht[4];gi!=null&&(y.za=gi,y.j.info("SVER="+y.za));const Gn=Ht[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Qn=u.g;if(Qn){const or=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var H=T.h;H.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Wa(H,H.h),H.h=null))}if(T.G){const Jr=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jr&&(T.wa=Jr,Yt(T.J,T.G,Jr))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var st=u;if(T.na=Yo(T,T.L?T.ba:null,T.W),st.L){tl(T.h,st);var Rt=st,me=T.O;me&&(Rt.H=me),Rt.D&&(ri(Rt),si(Rt)),T.g=st}else qo(T);y.i.length>0&&di(y)}else Ht[0]!="stop"&&Ht[0]!="close"||mi(y,7);else y.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?mi(y,7):ul(y):Ht[0]!="noop"&&y.l&&y.l.qa(Ht),y.A=0)}}Wn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function Ja(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $a(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Wa(u,m){u.g?u.g.add(m):u.h=m}function tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ja.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function el(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return q(u.i)}var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let U,H=null;T>=0?(U=u[y].substring(0,T),H=u[y].substring(T+1)):U=u[y],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,ts(this,u.u),this.h=u.h,nl(this,Bo(u.i)),this.m=u.m):u&&(m=String(u).match(ko))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),ts(this,m[4]),this.h=ui(m[5]||"",!0),nl(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ns(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(er(m,Fr,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(er(m,Fr,!0),"@"),u.push(Di(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(er(y,y.charAt(0)=="/"?il:Uo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",er(y,Lo)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let y=!!u.j;y?ke(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ts(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let st=0;st<U.length;){const Rt=U[st++];Rt=="."?T&&st==U.length&&H.push(""):Rt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&st==U.length&&H.push("")):(H.push(Rt),T=!0)}T=H.join("/")}else T=U}return y?m.h=T:y=u.i.toString()!=="",y?nl(m,Bo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Te(u){return new mn(u)}function ke(u,m,y){u.j=y?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function nl(u,m,y){m instanceof ns?(u.i=m,Qr(u.i,u.l)):(y||(m=er(m,es)),u.i=new ns(m,u.l))}function Yt(u,m,y){u.i.set(m,y)}function tr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function er(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fr=/[#\/\?@]/g,Uo=/[#\?:]/g,il=/[#\?]/g,es=/[#\?@]/g,Lo=/#/g;function ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Hr(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=ns.prototype,r.add=function(u,m){sn(this),this.i=null,u=is(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function zo(u,m){sn(u),m=is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function sl(u,m){return sn(u),m=is(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)};function rl(u,m){sn(u);let y=[];if(typeof m=="string")sl(u,m)&&(y=y.concat(u.g.get(is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return sn(this),this.i=null,u=is(this,u),sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=rl(this,u),u.length>0?String(u[0]):m):m};function Gr(u,m,y){zo(u,m),y.length>0&&(u.i=null,u.g.set(is(u,m),q(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const U=Di(y);y=rl(this,y);for(let H=0;H<y.length;H++){let st=U;y[H]!==""&&(st+="="+Di(y[H])),u.push(st)}}return this.i=u.join("&")};function Bo(u){const m=new ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(y,T){const U=T.toLowerCase();T!=U&&(zo(this,T),Gr(this,U,y))},u)),u.j=m}function qn(u,m){const y=new zn;if(d.Image){const T=new Image;T.onload=A(wn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,y,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function al(u,m){const y=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?wn(y,"TestPingServer: ok",!0,m):wn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(y,"TestPingServer: error",!1,m)})}function wn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function ss(){this.g=new Ro}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}x(ci,Co),ci.prototype.g=function(){return new nr(this.i,this.h)};function nr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(nr,_e),r=nr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?rs(this):Hn(this),this.readyState==3&&Yr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,rs(this))},r.Na=function(u){this.g&&(this.response=u,rs(this))},r.ga=function(){this.g&&rs(this)};function rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return wt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function ir(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Rn(y),typeof u=="string"?y!=null&&Di(y):Yt(u,m,y))}function Zt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Zt,_e);var hi=/^https?$/i,ll=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Za.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){sr(this,H);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())y.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ll,m,void 0)>=0)||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,st]of y)this.g.setRequestHeader(H,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){sr(this,H)}};function sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ol(u),Ii(u)}function ol(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?rr(this):this.Xa())},r.Xa=function(){rr(this)};function rr(u){if(u.h&&typeof h<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=H===0){let st=String(u.D).match(ko)[1]||null;!st&&d.self&&d.self.location&&(st=d.self.location.protocol.slice(0,-1)),T=!hi.test(st?st.toLowerCase():"")}y=T}if(y)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ol(u)}}finally{Ii(u)}}}}function Ii(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ve(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Yc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=Oo(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[U]||[];m[U]=H,H.push(y)}bt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function as(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ja(u&&u.concurrentRequestLimit),this.Ba=new ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=as.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){ve(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=Yo(this,null,this.W),di(this)};function ul(u){if(Xr(u),u.I==3){var m=u.V++,y=Te(u.J);if(Yt(y,"SID",u.M),Yt(y,"RID",m),Yt(y,"TYPE","terminate"),ar(u,y),m=new Bn(u,u.j,m),m.M=2,m.A=tr(Te(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Xo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}Qo(u)}function ls(u){u.g&&(hl(u),u.g.cancel(),u.g=null)}function Xr(u){ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),Zr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!$a(u.h)&&!u.m){u.m=!0;var m=u.Ea;gt||S(),dt||(gt(),dt=!0),w.add(m,u),u.D=0}}function Kr(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(_(u.Ea,u,m),Go(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=I(H),at(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Po(this,U,m),y=Te(this.J),Yt(y,"RID",u),Yt(y,"CVER",22),this.G&&Yt(y,"X-HTTP-Session-Id",this.G),ar(this,y),H&&(this.R?m="headers="+Di(Rn(H))+"&"+m:this.u&&ir(y,this.u,H)),Wa(this.h,U),this.Ra&&Yt(y,"TYPE","init"),this.S?(Yt(y,"$req",m),Yt(y,"SID","null"),U.U=!0,ii(U,y,null)):ii(U,y,m),this.I=2}}else this.I==3&&(u?cl(this,u):this.i.length==0||$a(this.h)||cl(this))};function cl(u,m){var y;m?y=m.l:y=u.V++;const T=Te(u.J);Yt(T,"SID",u.M),Yt(T,"RID",y),Yt(T,"AID",u.K),ar(u,T),u.u&&u.o&&ir(T,u.u,u.o),y=new Bn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Po(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Wa(u.h,y),ii(y,T,m)}function ar(u,m){u.H&&wt(u.H,function(y,T){Yt(m,T,y)}),u.l&&wt({},function(y,T){Yt(m,T,y)})}function Po(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Rt=-1;for(;;){const me=["count="+y];Rt==-1?y>0?(Rt=U[0].g,me.push("ofs="+Rt)):Rt=0:me.push("ofs="+Rt);let Ht=!0;for(let ae=0;ae<y;ae++){var H=U[ae].g;const Cn=U[ae].map;if(H-=Rt,H<0)Rt=Math.max(0,U[ae].g-100),Ht=!1;else try{H="req"+H+"_"||"";try{var st=Cn instanceof Map?Cn:Object.entries(Cn);for(const[gi,Gn]of st){let Qn=Gn;p(Gn)&&(Qn=Wi(Gn)),me.push(H+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw me.push(H+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Cn)}}if(Ht){st=me.join("&");break t}}st=void 0}return u=u.i.splice(0,y),m.G=u,st}function qo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;gt||S(),dt||(gt(),dt=!0),w.add(m,u),u.A=0}}function lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(_(u.Da,u),Go(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Ho(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ls(this),Ho(this))};function hl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ho(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),ar(u,m),u.u&&u.o&&ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=tr(Te(m)),y.u=null,y.R=!0,Pr(y,u)}r.Va=function(){this.C!=null&&(this.C=null,ls(this),lr(this),ve(19))};function Zr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Fo(u,m){var y=null;if(u.g==m){Zr(u),hl(u),u.g=null;var T=2}else if(oi(u.h,m))y=m.G,tl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Br(),Ve(T,new ti(T,y)),di(u)}else qo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Kr(u,m)||T==2&&lr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Go(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const U=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),tr(T),U?qn(T.toString(),y):al(T.toString(),y)}else ve(2);u.I=0,u.l&&u.l.pa(m),Qo(u),Xr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Qo(u){if(u.I=0,u.ja=[],u.l){const m=el(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Yo(u,m,y){var T=y instanceof mn?Te(y):new mn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ts(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new mn(null);T&&ke(H,T),m&&(H.g=m),U&&ts(H,U),y&&(H.h=y),T=H}return y=u.G,m=u.wa,y&&m&&Yt(T,y,m),Yt(T,"VER",u.ka),ar(u,T),T}function Xo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ci({ab:y})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ko(){}r=Ko.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function os(){}os.prototype.g=function(u,m){return new We(u,m)};function We(u,m){_e.call(this),this.g=new as(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}x(We,_e),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){ul(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Wi(u),u=y);m.i.push(new Ee(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,We.Z.N.call(this)};function Zo(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Zo,ze);function Jo(){Sn.call(this),this.status=1}x(Jo,Sn);function Oi(u){this.g=u}x(Oi,Ko),Oi.prototype.ra=function(){Ve(this.g,"a")},Oi.prototype.qa=function(u){Ve(this.g,new Zo(u))},Oi.prototype.pa=function(u){Ve(this.g,new Jo)},Oi.prototype.oa=function(){Ve(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,G0=function(){return new os},F0=function(){return Br()},H0=de,dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,oc=$s,Ka.COMPLETE="complete",q0=Ka,No.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Jl=No,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,P0=Zt}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore",p_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new D0("@firebase/firestore");function Ra(){return Nr.logLevel}function ot(r,...e){if(Nr.logLevel<=Bt.DEBUG){const i=e.map(kd);Nr.debug(`Firestore (${za}): ${r}`,...i)}}function Zi(r,...e){if(Nr.logLevel<=Bt.ERROR){const i=e.map(kd);Nr.error(`Firestore (${za}): ${r}`,...i)}}function Oa(r,...e){if(Nr.logLevel<=Bt.WARN){const i=e.map(kd);Nr.warn(`Firestore (${za}): ${r}`,...i)}}function kd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Q0(r,a,i)}function Q0(r,e,i){let a=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Zi(a),new Error(a)}function Gt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||Q0(e,o,a)}function xt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Or{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class iT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class sT{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Us,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Us)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new Y0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class rT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new rT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,M0(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const a=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=oT(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function jt(r,e){return r<e?-1:r>e?1:0}function md(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return ed(o)===ed(h)?jt(o,h):ed(o)?1:-1}return jt(r.length,e.length)}const uT=55296,cT=57343;function ed(r){const e=r.charCodeAt(0);return e>=uT&&e<=cT}function Ma(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__name__";class bi{constructor(e,i,a){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&vt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=bi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return jt(e.length,i.length)}static compareSegments(e,i){const a=bi.isNumericId(e),o=bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?bi.extractNumericId(e).compare(bi.extractNumericId(i)):md(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class ee extends bi{construct(e,i,a){return new ee(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const hT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends bi{construct(e,i,a){return new Qe(e,i,a)}static isValidIdentifier(e){return hT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===__}static keyField(){return new Qe([__])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(h(),o++)}if(h(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(ee.fromString(e))}static fromName(e){return new yt(ee.fromString(e).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r,e,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fT(r,e,i,a){if(e===!0&&a===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function v_(r){if(!yt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b_(r){if(yt.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function K0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Nc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Ai(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nc(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e){const i={typeString:r};return e&&(i.value=e),i}function _o(r,e){if(!K0(r))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,T_=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*T_);return new se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<E_)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ne("string",se._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=-1;function dT(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new zs(o,yt.empty(),e)}function mT(r){return new zs(r.readTime,r.key,co)}class zs{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new zs(At.min(),yt.empty(),co)}static max(){return new zs(At.max(),yt.empty(),co)}}function gT(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,e.documentKey),i!==0?i:jt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==pT)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++p,p===h&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new $(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function _T(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Pa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=-1;function Ic(r){return r==null}function yc(r){return r===0&&1/r==-1/0}function vT(r){return typeof r=="number"&&Number.isInteger(r)&&!yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="";function bT(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=A_(e)),e=ET(r.get(i),e);return A_(e)}function ET(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Z0:i+="";break;default:i+=h}}return i}function A_(r){return r+Z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Gs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function J0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Ge(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new $0("Invalid base64 string: "+h):h}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const TT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(r){if(Gt(!!r,39018),typeof r=="string"){let e=0;const i=TT.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ps(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="server_timestamp",tv="__type__",ev="__previous_value__",nv="__local_write_time__";function zd(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[tv])==null?void 0:a.stringValue)===W0}function Vc(r){const e=r.mapValue.fields[ev];return zd(e)?Vc(e):e}function ho(r){const e=Bs(r.mapValue.fields[nv].timestampValue);return new se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,i,a,o,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const _c="(default)";class fo{constructor(e,i){this.projectId=e,this.database=i||_c}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database===_c}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__type__",ST="__max__",ic={mapValue:{}},sv="__vector__",vc="value";function qs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zd(r)?4:wT(r)?9007199254740991:xT(r)?10:11:vt(28295,{value:r})}function Ci(r,e){if(r===e)return!0;const i=qs(r);if(i!==qs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ho(r).isEqual(ho(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Bs(o.timestampValue),p=Bs(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Ps(o.bytesValue).isEqual(Ps(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ye(o.geoPointValue.latitude)===ye(h.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ye(o.integerValue)===ye(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ye(o.doubleValue),p=ye(h.doubleValue);return d===p?yc(d)===yc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Ma(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(S_(d)!==S_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ci(d[v],p[v])))return!1;return!0})(r,e);default:return vt(52216,{left:r})}}function mo(r,e){return(r.values||[]).find((i=>Ci(i,e)))!==void 0}function ja(r,e){if(r===e)return 0;const i=qs(r),a=qs(e);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=ye(h.integerValue||h.doubleValue),v=ye(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return w_(r.timestampValue,e.timestampValue);case 4:return w_(ho(r),ho(e));case 5:return md(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=Ps(h),v=Ps(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=jt(p[_],v[_]);if(A!==0)return A}return jt(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=jt(ye(h.latitude),ye(d.latitude));return p!==0?p:jt(ye(h.longitude),ye(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return R_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var D,q,W,tt;const p=h.fields||{},v=d.fields||{},_=(D=p[vc])==null?void 0:D.arrayValue,A=(q=v[vc])==null?void 0:q.arrayValue,x=jt(((W=_==null?void 0:_.values)==null?void 0:W.length)||0,((tt=A==null?void 0:A.values)==null?void 0:tt.length)||0);return x!==0?x:R_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ic.mapValue&&d===ic.mapValue)return 0;if(h===ic.mapValue)return 1;if(d===ic.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let x=0;x<v.length&&x<A.length;++x){const D=md(v[x],A[x]);if(D!==0)return D;const q=ja(p[v[x]],_[A[x]]);if(q!==0)return q}return jt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function w_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return jt(r,e);const i=Bs(r),a=Bs(e),o=jt(i.seconds,a.seconds);return o!==0?o:jt(i.nanos,a.nanos)}function R_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=ja(i[o],a[o]);if(h)return h}return jt(i.length,a.length)}function ka(r){return gd(r)}function gd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Bs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ps(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=gd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${gd(i.fields[d])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function uc(r){switch(qs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vc(r);return e?16+uc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+uc(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Gs(a.fields,((h,d)=>{o+=h.length+uc(d)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function C_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function pd(r){return!!r&&"integerValue"in r}function Bd(r){return!!r&&"arrayValue"in r}function N_(r){return!!r&&"nullValue"in r}function D_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cc(r){return!!r&&"mapValue"in r}function xT(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[iv])==null?void 0:a.stringValue)===sv}function io(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Gs(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=io(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=io(r.arrayValue.values[i]);return e}return{...r}}function wT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ST}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!cc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(i)}setAll(e){let i=Qe.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=io(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Gs(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new hn(io(this.value))}}function rv(r){const e=[];return Gs(r.fields,((i,a)=>{const o=new Qe([i]);if(cc(a)){const h=rv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,i,a,o,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Je(e,0,At.min(),At.min(),At.min(),hn.empty(),0)}static newFoundDocument(e,i,a,o){return new Je(e,1,i,At.min(),a,o,0)}static newNoDocument(e,i){return new Je(e,2,i,At.min(),At.min(),hn.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,At.min(),At.min(),hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i){this.position=e,this.inclusive=i}}function I_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=ja(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function V_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function RT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{}class Ce extends av{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new NT(e,i,a):i==="array-contains"?new VT(e,a):i==="in"?new OT(e,a):i==="not-in"?new MT(e,a):i==="array-contains-any"?new jT(e,a):new Ce(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new DT(e,a):new IT(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ja(i,this.value)):i!==null&&qs(this.value)===qs(i)&&this.matchesComparison(ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends av{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Jn(e,i)}matches(e){return lv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lv(r){return r.op==="and"}function ov(r){return CT(r)&&lv(r)}function CT(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function yd(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+ka(r.value);if(ov(r))return r.filters.map((e=>yd(e))).join(",");{const e=r.filters.map((i=>yd(i))).join(",");return`${r.op}(${e})`}}function uv(r,e){return r instanceof Ce?(function(a,o){return o instanceof Ce&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(r,e):r instanceof Jn?(function(a,o){return o instanceof Jn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,p)=>h&&uv(d,o.filters[p])),!0):!1})(r,e):void vt(19439)}function cv(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${ka(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(cv).join(" ,")+"}"})(r):"Filter"}class NT extends Ce{constructor(e,i,a){super(e,i,a),this.key=yt.fromName(a.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class DT extends Ce{constructor(e,i){super(e,"in",i),this.keys=hv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class IT extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=hv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function hv(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((a=>yt.fromName(a.referenceValue)))}class VT extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Bd(i)&&mo(i.arrayValue,this.value)}}class OT extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&mo(this.value.arrayValue,i)}}class MT extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!mo(this.value.arrayValue,i)}}class jT extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Bd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>mo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,i=null,a=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function O_(r,e=null,i=[],a=[],o=null,h=null,d=null){return new kT(r,e,i,a,o,h,d)}function Pd(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>yd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Ic(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ka(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ka(a))).join(",")),e.Te=i}return e.Te}function qd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!RT(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!uv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!V_(r.startAt,e.startAt)&&V_(r.endAt,e.endAt)}function _d(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,i=null,a=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UT(r,e,i,a,o,h,d,p){return new vo(r,e,i,a,o,h,d,p)}function Hd(r){return new vo(r)}function M_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fv(r){return r.collectionGroup!==null}function so(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Ec(h,a))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new Ec(Qe.keyField(),a))}return e.Ie}function Si(r){const e=xt(r);return e.Ee||(e.Ee=LT(e,so(r))),e.Ee}function LT(r,e){if(r.limitType==="F")return O_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Ec(o.field,h)}));const i=r.endAt?new bc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new bc(r.startAt.position,r.startAt.inclusive):null;return O_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function vd(r,e){const i=r.filters.concat([e]);return new vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function bd(r,e,i){return new vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Oc(r,e){return qd(Si(r),Si(e))&&r.limitType===e.limitType}function dv(r){return`${Pd(Si(r))}|lt:${r.limitType}`}function Ca(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>cv(o))).join(", ")}]`),Ic(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>ka(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>ka(o))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function Mc(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):yt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of so(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const _=I_(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,so(a),o)||a.endAt&&!(function(d,p,v){const _=I_(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,so(a),o))})(r,e)}function zT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mv(r){return(e,i)=>{let a=!1;for(const o of so(r)){const h=BT(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function BT(r,e,i){const a=r.field.isKeyField()?yt.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?ja(v,_):vt(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new oe(yt.comparator);function Ji(){return PT}const gv=new oe(yt.comparator);function $l(...r){let e=gv;for(const i of r)e=e.insert(i.key,i);return e}function pv(r){let e=gv;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function xr(){return ro()}function yv(){return ro()}function ro(){return new Mr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const qT=new oe(yt.comparator),HT=new Me(yt.comparator);function kt(...r){let e=HT;for(const i of r)e=e.add(i);return e}const FT=new Me(jt);function GT(){return FT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function _v(r){return{integerValue:""+r}}function QT(r,e){return vT(e)?_v(e):Fd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function YT(r,e,i){return r instanceof Tc?(function(o,h){const d={fields:{[tv]:{stringValue:W0},[nv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&zd(h)&&(h=Vc(h)),h&&(d.fields[ev]=h),{mapValue:d}})(i,e):r instanceof go?bv(r,e):r instanceof po?Ev(r,e):(function(o,h){const d=vv(o,h),p=j_(d)+j_(o.Ae);return pd(d)&&pd(o.Ae)?_v(p):Fd(o.serializer,p)})(r,e)}function XT(r,e,i){return r instanceof go?bv(r,e):r instanceof po?Ev(r,e):i}function vv(r,e){return r instanceof Ac?(function(a){return pd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class Tc extends jc{}class go extends jc{constructor(e){super(),this.elements=e}}function bv(r,e){const i=Tv(e);for(const a of r.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class po extends jc{constructor(e){super(),this.elements=e}}function Ev(r,e){let i=Tv(e);for(const a of r.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class Ac extends jc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function j_(r){return ye(r.integerValue||r.doubleValue)}function Tv(r){return Bd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KT(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof go&&o instanceof go||a instanceof po&&o instanceof po?Ma(a.elements,o.elements,Ci):a instanceof Ac&&o instanceof Ac?Ci(a.Ae,o.Ae):a instanceof Tc&&o instanceof Tc})(r.transform,e.transform)}class ZT{constructor(e,i){this.version=e,this.transformResults=i}}class Zn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class kc{}function Av(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gd(r.key,Zn.none()):new bo(r.key,r.data,Zn.none());{const i=r.data,a=hn.empty();let o=new Me(Qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Qs(r.key,a,new Tn(o.toArray()),Zn.none())}}function JT(r,e,i){r instanceof bo?(function(o,h,d){const p=o.value.clone(),v=U_(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Qs?(function(o,h,d){if(!hc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=U_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Sv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ao(r,e,i,a){return r instanceof bo?(function(h,d,p,v){if(!hc(h.precondition,d))return p;const _=h.value.clone(),A=L_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Qs?(function(h,d,p,v){if(!hc(h.precondition,d))return p;const _=L_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Sv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(r,e,i,a):(function(h,d,p){return hc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function $T(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=vv(a.transform,o||null);h!=null&&(i===null&&(i=hn.empty()),i.set(a.field,h))}return i||null}function k_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ma(a,o,((h,d)=>KT(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bo extends kc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qs extends kc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Sv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function U_(r,e,i){const a=new Map;Gt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);a.set(h.field,XT(d,p,i[o]))}return a}function L_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,YT(h,d,e))}return a}class Gd extends kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WT extends kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&JT(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ao(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ao(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=yv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=Av(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),kt())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,((i,a)=>k_(i,a)))&&Ma(this.baseMutations,e.baseMutations,((i,a)=>k_(i,a)))}}class Qd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Gt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return qT})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Qd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,zt;function iA(r){switch(r){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function xv(r){if(r===void 0)return Zi("GRPC error has no .code"),J.UNKNOWN;switch(r){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:r})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new ks([4294967295,4294967295],0);function z_(r){const e=sA().encode(r),i=new B0;return i.update(e),new Uint8Array(i.digest())}function B_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ks([i,a],0),new ks([o,h],0)]}class Yd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(a<0)throw new Wl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ks.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(ks.fromNumber(a)));return o.compare(rA)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=z_(e),[a,o]=B_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Yd(h,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=z_(e),[a,o]=B_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Uc(At.min(),o,new oe(jt),Ji(),kt())}}class Eo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Eo(a,i,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class wv{constructor(e,i){this.targetId=e,this.Ce=i}}class Rv{constructor(e,i,a=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class P_{constructor(){this.ve=0,this.Fe=q_(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=kt(),i=kt(),a=kt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:h})}})),new Eo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=q_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=sc(),this.He=sc(),this.Ye=new oe(jt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(_d(h))if(a===0){const d=new yt(h.path);this.et(i,d,Je.newNoDocument(d,At.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Ps(a).toUint8Array()}catch(v){if(v instanceof $0)return Oa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Yd(d,o,h)}catch(v){return Oa(v instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&_d(p.target)){const v=new yt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=kt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Uc(e,i,this.Ye,this.je,a);return this.je=Ji(),this.Je=sc(),this.He=sc(),this.Ye=new oe(jt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new P_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(jt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(jt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new P_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function sc(){return new oe(yt.comparator)}function q_(){return new oe(yt.comparator)}const lA={asc:"ASCENDING",desc:"DESCENDING"},oA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uA={and:"AND",or:"OR"};class cA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ed(r,e){return r.useProto3Json||Ic(e)?e:{value:e}}function Sc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hA(r,e){return Sc(r,e.toTimestamp())}function xi(r){return Gt(!!r,49232),At.fromTimestamp((function(i){const a=Bs(i);return new se(a.seconds,a.nanos)})(r))}function Xd(r,e){return Td(r,e).canonicalString()}function Td(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Nv(r){const e=ee.fromString(r);return Gt(Mv(e),10190,{key:e.toString()}),e}function Ad(r,e){return Xd(r.databaseId,e.path)}function nd(r,e){const i=Nv(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(Iv(i))}function Dv(r,e){return Xd(r.databaseId,e)}function fA(r){const e=Nv(r);return e.length===4?ee.emptyPath():Iv(e)}function Sd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Iv(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function H_(r,e,i){return{name:Ad(r,e),fields:i.value.mapValue.fields}}function dA(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:xv(_.code);return new lt(A,_.message||"")})(d);i=new Rv(a,o,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=nd(r,a.document.name),h=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):At.min(),p=new hn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(o,h,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new fc(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=nd(r,a.document),h=a.readTime?xi(a.readTime):At.min(),d=Je.newNoDocument(o,h),p=a.removedTargetIds||[];i=new fc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=nd(r,a.document),h=a.removedTargetIds||[];i=new fc([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new nA(o,h),p=a.targetId;i=new wv(p,d)}}return i}function mA(r,e){let i;if(e instanceof bo)i={update:H_(r,e.key,e.value)};else if(e instanceof Gd)i={delete:Ad(r,e.key)};else if(e instanceof Qs)i={update:H_(r,e.key,e.data),updateMask:AA(e.fieldMask)};else{if(!(e instanceof WT))return vt(16599,{Vt:e.type});i={verify:Ad(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const p=d.transform;if(p instanceof Tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ac)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:hA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(r,e.precondition)),i}function gA(r,e){return r&&r.length>0?(Gt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?xi(o.updateTime):xi(h);return d.isEqual(At.min())&&(d=xi(h)),new ZT(d,o.transformResults||[])})(i,e)))):[]}function pA(r,e){return{documents:[Dv(r,e.path)]}}function yA(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Dv(r,o);const h=(function(_){if(_.length!==0)return Ov(Jn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(D){return{field:Na(D.field),direction:bA(D.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Ed(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function _A(r){let e=fA(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Gt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(x){const D=Vv(x);return D instanceof Jn&&ov(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((D=>(function(W){return new Ec(Da(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let D;return D=typeof x=="object"?x.value:x,Ic(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(x){const D=!!x.before,q=x.values||[];return new bc(q,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const D=!x.before,q=x.values||[];return new bc(q,D)})(i.endAt)),UT(e,o,d,h,p,"F",v,_)}function vA(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Vv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Da(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Da(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Da(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Da(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Da(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((a=>Vv(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function bA(r){return lA[r]}function EA(r){return oA[r]}function TA(r){return uA[r]}function Na(r){return{fieldPath:r.canonicalString()}}function Da(r){return Qe.fromServerFormat(r.fieldPath)}function Ov(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(D_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NAN"}};if(N_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(D_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NAN"}};if(N_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(i.field),op:EA(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const a=i.getFilters().map((o=>Ov(o)));return a.length===1?a[0]:{compositeFilter:{op:TA(i.op),filters:a}}})(r):vt(54877,{filter:r})}function AA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Mv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,i,a,o,h=At.min(),d=At.min(),p=Ye.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.yt=e}}function xA(r){const e=_A({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.Cn=new RA}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(zs.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class RA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Me(ee.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Me(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jv=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(jv,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ua(0)}static cr(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LruGarbageCollector",CA=1048576;function Q_([r,e],[i,a]){const o=jt(r,i);return o===0?jt(e,a):o}class NA{constructor(e){this.Ir=e,this.buffer=new Me(Q_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Q_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class DA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(G_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Pa(i)?ot(G_,"Ignoring IndexedDB error during garbage collection: ",i):await Ba(i)}await this.Vr(3e5)}))}}class IA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Dc.ce);const a=new NA(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(F_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,p=Date.now(),this.removeTargets(e,a,i)))).next((x=>(h=x,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),Ra()<=Bt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${x} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:x}))))}}function VA(r,e){return new IA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.changes=new Mr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&ao(a.mutation,o,Tn.empty(),se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,kt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=kt()){const o=xr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=$l();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=xr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,kt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let h=Ji();const d=ro(),p=(function(){return ro()})();return i.forEach(((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Qs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),ao(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new MA(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=ro();let o=new oe(((d,p)=>d-p)),h=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Tn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const x=(o.get(p.batchId)||kt()).add(v);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,x=yv();A.forEach((D=>{if(!h.has(D)){const q=Av(i.get(D),a.get(D));q!==null&&x.set(D,q),h=h.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):$.resolve(xr());let p=co,v=h;return d.next((_=>$.forEach(_,((A,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),h.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((D=>{v=v.insert(A,D)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,kt()))).next((A=>({batchId:p,changes:pv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,h).next((p=>$.forEach(p,(v=>{const _=(function(x,D){return new vo(D,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((x,D)=>{d=d.insert(x,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=$l();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&ao(A.mutation,_,Tn.empty(),se.now()),Mc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:xA(o.bundledQuery),readTime:xi(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.overlays=new oe(yt.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=xr();return $.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=xr(),h=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=xr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=xr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return $.resolve(p)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new eA(i,a));let h=this.qr.get(i);h===void 0&&(h=kt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Le(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new yt(new ee([])),a=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new yt(new ee([])),a=new Le(i,e),o=new Le(i,e+1);let h=kt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return yt.comparator(e.key,i.key)||jt(e.Yr,i.Yr)}static Kr(e,i){return jt(e.Yr,i.Yr)||yt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new tA(h,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ld:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Me(jt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;yt.isDocumentKey(h)||(h=h.child(""));const d=new Le(new yt(h),0);let p=new Me(jt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Le(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.ri=e,this.docs=(function(){return new oe(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let a=Ji();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Je.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ji();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||gT(mT(A),a)<=0||(o.has(A.key)||Mc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,a,o){vt(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new PA(this)}getSize(e){return $.resolve(this.size)}}class PA extends OA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.persistence=e,this.si=new Mr((i=>Pd(i)),qd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Kd,this.targetCount=0,this.ai=Ua.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ua(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Dc(0),this.li=!1,this.li=!0,this.hi=new LA,this.referenceDelegate=e(this),this.Pi=new qA(this),this.indexManager=new wA,this.remoteDocumentCache=(function(o){return new BA(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new SA(i),this.Ii=new kA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new UA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new zA(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ot("MemoryPersistence","Starting transaction:",e);const o=new HA(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class HA extends yT{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.Ri=new Kd,this.Vi=null}static mi(e){return new Zd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=yt.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class xc{constructor(e,i){this.persistence=e,this.pi=new Mr((a=>bT(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=VA(this,i)}static mi(e,i){return new xc(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,h.removeEntry(d,At.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=uc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=kt(),o=kt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Jd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qE()?8:_T(BE())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new FA;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ra()<=Bt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ca(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ra()<=Bt.DEBUG&&ot("QueryEngine","Query:",Ca(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ra()<=Bt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ca(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):$.resolve())}ys(e,i){if(M_(i))return $.resolve(null);let a=Si(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bd(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=kt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,bd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return M_(i)||o.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?$.resolve(null):(Ra()<=Bt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ca(i)),this.vs(e,d,i,dT(o,co)).next((p=>p)))}))}Ds(e,i){let a=new Me(mv(e));return i.forEach(((o,h)=>{Mc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return Ra()<=Bt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ca(i)),this.ps.getDocumentsMatchingQuery(e,i,zs.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="LocalStore",QA=3e8;class YA{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(jt),this.xs=new Mr((h=>Pd(h)),qd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function XA(r,e,i,a){return new YA(r,e,i,a)}async function Uv(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let v=kt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function KA(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const x=_.batch,D=x.keys();let q=$.resolve();return D.forEach((W=>{q=q.next((()=>A.getEntry(v,W))).next((tt=>{const Z=_.docVersions.get(W);Gt(Z!==null,48541),tt.version.compareTo(Z)<0&&(x.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(v,x)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=kt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Lv(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function ZA(r,e){const i=xt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,x)=>{const D=o.get(x);if(!D)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,x))));let q=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(x)!==null?q=q.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,a)),o=o.insert(x,q),(function(tt,Z,ct){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=QA?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(D,q,A)&&p.push(i.Pi.updateTargetData(h,q))}));let v=Ji(),_=kt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(JA(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((x=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function JA(r,e,i){let a=kt(),o=kt();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Ji();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(At.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ot($d,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function $A(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ld),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function WA(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Vs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function xd(r,e,i){const a=xt(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Pa(d))throw d;ot($d,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Y_(r,e,i){const a=xt(r);let o=At.min(),h=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const x=xt(v),D=x.xs.get(A);return D!==void 0?$.resolve(x.Ms.get(D)):x.Pi.getTargetData(_,A)})(a,d,Si(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?h:kt()))).next((p=>(tS(a,zT(e),p),{documents:p,Qs:h})))))}function tS(r,e,i){let a=r.Os.get(e)||At.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class X_{constructor(){this.activeTargetIds=GT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eS{constructor(){this.Mo=new X_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new X_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class Z_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(K_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function wd(){return rc===null?rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="RestConnection",iS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===_c?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=wd(),p=this.zo(e,i.toUriEncodedString());ot(id,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),A=yo(_);return this.Jo(e,p,v,a,A).then((x=>(ot(id,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Oa(id,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",a),x}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+za})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=iS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class aS extends sS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=wd();return new Promise(((p,v)=>{const _=new P0;_.setWithCredentials(!0),_.listenOnce(q0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case oc.NO_ERROR:const x=_.getResponseJson();ot(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case oc.TIMEOUT:ot(Ke,`RPC '${e}' ${d} timed out`),v(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const D=_.getStatus();if(ot(Ke,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const W=q==null?void 0:q.error;if(W&&W.status&&W.message){const tt=(function(ct){const ft=ct.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ft)>=0?ft:J.UNKNOWN})(W.status);v(new lt(tt,W.message))}else v(new lt(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Ke,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ot(Ke,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=wd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=G0(),p=F0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");ot(Ke,`Creating RPC '${e}' stream ${o}: ${A}`,v);const x=d.createWebChannel(A,v);this.I_(x);let D=!1,q=!1;const W=new rS({Yo:Z=>{q?ot(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(D||(ot(Ke,`Opening RPC '${e}' stream ${o} transport.`),x.open(),D=!0),ot(Ke,`RPC '${e}' stream ${o} sending:`,Z),x.send(Z))},Zo:()=>x.close()}),tt=(Z,ct,ft)=>{Z.listen(ct,(nt=>{try{ft(nt)}catch(it){setTimeout((()=>{throw it}),0)}}))};return tt(x,Jl.EventType.OPEN,(()=>{q||(ot(Ke,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),tt(x,Jl.EventType.CLOSE,(()=>{q||(q=!0,ot(Ke,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(x))})),tt(x,Jl.EventType.ERROR,(Z=>{q||(q=!0,Oa(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),tt(x,Jl.EventType.MESSAGE,(Z=>{var ct;if(!q){const ft=Z.data[0];Gt(!!ft,16349);const nt=ft,it=(nt==null?void 0:nt.error)||((ct=nt[0])==null?void 0:ct.error);if(it){ot(Ke,`RPC '${e}' stream ${o} received error:`,it);const gt=it.status;let dt=(function(C){const M=Re[C];if(M!==void 0)return xv(M)})(gt),w=it.message;dt===void 0&&(dt=J.INTERNAL,w="Unknown error status: "+gt+" with message "+it.message),q=!0,W.a_(new lt(dt,w)),x.close()}else ot(Ke,`RPC '${e}' stream ${o} received:`,ft),W.u_(ft)}})),tt(p,H0.STAT_EVENT,(Z=>{Z.stat===dd.PROXY?ot(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===dd.NOPROXY&&ot(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r){return new cA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="PersistentStream";class Bv{constructor(e,i,a,o,h,d,p,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(J_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(J_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lS extends Bv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=dA(this.serializer,e),a=(function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?xi(d.readTime):At.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Sd(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=_d(v)?{documents:pA(h,v)}:{query:yA(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Cv(h,d.resumeToken);const _=Ed(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Sc(h,d.snapshotVersion.toTimestamp());const _=Ed(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const a=vA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Sd(this.serializer),i.removeTarget=e,this.q_(i)}}class oS extends Bv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=gA(e.writeResults,e.commitTime),a=xi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Sd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>mA(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{}class cS extends uS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Td(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(J.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Td(i,a),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="RemoteStore";class fS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{jr(this)&&(ot(Dr,"Restarting streams for network reachability change."),await(async function(v){const _=xt(v);_.Ea.add(4),await To(_),_.Ra.set("Unknown"),_.Ea.delete(4),await zc(_)})(this))}))})),this.Ra=new hS(a,o)}}async function zc(r){if(jr(r))for(const e of r.da)await e(!0)}async function To(r){for(const e of r.da)await e(!1)}function Pv(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),nm(i)?em(i):qa(i).O_()&&tm(i,e))}function Wd(r,e){const i=xt(r),a=qa(i);i.Ia.delete(e),a.O_()&&qv(i,e),i.Ia.size===0&&(a.O_()?a.L_():jr(i)&&i.Ra.set("Unknown"))}function tm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qa(r).Y_(e)}function qv(r,e){r.Va.Ue(e),qa(r).Z_(e)}function em(r){r.Va=new aA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),qa(r).start(),r.Ra.ua()}function nm(r){return jr(r)&&!qa(r).x_()&&r.Ia.size>0}function jr(r){return xt(r).Ea.size===0}function Hv(r){r.Va=void 0}async function dS(r){r.Ra.set("Online")}async function mS(r){r.Ia.forEach(((e,i)=>{tm(r,e)}))}async function gS(r,e){Hv(r),nm(r)?(r.Ra.ha(e),em(r)):r.Ra.set("Unknown")}async function pS(r,e,i){if(r.Ra.set("Online"),e instanceof Rv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(a){ot(Dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await wc(r,a)}else if(e instanceof fc?r.Va.Ze(e):e instanceof wv?r.Va.st(e):r.Va.tt(e),!i.isEqual(At.min()))try{const a=await Lv(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),qv(h,v);const x=new Vs(A.target,v,_,A.sequenceNumber);tm(h,x)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(Dr,"Failed to raise snapshot:",a),await wc(r,a)}}async function wc(r,e,i){if(!Pa(e))throw e;r.Ea.add(1),await To(r),r.Ra.set("Offline"),i||(i=()=>Lv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Dr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await zc(r)}))}function Fv(r,e){return e().catch((i=>wc(r,i,e)))}async function Bc(r){const e=xt(r),i=Hs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ld;for(;yS(e);)try{const o=await $A(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,_S(e,o)}catch(o){await wc(e,o)}Gv(e)&&Qv(e)}function yS(r){return jr(r)&&r.Ta.length<10}function _S(r,e){r.Ta.push(e);const i=Hs(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Gv(r){return jr(r)&&!Hs(r).x_()&&r.Ta.length>0}function Qv(r){Hs(r).start()}async function vS(r){Hs(r).ra()}async function bS(r){const e=Hs(r);for(const i of r.Ta)e.ea(i.mutations)}async function ES(r,e,i){const a=r.Ta.shift(),o=Qd.from(a,e,i);await Fv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Bc(r)}async function TS(r,e){e&&Hs(r).X_&&await(async function(a,o){if((function(d){return iA(d)&&d!==J.ABORTED})(o.code)){const h=a.Ta.shift();Hs(a).B_(),await Fv(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Bc(a)}})(r,e),Gv(r)&&Qv(r)}async function $_(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),ot(Dr,"RemoteStore received new credentials");const a=jr(i);i.Ea.add(3),await To(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await zc(i)}async function AS(r,e){const i=xt(r);e?(i.Ea.delete(2),await zc(i)):e||(i.Ea.add(2),await To(i),i.Ra.set("Unknown"))}function qa(r){return r.ma||(r.ma=(function(i,a,o){const h=xt(i);return h.sa(),new lS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:dS.bind(null,r),t_:mS.bind(null,r),r_:gS.bind(null,r),H_:pS.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),nm(r)?em(r):r.Ra.set("Unknown")):(await r.ma.stop(),Hv(r))}))),r.ma}function Hs(r){return r.fa||(r.fa=(function(i,a,o){const h=xt(i);return h.sa(),new oS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:vS.bind(null,r),r_:TS.bind(null,r),ta:bS.bind(null,r),na:ES.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Bc(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Dr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,p=new im(e,i,d,o,h);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),Pa(r))return new lt(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(e){return new Ia(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=$l(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ia;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.ga=new oe(yt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class La{constructor(e,i,a,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new La(e,i,Ia.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xS{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xt(i),h=o.queries;o.queries=t0(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function t0(){return new Mr((r=>dv(r)),Oc)}async function Yv(r,e){const i=xt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new SS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=sm(d,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&rm(i)}async function Xv(r,e){const i=xt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function wS(r,e){const i=xt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&rm(i)}function RS(r,e,i){const a=xt(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function rm(r){r.Ca.forEach((e=>{e.next()}))}var Rd,e0;(e0=Rd||(Rd={})).Ma="default",e0.Cache="cache";class Kv{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new La(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.key=e}}class Jv{constructor(e){this.key=e}}class CS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=mv(e),this.tu=new Ia(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new W_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,x)=>{const D=o.get(A),q=Mc(this.query,x)?x:null,W=!!D&&this.mutatedKeys.has(D.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;D&&q?D.data.isEqual(q.data)?W!==tt&&(a.track({type:3,doc:q}),Z=!0):this.su(D,q)||(a.track({type:2,doc:q}),Z=!0,(v&&this.eu(q,v)>0||_&&this.eu(q,_)<0)&&(p=!0)):!D&&q?(a.track({type:0,doc:q}),Z=!0):D&&!q&&(a.track({type:1,doc:D}),Z=!0,(v||_)&&(p=!0)),Z&&(q?(d=d.add(q),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,x)=>(function(q,W){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:Z})}};return tt(q)-tt(W)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new La(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Jv(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Zv(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=kt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return La.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const am="SyncEngine";class NS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class DS{constructor(e){this.key=e,this.hu=!1}}class IS{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Mr((p=>dv(p)),Oc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(yt.comparator),this.Au=new Map,this.Ru=new Kd,this.Vu={},this.mu=new Map,this.fu=Ua.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VS(r,e,i=!0){const a=i1(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await $v(a,e,i,!0),o}async function OS(r,e){const i=i1(r);await $v(i,e,!0,!1)}async function $v(r,e,i,a){const o=await WA(r.localStore,Si(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await MS(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Pv(r.remoteStore,o),p}async function MS(r,e,i,a,o){r.pu=(x,D,q)=>(async function(tt,Z,ct,ft){let nt=Z.view.ru(ct);nt.Cs&&(nt=await Y_(tt.localStore,Z.query,!1).then((({documents:w})=>Z.view.ru(w,nt))));const it=ft&&ft.targetChanges.get(Z.targetId),gt=ft&&ft.targetMismatches.get(Z.targetId)!=null,dt=Z.view.applyChanges(nt,tt.isPrimaryClient,it,gt);return i0(tt,Z.targetId,dt.au),dt.snapshot})(r,x,D,q);const h=await Y_(r.localStore,e,!0),d=new CS(e,h.Qs),p=d.ru(h.documents),v=Eo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,v);i0(r,i,_.au);const A=new NS(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function jS(r,e,i){const a=xt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!Oc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await xd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Wd(a.remoteStore,o.targetId),Cd(a,o.targetId)})).catch(Ba)):(Cd(a,o.targetId),await xd(a.localStore,o.targetId,!0))}async function kS(r,e){const i=xt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wd(i.remoteStore,a.targetId))}async function US(r,e,i){const a=FS(r);try{const o=await(function(d,p){const v=xt(d),_=se.now(),A=p.reduce(((q,W)=>q.add(W.key)),kt());let x,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let W=Ji(),tt=kt();return v.Ns.getEntries(q,A).next((Z=>{W=Z,W.forEach(((ct,ft)=>{ft.isValidDocument()||(tt=tt.add(ct))}))})).next((()=>v.localDocuments.getOverlayedDocuments(q,W))).next((Z=>{x=Z;const ct=[];for(const ft of p){const nt=$T(ft,x.get(ft.key).overlayedDocument);nt!=null&&ct.push(new Qs(ft.key,nt,rv(nt.value.mapValue),Zn.exists(!0)))}return v.mutationQueue.addMutationBatch(q,_,ct,p)})).next((Z=>{D=Z;const ct=Z.applyToLocalDocumentSet(x,tt);return v.documentOverlayCache.saveOverlays(q,Z.batchId,ct)}))})).then((()=>({batchId:D.batchId,changes:pv(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(jt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Ao(a,o.changes),await Bc(a.remoteStore)}catch(o){const h=sm(o,"Failed to persist write");i.reject(h)}}async function Wv(r,e){const i=xt(r);try{const a=await ZA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Ao(i,a,e)}catch(a){await Ba(a)}}function n0(r,e,i){const a=xt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=xt(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,x)=>{for(const D of x.Sa)D.va(p)&&(_=!0)})),_&&rm(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function LS(r,e,i){const a=xt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new oe(yt.comparator);d=d.insert(h,Je.newNoDocument(h,At.min()));const p=kt().add(h),v=new Uc(At.min(),new Map,new oe(jt),d,p);await Wv(a,v),a.du=a.du.remove(h),a.Au.delete(e),lm(a)}else await xd(a.localStore,e,!1).then((()=>Cd(a,e,i))).catch(Ba)}async function zS(r,e){const i=xt(r),a=e.batch.batchId;try{const o=await KA(i.localStore,e);e1(i,a,null),t1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ao(i,o)}catch(o){await Ba(o)}}async function BS(r,e,i){const a=xt(r);try{const o=await(function(d,p){const v=xt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((x=>(Gt(x!==null,37113),A=x.keys(),v.mutationQueue.removeMutationBatch(_,x)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);e1(a,e,i),t1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Ao(a,o)}catch(o){await Ba(o)}}function t1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function e1(r,e,i){const a=xt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Cd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||n1(r,a)}))}function n1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Wd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),lm(r))}function i0(r,e,i){for(const a of i)a instanceof Zv?(r.Ru.addReference(a.key,e),PS(r,a)):a instanceof Jv?(ot(am,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||n1(r,a.key)):vt(19791,{wu:a})}function PS(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(am,"New document in limbo: "+i),r.Eu.add(a),lm(r))}function lm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new yt(ee.fromString(e)),a=r.fu.next();r.Au.set(a,new DS(i)),r.du=r.du.insert(i,a),Pv(r.remoteStore,new Vs(Si(Hd(i.path)),a,"TargetPurposeLimboResolution",Dc.ce))}}async function Ao(r,e,i){const a=xt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,e,i).then((_=>{var A;if((_||i)&&a.isPrimaryClient){const x=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Jd.As(v.targetId,_);h.push(x)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const A=xt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(_,(D=>$.forEach(D.Es,(q=>A.persistence.referenceDelegate.addReference(x,D.targetId,q))).next((()=>$.forEach(D.ds,(q=>A.persistence.referenceDelegate.removeReference(x,D.targetId,q)))))))))}catch(x){if(!Pa(x))throw x;ot($d,"Failed to update sequence numbers: "+x)}for(const x of _){const D=x.targetId;if(!x.fromCache){const q=A.Ms.get(D),W=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(D,tt)}}})(a.localStore,h))}async function qS(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){ot(am,"User change. New user:",e.toKey());const a=await Uv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new lt(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ao(i,a.Ls)}}function HS(r,e){const i=xt(r),a=i.Au.get(e);if(a&&a.hu)return kt().add(a.key);{let o=kt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function i1(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LS.bind(null,e),e.Pu.H_=wS.bind(null,e.eventManager),e.Pu.yu=RS.bind(null,e.eventManager),e}function FS(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BS.bind(null,e),e}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return XA(this.persistence,new GA,e.initialUser,this.serializer)}Cu(e){return new kv(Zd.mi,this.serializer)}Du(e){return new eS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class GS extends Rc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Gt(this.persistence.referenceDelegate instanceof xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new DA(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new kv((a=>xc.mi(a,i)),this.serializer)}}class Nd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>n0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=qS.bind(null,this.syncEngine),await AS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xS})()}createDatastore(e){const i=Lc(e.databaseInfo.databaseId),a=(function(h){return new aS(h)})(e.databaseInfo);return(function(h,d,p,v){return new cS(h,d,p,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,p){return new fS(a,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>n0(this.syncEngine,i,0)),(function(){return Z_.v()?new Z_:new nS})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,A){const x=new IS(o,h,d,p,v,_);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=xt(o);ot(Dr,"RemoteStore shutting down."),h.Ea.add(5),await To(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Nd.provider={build:()=>new Nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="FirestoreClient";class QS{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Ud.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ot(Fs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(Fs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=sm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function rd(r,e){r.asyncQueue.verifyOperationInProgress(),ot(Fs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await Uv(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function s0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await YS(r);ot(Fs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>$_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>$_(e.remoteStore,o))),r._onlineComponents=e}async function YS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Fs,"Using user provided OfflineComponentProvider");try{await rd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Oa("Error using user provided cache. Falling back to memory cache: "+i),await rd(r,new Rc)}}else ot(Fs,"Using default OfflineComponentProvider"),await rd(r,new GS(void 0));return r._offlineComponents}async function r1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Fs,"Using user provided OnlineComponentProvider"),await s0(r,r._uninitializedComponentsProvider._online)):(ot(Fs,"Using default OnlineComponentProvider"),await s0(r,new Nd))),r._onlineComponents}function XS(r){return r1(r).then((e=>e.syncEngine))}async function Dd(r){const e=await r1(r),i=e.eventManager;return i.onListen=VS.bind(null,e.syncEngine),i.onUnlisten=jS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=OS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=kS.bind(null,e.syncEngine),i}function KS(r,e,i={}){const a=new Us;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const A=new s1({next:D=>{A.Nu(),d.enqueueAndForget((()=>Xv(h,x))),D.fromCache&&v.source==="server"?_.reject(new lt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),x=new Kv(p,A,{includeMetadataChanges:!0,qa:!0});return Yv(h,x)})(await Dd(r),r.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firestore.googleapis.com",a0=!0;class l0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l1,this.ssl=a0}else this.host=e.host,this.ssl=e.ssl??a0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CA)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new nT;switch(a.type){case"firstParty":return new aT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=r0.get(i);a&&(ot("ComponentProvider","Removing Datastore"),r0.delete(i),a.terminate())})(this),Promise.resolve()}}function ZS(r,e,i,a={}){var _;r=Ai(r,Pc);const o=yo(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(w0(`https://${p}`),C0("Firestore",!0)),h.host!==l1&&h.host!==p&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:a};if(!gc(v,d)&&(r._setSettings(v),a.mockUserToken)){let A,x;if(typeof a.mockUserToken=="string")A=a.mockUserToken,x=Ze.MOCK_USER;else{A=R0(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ze(D)}r._authCredentials=new iT(new Y0(A,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new kr(this.firestore,e,this._query)}}class De{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(_o(i,De._jsonSchema))return new De(e,a||null,new yt(ee.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ne("string",De._jsonSchemaVersion),referencePath:Ne("string")};class Ls extends kr{constructor(e,i,a){super(e,i,Hd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new yt(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function Ha(r,e,...i){if(r=fn(r),X0("collection","path",e),r instanceof Pc){const a=ee.fromString(e,...i);return b_(a),new Ls(r,null,a)}{if(!(r instanceof De||r instanceof Ls))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(e,...i));return b_(a),new Ls(r.firestore,null,a)}}function So(r,e,...i){if(r=fn(r),arguments.length===1&&(e=Ud.newId()),X0("doc","path",e),r instanceof Pc){const a=ee.fromString(e,...i);return v_(a),new De(r,null,new yt(a))}{if(!(r instanceof De||r instanceof Ls))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(e,...i));return v_(a),new De(r.firestore,r instanceof Ls?r.converter:null,new yt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="AsyncQueue";class u0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zv(this,"async_queue_retry"),this._c=()=>{const a=sd();a&&ot(o0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=sd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pa(e))throw e;ot(o0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",c0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=im.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function c0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Ir extends Pc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new u0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u0(e),this._firestoreClient=void 0,await e}}}function JS(r,e){const i=typeof r=="object"?r:U0(),a=typeof r=="string"?r:_c,o=O0(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=S0("firestore");h&&ZS(o,...h)}return o}function om(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$S(r),r._firestoreClient}function $S(r){var a,o,h;const e=r._freezeSettings(),i=(function(p,v,_,A){return new AT(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,a1(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new QS(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Ye.fromBase64String(e))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ne("string",Un._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(_o(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ne("string",wi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ri(e.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ne("string",Ri._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=/^__.*__$/;class tx{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,i,this.fieldTransforms):new bo(e,this.data,i,this.fieldTransforms)}}class o1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Qs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function u1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class cm{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u1(this.Ac)&&WS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ex{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Lc(e)}Cc(e,i,a,o=!1){return new cm({Ac:e,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(r){const e=r._freezeSettings(),i=Lc(r._databaseId);return new ex(r._databaseId,!!e.ignoreUndefinedProperties,i)}function nx(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);fm("Data must be an object, but it was:",d,a);const p=c1(a,d);let v,_;if(h.merge)v=new Tn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const x of h.mergeFields){const D=Id(e,x,i);if(!d.contains(D))throw new lt(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);f1(A,D)||A.push(D)}v=new Tn(A),_=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,_=d.fieldTransforms;return new tx(new hn(p),v,_)}class Hc extends um{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}function ix(r,e,i,a){const o=r.Cc(1,e,i);fm("Data must be an object, but it was:",o,a);const h=[],d=hn.empty();Gs(a,((v,_)=>{const A=dm(e,v,i);_=fn(_);const x=o.yc(A);if(_ instanceof Hc)h.push(A);else{const D=xo(_,x);D!=null&&(h.push(A),d.set(A,D))}}));const p=new Tn(h);return new o1(d,p,o.fieldTransforms)}function sx(r,e,i,a,o,h){const d=r.Cc(1,e,i),p=[Id(e,a,i)],v=[o];if(h.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)p.push(Id(e,h[D])),v.push(h[D+1]);const _=[],A=hn.empty();for(let D=p.length-1;D>=0;--D)if(!f1(_,p[D])){const q=p[D];let W=v[D];W=fn(W);const tt=d.yc(q);if(W instanceof Hc)_.push(q);else{const Z=xo(W,tt);Z!=null&&(_.push(q),A.set(q,Z))}}const x=new Tn(_);return new o1(A,x,d.fieldTransforms)}function rx(r,e,i,a=!1){return xo(i,r.Cc(a?4:3,e))}function xo(r,e){if(h1(r=fn(r)))return fm("Unsupported field value:",e,r),c1(r,e);if(r instanceof um)return(function(a,o){if(!u1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const p of a){let v=xo(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return QT(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=se.fromDate(a);return{timestampValue:Sc(o.serializer,h)}}if(a instanceof se){const h=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Sc(o.serializer,h)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:Cv(o.serializer,a._byteString)};if(a instanceof De){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Xd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[iv]:{stringValue:sv},[vc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fd(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Nc(a)}`)})(r,e)}function c1(r,e){const i={};return J0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(r,((a,o)=>{const h=xo(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function h1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof wi||r instanceof Un||r instanceof De||r instanceof um||r instanceof Ri)}function fm(r,e,i){if(!h1(i)||!K0(i)){const a=Nc(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Id(r,e,i){if((e=fn(e))instanceof qc)return e._internalPath;if(typeof e=="string")return dm(r,e);throw Cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const ax=new RegExp("[~\\*/\\[\\]]");function dm(r,e,i){if(e.search(ax)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new qc(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Cc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new lt(J.INVALID_ARGUMENT,p+r+v)}function f1(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(mm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lx extends d1{data(){return super.data()}}function mm(r,e){return typeof e=="string"?dm(r,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gm{}class ox extends gm{}function g1(r,e,...i){let a=[];e instanceof gm&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof pm)).length,p=h.filter((v=>v instanceof Fc)).length;if(d>1||d>0&&p>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Fc extends ox{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Fc(e,i,a)}_apply(e){const i=this._parse(e);return y1(e._query,i),new kr(e.firestore,e.converter,vd(e._query,i))}_parse(e){const i=hm(e.firestore);return(function(h,d,p,v,_,A,x){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){d0(x,A);const W=[];for(const tt of x)W.push(f0(v,h,tt));D={arrayValue:{values:W}}}else D=f0(v,h,x)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||d0(x,A),D=rx(p,d,x,A==="in"||A==="not-in");return Ce.create(_,A,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function p1(r,e,i){const a=e,o=mm("where",r);return Fc._create(o,a,i)}class pm extends gm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new pm(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)y1(d,v),d=vd(d,v)})(e._query,i),new kr(e.firestore,e.converter,vd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function f0(r,e,i){if(typeof(i=fn(i))=="string"){if(i==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fv(e)&&i.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(ee.fromString(i));if(!yt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return C_(r,new yt(a))}if(i instanceof De)return C_(r,i._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nc(i)}.`)}function d0(r,e){if(!Array.isArray(r)||r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y1(r,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class ux{convertValue(e,i="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Gs(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){var a,o,h;const i=(h=(o=(a=e.fields)==null?void 0:a[vc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>ye(d.doubleValue)));return new Ri(i)}convertGeoPoint(e){return new wi(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Vc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const i=Bs(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ee.fromString(e);Gt(Mv(a),9688,{name:e});const o=new fo(a.get(1),a.get(3)),h=new yt(a.popFirst(5));return o.isEqual(i)||Zi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wr extends d1{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(mm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",wr._jsonSchema={type:Ne("string",wr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class dc extends wr{data(e={}){return super.data(e)}}class Rr{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new dc(this._firestore,this._userDataWriter,a.key,a,new to(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new dc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new dc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:hx(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ud.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Rr._jsonSchemaVersion="firestore/querySnapshot/1.0",Rr._jsonSchema={type:Ne("string",Rr._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ym extends ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}function fx(r){r=Ai(r,kr);const e=Ai(r.firestore,Ir),i=om(e),a=new ym(e);return m1(r._query),KS(i,r._query).then((o=>new Rr(e,a,r,o)))}function dx(r,e,i,...a){r=Ai(r,De);const o=Ai(r.firestore,Ir),h=hm(o);let d;return d=typeof(e=fn(e))=="string"||e instanceof qc?sx(h,"updateDoc",r._key,e,i,a):ix(h,"updateDoc",r._key,e),bm(o,[d.toMutation(r._key,Zn.exists(!0))])}function _1(r){return bm(Ai(r.firestore,Ir),[new Gd(r._key,Zn.none())])}function _m(r,e){const i=Ai(r.firestore,Ir),a=So(r),o=cx(r.converter,e);return bm(i,[nx(hm(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Zn.exists(!1))]).then((()=>a))}function vm(r,...e){var v,_,A;r=fn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||h0(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(h0(e[a])){const x=e[a];e[a]=(v=x.next)==null?void 0:v.bind(x),e[a+1]=(_=x.error)==null?void 0:_.bind(x),e[a+2]=(A=x.complete)==null?void 0:A.bind(x)}let h,d,p;if(r instanceof De)d=Ai(r.firestore,Ir),p=Hd(r._key.path),h={next:x=>{e[a]&&e[a](mx(d,r,x))},error:e[a+1],complete:e[a+2]};else{const x=Ai(r,kr);d=Ai(x.firestore,Ir),p=x._query;const D=new ym(d);h={next:q=>{e[a]&&e[a](new Rr(d,D,x,q))},error:e[a+1],complete:e[a+2]},m1(r._query)}return(function(D,q,W,tt){const Z=new s1(tt),ct=new Kv(q,Z,W);return D.asyncQueue.enqueueAndForget((async()=>Yv(await Dd(D),ct))),()=>{Z.Nu(),D.asyncQueue.enqueueAndForget((async()=>Xv(await Dd(D),ct)))}})(om(d),p,o,h)}function bm(r,e){return(function(a,o){const h=new Us;return a.asyncQueue.enqueueAndForget((async()=>US(await XS(a),o,h))),h.promise})(om(r),e)}function mx(r,e,i){const a=i.docs.get(e._key),o=new ym(r);return new wr(r,o,e._key,a,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){za=o})(j0),oo(new Va("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Ir(new sT(a.getProvider("auth-internal")),new lT(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),js(g_,p_,e),js(g_,p_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebasestorage.googleapis.com",b1="storageBucket",gx=120*1e3,px=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe extends Or{constructor(e,i,a=0){super(ad(e),`Firebase Storage: ${i} (${ad(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ad(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var he;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(he||(he={}));function ad(r){return"storage/"+r}function Em(){const r="An unknown error occurred, please check the error payload for server response.";return new fe(he.UNKNOWN,r)}function yx(r){return new fe(he.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function _x(r){return new fe(he.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vx(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fe(he.UNAUTHENTICATED,r)}function bx(){return new fe(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ex(r){return new fe(he.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Tx(){return new fe(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ax(){return new fe(he.CANCELED,"User canceled the upload/download.")}function Sx(r){return new fe(he.INVALID_URL,"Invalid URL '"+r+"'.")}function xx(r){return new fe(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function wx(){return new fe(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+b1+"' property when initializing the app?")}function Rx(){return new fe(he.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cx(){return new fe(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Nx(r){return new fe(he.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vd(r){return new fe(he.INVALID_ARGUMENT,r)}function E1(){return new fe(he.APP_DELETED,"The Firebase app was deleted.")}function Dx(r){return new fe(he.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lo(r,e){return new fe(he.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Zl(r){throw new fe(he.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let a;try{a=An.makeFromUrl(e,i)}catch{return new An(e,"")}if(a.path==="")return a;throw xx(e)}static makeFromUrl(e,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function h(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),v={bucket:1,path:3};function _(it){it.path_=decodeURIComponent(it.path)}const A="v[A-Za-z0-9_]+",x=i.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",q=new RegExp(`^https?://${x}/${A}/b/${o}/o${D}`,"i"),W={bucket:1,path:3},tt=i===v1?"(?:storage.googleapis.com|storage.cloud.google.com)":i,Z="([^?#]*)",ct=new RegExp(`^https?://${tt}/${o}/${Z}`,"i"),nt=[{regex:p,indices:v,postModify:h},{regex:q,indices:W,postModify:_},{regex:ct,indices:{bucket:1,path:2},postModify:_}];for(let it=0;it<nt.length;it++){const gt=nt[it],dt=gt.regex.exec(e);if(dt){const w=dt[gt.indices.bucket];let S=dt[gt.indices.path];S||(S=""),a=new An(w,S),gt.postModify(a);break}}if(a==null)throw Sx(e);return a}}class Ix{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(r,e,i){let a=1,o=null,h=null,d=!1,p=0;function v(){return p===2}let _=!1;function A(...Z){_||(_=!0,e.apply(null,Z))}function x(Z){o=setTimeout(()=>{o=null,r(q,v())},Z)}function D(){h&&clearTimeout(h)}function q(Z,...ct){if(_){D();return}if(Z){D(),A.call(null,Z,...ct);return}if(v()||d){D(),A.call(null,Z,...ct);return}a<64&&(a*=2);let nt;p===1?(p=2,nt=0):nt=(a+Math.random())*1e3,x(nt)}let W=!1;function tt(Z){W||(W=!0,D(),!_&&(o!==null?(Z||(p=2),clearTimeout(o),x(0)):Z||(p=1)))}return x(0),h=setTimeout(()=>{d=!0,tt(!0)},i),tt}function Ox(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(r){return r!==void 0}function jx(r){return typeof r=="object"&&!Array.isArray(r)}function Tm(r){return typeof r=="string"||r instanceof String}function m0(r){return Am()&&r instanceof Blob}function Am(){return typeof Blob<"u"}function g0(r,e,i,a){if(a<e)throw Vd(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>i)throw Vd(`Invalid value for '${r}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r,e,i){let a=e;return i==null&&(a=`https://${e}`),`${i}://${a}/v0${r}`}function T1(r){const e=encodeURIComponent;let i="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var Cr;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Cr||(Cr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r,e){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,h=e.indexOf(r)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,i,a,o,h,d,p,v,_,A,x,D=!0,q=!1){this.url_=e,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=v,this.timeout_=_,this.progressCallback_=A,this.connectionFactory_=x,this.retry=D,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((W,tt)=>{this.resolve_=W,this.reject_=tt,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new ac(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=p=>{const v=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,_)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const p=h.getErrorCode()===Cr.NO_ERROR,v=h.getStatus();if(!p||kx(v,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===Cr.ABORT;a(!1,new ac(!1,null,A));return}const _=this.successCodes_.indexOf(v)!==-1;a(!0,new ac(_,h))})},i=(a,o)=>{const h=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(p,p.getResponse());Mx(v)?h(v):h()}catch(v){d(v)}else if(p!==null){const v=Em();v.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,v)):d(v)}else if(o.canceled){const v=this.appDelete_?E1():Ax();d(v)}else{const v=Tx();d(v)}};this.canceled_?i(!1,new ac(!1,null,!0)):this.backoffId_=Vx(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ox(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ac{constructor(e,i,a){this.wasSuccessCode=e,this.connection=i,this.canceled=!!a}}function Lx(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function zx(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bx(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Px(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function qx(r,e,i,a,o,h,d=!0,p=!1){const v=T1(r.urlParams),_=r.url+v,A=Object.assign({},r.headers);return Bx(A,e),Lx(A,i),zx(A,h),Px(A,a),new Ux(_,r.method,A,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Fx(...r){const e=Hx();if(e!==void 0){const i=new e;for(let a=0;a<r.length;a++)i.append(r[a]);return i.getBlob()}else{if(Am())return new Blob(r);throw new fe(he.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Gx(r,e,i){return r.webkitSlice?r.webkitSlice(e,i):r.mozSlice?r.mozSlice(e,i):r.slice?r.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r){if(typeof atob>"u")throw Nx("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ld{constructor(e,i){this.data=e,this.contentType=i||null}}function Yx(r,e){switch(r){case Ti.RAW:return new ld(A1(e));case Ti.BASE64:case Ti.BASE64URL:return new ld(S1(r,e));case Ti.DATA_URL:return new ld(Kx(e),Zx(e))}throw Em()}function A1(r){const e=[];for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<r.length-1&&(r.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const h=a,d=r.charCodeAt(++i);a=65536|(h&1023)<<10|d&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function Xx(r){let e;try{e=decodeURIComponent(r)}catch{throw lo(Ti.DATA_URL,"Malformed data URL.")}return A1(e)}function S1(r,e){switch(r){case Ti.BASE64:{const o=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(o||h)throw lo(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ti.BASE64URL:{const o=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(o||h)throw lo(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=Qx(e)}catch(o){throw o.message.includes("polyfill")?o:lo(r,"Invalid character found")}const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}class x1{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw lo(Ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=Jx(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function Kx(r){const e=new x1(r);return e.base64?S1(Ti.BASE64,e.rest):Xx(e.rest)}function Zx(r){return new x1(r).contentType}function Jx(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,i){let a=0,o="";m0(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(m0(this.data_)){const a=this.data_,o=Gx(a,e,i);return o===null?null:new Is(o)}else{const a=new Uint8Array(this.data_.buffer,e,i-e);return new Is(a,!0)}}static getBlob(...e){if(Am()){const i=e.map(a=>a instanceof Is?a.data_:a);return new Is(Fx.apply(null,i))}else{const i=e.map(d=>Tm(d)?Yx(Ti.RAW,d).data:d.data_);let a=0;i.forEach(d=>{a+=d.byteLength});const o=new Uint8Array(a);let h=0;return i.forEach(d=>{for(let p=0;p<d.length;p++)o[h++]=d[p]}),new Is(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){let e;try{e=JSON.parse(r)}catch{return null}return jx(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Wx(r,e){const i=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?i:r+"/"+i}function R1(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(r,e){return e}class en{constructor(e,i,a,o){this.server=e,this.local=i||e,this.writable=!!a,this.xform=o||tw}}let lc=null;function ew(r){return!Tm(r)||r.length<2?r:R1(r)}function C1(){if(lc)return lc;const r=[];r.push(new en("bucket")),r.push(new en("generation")),r.push(new en("metageneration")),r.push(new en("name","fullPath",!0));function e(h,d){return ew(d)}const i=new en("name");i.xform=e,r.push(i);function a(h,d){return d!==void 0?Number(d):d}const o=new en("size");return o.xform=a,r.push(o),r.push(new en("timeCreated")),r.push(new en("updated")),r.push(new en("md5Hash",null,!0)),r.push(new en("cacheControl",null,!0)),r.push(new en("contentDisposition",null,!0)),r.push(new en("contentEncoding",null,!0)),r.push(new en("contentLanguage",null,!0)),r.push(new en("contentType",null,!0)),r.push(new en("metadata","customMetadata",!0)),lc=r,lc}function nw(r,e){function i(){const a=r.bucket,o=r.fullPath,h=new An(a,o);return e._makeStorageReference(h)}Object.defineProperty(r,"ref",{get:i})}function iw(r,e,i){const a={};a.type="file";const o=i.length;for(let h=0;h<o;h++){const d=i[h];a[d.local]=d.xform(a,e[d.server])}return nw(a,r),a}function N1(r,e,i){const a=w1(e);return a===null?null:iw(r,a,i)}function sw(r,e,i,a){const o=w1(e);if(o===null||!Tm(o.downloadTokens))return null;const h=o.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(_=>{const A=r.bucket,x=r.fullPath,D="/b/"+d(A)+"/o/"+d(x),q=Sm(D,i,a),W=T1({alt:"media",token:_});return q+W})[0]}function rw(r,e){const i={},a=e.length;for(let o=0;o<a;o++){const h=e[o];h.writable&&(i[h.server]=r[h.local])}return JSON.stringify(i)}class D1{constructor(e,i,a,o){this.url=e,this.method=i,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){if(!r)throw Em()}function aw(r,e){function i(a,o){const h=N1(r,o,e);return I1(h!==null),h}return i}function lw(r,e){function i(a,o){const h=N1(r,o,e);return I1(h!==null),sw(h,o,r.host,r._protocol)}return i}function V1(r){function e(i,a){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=bx():o=vx():i.getStatus()===402?o=_x(r.bucket):i.getStatus()===403?o=Ex(r.path):o=a,o.status=i.getStatus(),o.serverResponse=a.serverResponse,o}return e}function ow(r){const e=V1(r);function i(a,o){let h=e(a,o);return a.getStatus()===404&&(h=yx(r.path)),h.serverResponse=o.serverResponse,h}return i}function uw(r,e,i){const a=e.fullServerUrl(),o=Sm(a,r.host,r._protocol),h="GET",d=r.maxOperationRetryTime,p=new D1(o,h,lw(r,i),d);return p.errorHandler=ow(e),p}function cw(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function hw(r,e,i){const a=Object.assign({},i);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=cw(null,e)),a}function fw(r,e,i,a,o){const h=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let nt="";for(let it=0;it<2;it++)nt=nt+Math.random().toString().slice(2);return nt}const v=p();d["Content-Type"]="multipart/related; boundary="+v;const _=hw(e,a,o),A=rw(_,i),x="--"+v+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+v+`\r
Content-Type: `+_.contentType+`\r
\r
`,D=`\r
--`+v+"--",q=Is.getBlob(x,a,D);if(q===null)throw Rx();const W={name:_.fullPath},tt=Sm(h,r.host,r._protocol),Z="POST",ct=r.maxUploadRetryTime,ft=new D1(tt,Z,aw(r,i),ct);return ft.urlParams=W,ft.headers=d,ft.body=q.uploadData(),ft.errorHandler=V1(e),ft}class dw{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,a,o,h){if(this.sent_)throw Zl("cannot .send() more than once");if(yo(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mw extends dw{initXhr(){this.xhr_.responseType="text"}}function O1(){return new mw}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,i){this._service=e,i instanceof An?this._location=i:this._location=An.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Vr(e,i)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R1(this._location.path)}get storage(){return this._service}get parent(){const e=$x(this._location.path);if(e===null)return null;const i=new An(this._location.bucket,e);return new Vr(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw Dx(e)}}function gw(r,e,i){r._throwIfRoot("uploadBytes");const a=fw(r.storage,r._location,C1(),new Is(e,!0),i);return r.storage.makeRequestWithTokens(a,O1).then(o=>({metadata:o,ref:r}))}function pw(r){r._throwIfRoot("getDownloadURL");const e=uw(r.storage,r._location,C1());return r.storage.makeRequestWithTokens(e,O1).then(i=>{if(i===null)throw Cx();return i})}function yw(r,e){const i=Wx(r._location.path,e),a=new An(r._location.bucket,i);return new Vr(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r){return/^[A-Za-z]+:\/\//.test(r)}function vw(r,e){return new Vr(r,e)}function M1(r,e){if(r instanceof xm){const i=r;if(i._bucket==null)throw wx();const a=new Vr(i,i._bucket);return e!=null?M1(a,e):a}else return e!==void 0?yw(r,e):r}function bw(r,e){if(e&&_w(e)){if(r instanceof xm)return vw(r,e);throw Vd("To use ref(service, url), the first argument must be a Storage instance.")}else return M1(r,e)}function p0(r,e){const i=e==null?void 0:e[b1];return i==null?null:An.makeFromBucketSpec(i,r)}function Ew(r,e,i,a={}){r.host=`${e}:${i}`;const o=yo(e);o&&(w0(`https://${r.host}/b`),C0("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:h}=a;h&&(r._overrideAuthToken=typeof h=="string"?h:R0(h,r.app.options.projectId))}class xm{constructor(e,i,a,o,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=v1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gx,this._maxUploadRetryTime=px,this._requests=new Set,o!=null?this._bucket=An.makeFromBucketSpec(o,this._host):this._bucket=p0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=p0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(M0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vr(this,e)}_makeRequest(e,i,a,o,h=!0){if(this._deleted)return new Ix(E1());{const d=qx(e,this._appId,a,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,a,o).getPromise()}}const y0="@firebase/storage",_0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="storage";function Tw(r,e,i){return r=fn(r),gw(r,e,i)}function Aw(r){return r=fn(r),pw(r)}function Sw(r,e){return r=fn(r),bw(r,e)}function xw(r=U0(),e){r=fn(r);const a=O0(r,j1).getImmediate({identifier:e}),o=S0("storage");return o&&ww(a,...o),a}function ww(r,e,i,a={}){Ew(r,e,i,a)}function Rw(r,{instanceIdentifier:e}){const i=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new xm(i,a,o,e,j0)}function Cw(){oo(new Va(j1,Rw,"PUBLIC").setMultipleInstances(!0)),js(y0,_0,""),js(y0,_0,"esm2020")}Cw();var Nw="firebase",Dw="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(Nw,Dw,"app");const eo={apiKey:"AIzaSyDMP1qs_egJbyS2rWiZihynlbA_HBbiMi0",authDomain:"manas-nidar-trip.firebaseapp.com",projectId:"manas-nidar-trip",storageBucket:"manas-nidar-trip.firebasestorage.app",messagingSenderId:"268881524512",appId:"1:268881524512:web:f66e24a451fb51b537c945",measurementId:"G-BVBR6CN7JG"},Iw=()=>eo.apiKey&&!eo.apiKey.includes("YOUR_")&&eo.projectId&&!eo.projectId.includes("YOUR_"),k1=k0(eo),Ni=JS(k1),Vw=xw(k1),U1="trips",wm="expenses",Gc="settlements",Ow=async(r,e,i)=>{try{console.log(" Creating trip with:",{name:r,participants:e,hasAvatars:!!i});const a={name:r,participants:e,memberAvatars:i||{},createdAt:Date.now()};console.log(" Sending to Firestore:",a);const o=await _m(Ha(Ni,U1),a);return console.log(" Trip created with ID:",o.id),o.id}catch(a){throw console.error(" Create trip error details:",{code:a.code,message:a.message,stack:a.stack}),a}},Mw=(r,e)=>vm(So(Ni,U1,r),i=>{i.exists()?e({id:i.id,...i.data()}):e(null)},i=>{console.error("Firestore Subscribe Error:",i),e(null)}),jw=(r,e)=>{const i=g1(Ha(Ni,wm),p1("tripId","==",r));return vm(i,a=>{const o=a.docs.map(h=>({id:h.id,...h.data()}));o.sort((h,d)=>d.createdAt-h.createdAt),e(o)},a=>{console.error("Firestore Expenses Subscribe Error:",a),e([])})},kw=async(r,e)=>{console.log(" Creating expense:",{tripId:r,...e});const i=await _m(Ha(Ni,wm),{...e,tripId:r,createdAt:Date.now()});return console.log(" Expense created with ID:",i.id),i},Uw=async r=>{const e=So(Ni,wm,r);await _1(e)},v0=async r=>{const e=Sw(Vw,`proofs/${Date.now()}_${r.name}`),i=await Tw(e,r);return await Aw(i.ref)},b0=async(r,e,i,a,o)=>(await _m(Ha(Ni,Gc),{tripId:r,from:e,to:i,amount:a,isPaid:!1,proofImageUrl:o||null,createdAt:Date.now()})).id,Lw=async(r,e)=>{const i=So(Ni,Gc,r),a={isPaid:!0,paidAt:Date.now()};e&&(a.proofImageUrl=e),await dx(i,a)},zw=async r=>{const e=So(Ni,Gc,r);await _1(e)},Bw=(r,e)=>{const i=g1(Ha(Ni,Gc),p1("tripId","==",r));return vm(i,a=>{const o=a.docs.map(h=>({id:h.id,...h.data()}));e(o)},a=>{console.error("Firestore Settlements Subscribe Error:",a),e([])})},Ei=[{id:"manas",image:"/pics/manas.png"},{id:"avatar1",image:"/pics/Screenshot 2026-01-05 184222.png"},{id:"avatar2",image:"/pics/Screenshot 2026-01-05 184242.png"},{id:"avatar3",image:"/pics/Screenshot 2026-01-05 184251.png"},{id:"avatar4",image:"/pics/Screenshot 2026-01-05 184317.png"},{id:"avatar5",image:"/pics/Screenshot 2026-01-05 184328.png"},{id:"avatar6",image:"/pics/Screenshot 2026-01-05 184347.png"},{id:"avatar7",image:"/pics/Screenshot 2026-01-05 184406.png"},{id:"avatar8",image:"/pics/Screenshot 2026-01-05 184426.png"},{id:"avatar9",image:"/pics/Screenshot 2026-01-05 184453.png"},{id:"avatar10",image:"/pics/Screenshot 2026-01-05 184505.png"}],Pw=({onJoin:r})=>{const[e,i]=Tt.useState(""),[a,o]=Tt.useState(!1),h=async d=>{if(d.preventDefault(),!!e.trim()){o(!0);try{localStorage.setItem("trip_user_name",e.trim()),r(e.trim())}catch(p){console.error("Error joining:",p),alert("Error saving your name. Please try again.")}finally{o(!1)}}};return b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center p-6 z-50",children:b.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-md p-12 text-center border-4 border-[#f49221]",children:[b.jsx("div",{className:"w-24 h-24 bg-[#f49221] rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-[#f49221]/30 rotate-3",children:b.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),b.jsx("h1",{className:"text-4xl font-bold text-black mb-2 font-pt tracking-tighter uppercase",children:"Manas Split"}),b.jsx("p",{className:"text-gray-500 mb-10 font-medium",children:"Smart expense tracking for your crew."}),b.jsxs("form",{onSubmit:h,className:"space-y-8 text-left",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Identify Yourself"}),b.jsx("input",{type:"text",required:!0,value:e,onChange:d=>i(d.target.value),placeholder:"Your Full Name",className:"w-full px-6 py-5 rounded-2xl border-2 border-gray-100 focus:outline-none focus:border-[#f49221] transition-all text-lg font-bold text-black"})]}),b.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[#f49221] hover:bg-[#d97e1a] text-white font-bold py-5 rounded-2xl transition-all shadow-xl shadow-[#f49221]/30 disabled:opacity-50 uppercase tracking-widest",children:a?"Authenticating...":"Enter Dashboard"})]})]})})},qw=({onTripSelected:r})=>{const[e,i]=Tt.useState("selection"),[a,o]=Tt.useState(""),[h,d]=Tt.useState(["",""]),[p,v]=Tt.useState({}),[_,A]=Tt.useState(null),[x,D]=Tt.useState(""),[q,W]=Tt.useState(!1),[tt,Z]=Tt.useState(""),ct=async()=>{try{console.log("Testing Firebase connection...");const nt=Ha(Ni,"trips"),it=await fx(nt);return console.log(" Firebase connected successfully. Found",it.size,"trips"),{success:!0,error:null}}catch(nt){console.error(" Firebase connection error:",nt);let it="Unknown error";return nt.code==="permission-denied"?it=" PERMISSION DENIED - Firebase security rules are NOT allowing access. Your rules may not have been saved properly.":nt.code==="unavailable"?it="Firebase service unavailable. Check your internet connection.":nt.message&&(it=nt.message),console.error("Detailed error:",nt),{success:!1,error:it}}},ft=async nt=>{nt.preventDefault();const it=h.filter(w=>w.trim()!=="");if(!a||it.length<2)return alert("Trip name and 2+ people needed.");Z(""),console.log("Creating trip with:",{tripName:a,participants:it});const gt=await ct();if(!gt.success){Z(`Firebase Error: ${gt.error}`);return}W(!0);const dt=setTimeout(()=>{W(!1),Z("Connection timeout after 8 seconds. Firebase security rules may be blocking writes.")},8e3);try{console.log(" Starting trip creation...");const w=await Ow(a,it,p);clearTimeout(dt),console.log(" Trip created successfully with ID:",w),r(w)}catch(w){clearTimeout(dt),W(!1),console.error(" Create trip error:",w);let S="Error creating trip: ";w.code==="permission-denied"?S+=" Permission denied. Firebase rules are STILL not set correctly. Please check Firebase Console Firestore Rules.":w.message?S+=w.message:S+="Unknown error. Check browser console (F12) for details.",Z(S)}};return e==="create"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"max-w-md mx-auto p-10 bg-white rounded-[2.5rem] shadow-2xl mt-12 border-4 border-black",children:[b.jsx("h2",{className:"text-3xl font-bold mb-8 text-black font-pt uppercase tracking-tight",children:"New Trip"}),tt&&b.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-300 rounded-xl text-red-800 text-sm",children:[b.jsx("p",{className:"font-bold mb-2",children:" Error"}),b.jsx("p",{className:"text-xs leading-relaxed",children:tt}),tt.includes("security rules")&&b.jsxs("p",{className:"mt-3 text-xs",children:[b.jsx("strong",{children:"Fix:"})," Go to Firebase Console  Firestore Database  Rules and set:",b.jsx("br",{}),b.jsx("code",{className:"block mt-1 bg-red-100 p-2 rounded",children:"allow read, write: if true;"})]})]}),b.jsxs("form",{onSubmit:ft,className:"space-y-6",children:[b.jsx("input",{required:!0,className:"w-full px-6 py-4 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none font-bold text-black placeholder-gray-400",placeholder:"Destination Name",value:a,onChange:nt=>o(nt.target.value)}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Participants"}),h.map((nt,it)=>{var gt;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex gap-2 items-center",children:[nt.trim()&&p[nt]&&b.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full overflow-hidden border-2 border-[#f49221]",children:b.jsx("img",{src:((gt=Ei.find(dt=>dt.id===p[nt]))==null?void 0:gt.image)||"",alt:nt,className:"w-full h-full object-cover"})}),b.jsx("input",{required:!0,className:"flex-1 px-6 py-4 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none text-black placeholder-gray-400 font-bold",placeholder:`Friend ${it+1}`,value:nt,onChange:dt=>{const w=[...h];w[it]=dt.target.value,d(w)}})]}),nt.trim()&&b.jsx("button",{type:"button",onClick:()=>A(nt),className:"ml-2 text-xs text-[#f49221] font-bold hover:underline",children:p[nt]?" Change Avatar":"+ Add Avatar (Optional)"})]},it)})]}),b.jsx("button",{type:"button",onClick:()=>d([...h,""]),className:"text-xs text-[#f49221] font-bold uppercase tracking-wider hover:underline ml-1",children:"+ Add Participant"}),b.jsxs("div",{className:"pt-8 flex flex-col gap-4",children:[b.jsx("button",{type:"submit",disabled:q,className:"w-full py-5 bg-[#f49221] text-white rounded-2xl font-bold shadow-xl shadow-[#f49221]/20 uppercase tracking-widest disabled:opacity-50",children:q?"Creating Trip...":"Launch Trip"}),b.jsx("button",{type:"button",onClick:()=>i("selection"),disabled:q,className:"w-full py-4 px-4 border-2 border-black rounded-2xl font-bold text-black uppercase tracking-widest text-xs disabled:opacity-50",children:"Back"})]})]})]}),_&&b.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 border-2 border-[#f49221]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-bold text-black",children:"Choose Avatar"}),b.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:Ei.map(nt=>b.jsx("button",{type:"button",onClick:()=>{v({...p,[_]:nt.id}),A(null)},className:"w-full aspect-square rounded-2xl overflow-hidden hover:scale-110 transition-all border-2 border-transparent hover:border-[#f49221]",children:b.jsx("img",{src:nt.image,alt:"avatar",className:"w-full h-full object-cover"})},nt.id))}),b.jsx("button",{onClick:()=>A(null),className:"w-full py-3 bg-gray-100 text-black rounded-xl font-bold hover:bg-gray-200",children:"Cancel"})]})})]}):e==="join"?b.jsxs("div",{className:"max-w-md mx-auto p-10 bg-white rounded-[2.5rem] shadow-2xl mt-12 border-4 border-black text-center",children:[b.jsx("h2",{className:"text-3xl font-bold mb-8 text-black font-pt uppercase",children:"Join Trip"}),b.jsx("input",{className:"w-full px-6 py-5 border-2 border-gray-100 rounded-2xl focus:border-[#f49221] outline-none mb-8 text-center font-mono text-xl text-black placeholder-gray-400",placeholder:"PASTE TRIP ID",value:x,onChange:nt=>D(nt.target.value)}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsx("button",{onClick:()=>x&&r(x),className:"w-full py-5 bg-black text-white rounded-2xl font-bold shadow-xl uppercase tracking-widest",children:"Connect"}),b.jsx("button",{onClick:()=>i("selection"),className:"w-full py-4 font-bold text-gray-400 uppercase tracking-widest text-xs",children:"Cancel"})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"max-w-md mx-auto mt-20 text-center p-12 bg-white rounded-[3.5rem] shadow-2xl border-2 border-gray-50",children:[b.jsx("div",{className:"w-28 h-28 bg-[#f49221] rounded-[2.5rem] flex items-center justify-center mx-auto mb-10 shadow-2xl shadow-[#f49221]/40 -rotate-3 border-4 border-white",children:b.jsx("svg",{className:"w-14 h-14 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),b.jsx("h1",{className:"text-5xl font-bold text-black mb-3 font-pt tracking-tighter uppercase",children:"Manas Split"}),b.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-[0.2em] text-[10px] mb-14",children:"Simplified Group Finance"}),b.jsxs("div",{className:"space-y-5",children:[b.jsx("button",{onClick:()=>i("create"),className:"w-full py-6 bg-[#f49221] text-white rounded-2xl font-bold hover:scale-[1.02] transition-all shadow-2xl shadow-[#f49221]/30 flex items-center justify-center gap-3 uppercase tracking-widest",children:"New Expedition"}),b.jsx("button",{onClick:()=>i("join"),className:"w-full py-6 bg-black text-white rounded-2xl font-bold hover:scale-[1.02] transition-all flex items-center justify-center gap-3 uppercase tracking-widest",children:"Connect to Trip"})]})]}),_&&b.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8 border-2 border-[#f49221]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-2xl font-bold text-black",children:"Choose Avatar"}),b.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:Ei.map(nt=>b.jsx("button",{type:"button",onClick:()=>{v({...p,[_]:nt.id}),A(null)},className:"w-full aspect-square rounded-2xl overflow-hidden hover:scale-110 transition-all border-2 border-transparent hover:border-[#f49221]",children:b.jsx("img",{src:nt.image,alt:"avatar",className:"w-full h-full object-cover"})},nt.id))}),b.jsx("button",{onClick:()=>A(null),className:"w-full py-3 bg-gray-100 text-black rounded-xl font-bold hover:bg-gray-200",children:"Cancel"})]})})]})},Hw=({tripId:r,participants:e,onClose:i})=>{const[a,o]=Tt.useState(""),[h,d]=Tt.useState(""),[p,v]=Tt.useState(""),[_,A]=Tt.useState([]),[x,D]=Tt.useState("fair"),[q,W]=Tt.useState({}),[tt,Z]=Tt.useState("UPI"),[ct,ft]=Tt.useState(!1),nt=Tt.useMemo(()=>{if(x==="custom")return 0;const w=parseFloat(h);return isNaN(w)||_.length===0?0:w/_.length},[h,_,x]),it=Tt.useMemo(()=>Object.values(q).reduce((w,S)=>w+(parseFloat(S)||0),0),[q]),gt=Tt.useMemo(()=>{const w=parseFloat(h);return isNaN(w)||x!=="custom"?{valid:!0,message:""}:Math.abs(it-w)>.01?{valid:!1,message:`Custom amounts (${it.toFixed(2)}) don't match total (${w})`}:{valid:!0,message:" Custom amounts match total"}},[it,h,x]),dt=async w=>{if(w.preventDefault(),!a||!h||!p||_.length===0)return alert("Please fill all required fields.");const S=parseFloat(h);if(isNaN(S)||S<=0)return alert("Please enter a valid amount greater than 0.");if(x==="custom"&&!gt.valid)return alert(gt.message);ft(!0);try{const C={title:a,amount:S,paidBy:p,splitBetween:_,perPersonAmount:nt,splitType:x,paymentMethod:tt};x==="custom"&&(C.customSplits=Object.fromEntries(Object.entries(q).map(([M,V])=>[M,parseFloat(V)||0]))),await kw(r,C),i()}catch(C){console.error("Error creating expense:",C),alert("Failed to save transaction. Check your backend/permissions.")}finally{ft(!1)}};return b.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:b.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl p-10 border-4 border-[#f49221]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-10",children:[b.jsx("h2",{className:"text-3xl font-bold text-black font-pt uppercase tracking-tight",children:"Add Transaction"}),b.jsx("button",{onClick:i,className:"p-3 hover:bg-gray-100 rounded-2xl transition-all",children:b.jsx("svg",{className:"w-6 h-6 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("form",{onSubmit:dt,className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Expense Item"}),b.jsx("input",{type:"text",placeholder:"e.g. Flight Tickets",className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none font-bold text-black",value:a,onChange:w=>o(w.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Amount (INR)"}),b.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none font-bold text-black",value:h,onChange:w=>d(w.target.value)})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Who Paid?"}),b.jsxs("select",{className:"w-full px-6 py-4 rounded-2xl border-2 border-gray-100 focus:border-[#f49221] outline-none bg-white font-bold text-black",value:p,onChange:w=>v(w.target.value),children:[b.jsx("option",{value:"",children:"Select Member"}),e.map(w=>b.jsx("option",{value:w,children:w},w))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 block ml-1",children:"Payment Channel"}),b.jsx("div",{className:"flex bg-gray-100 p-1.5 rounded-2xl",children:["UPI","Cash"].map(w=>b.jsx("button",{type:"button",onClick:()=>Z(w),className:`flex-1 py-3 text-xs rounded-xl font-bold transition-all uppercase tracking-widest ${tt===w?"bg-white shadow-xl text-[#f49221]":"text-gray-400"}`,children:w},w))})]})]}),b.jsx("div",{children:b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Split Type"}),b.jsxs("div",{className:"flex bg-gray-100 p-1.5 rounded-xl",children:[b.jsx("button",{type:"button",onClick:()=>D("fair"),className:`px-4 py-2 text-[10px] rounded-lg font-bold transition-all uppercase tracking-widest ${x==="fair"?"bg-white shadow-lg text-[#f49221]":"text-gray-400"}`,children:"Fair Split"}),b.jsx("button",{type:"button",onClick:()=>D("custom"),className:`px-4 py-2 text-[10px] rounded-lg font-bold transition-all uppercase tracking-widest ${x==="custom"?"bg-white shadow-lg text-[#f49221]":"text-gray-400"}`,children:"Custom Split"})]})]})}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-end mb-3 ml-1",children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Distributed Among"}),b.jsx("button",{type:"button",onClick:()=>A([...e]),className:"text-[10px] font-bold text-[#f49221] uppercase tracking-widest",children:"Select Everyone"})]}),b.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-40 overflow-y-auto pr-2 custom-scrollbar",children:e.map(w=>b.jsxs("label",{className:`flex items-center p-4 rounded-2xl border-2 cursor-pointer transition-all ${_.includes(w)?"bg-[#f49221]/10 border-[#f49221]":"bg-white border-gray-100"}`,children:[b.jsx("input",{type:"checkbox",className:"hidden",checked:_.includes(w),onChange:()=>A(S=>S.includes(w)?S.filter(C=>C!==w):[...S,w])}),b.jsx("span",{className:`text-xs font-black uppercase tracking-tight ${_.includes(w)?"text-black":"text-gray-400"}`,children:w})]},w))})]}),x==="custom"&&_.length>0&&b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 block ml-1",children:"Custom Amounts Per Person"}),b.jsx("div",{className:"space-y-3 max-h-52 overflow-y-auto pr-2",children:_.map(w=>b.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl",children:[b.jsx("span",{className:"text-sm font-bold text-black flex-1",children:w}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:""}),b.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-28 pl-8 pr-3 py-2 rounded-lg border-2 border-gray-200 focus:border-[#f49221] outline-none font-bold text-sm text-black",value:q[w]||"",onChange:S=>W({...q,[w]:S.target.value})})]})]},w))}),b.jsx("div",{className:`mt-3 p-3 rounded-xl text-xs font-bold ${gt.valid?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:gt.message||`Total: ${it.toFixed(2)} / ${h||"0"}`})]}),b.jsx("button",{type:"submit",disabled:ct,className:"w-full bg-[#f49221] text-white font-bold py-6 rounded-2xl shadow-2xl shadow-[#f49221]/40 transition-all uppercase tracking-[0.2em] disabled:opacity-50 text-sm",children:ct?"Processing...":"Secure Transaction"})]})]})})},Fw=({expenses:r})=>{const[e,i]=Tt.useState(null),[a,o]=Tt.useState(null),h=async d=>{if(confirm("Delete this expense? This cannot be undone.")){o(d);try{await Uw(d)}catch(p){console.error("Error deleting expense:",p),alert("Failed to delete expense. Check Firebase permissions.")}finally{o(null)}}};return b.jsxs("div",{className:"space-y-6",children:[b.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-3xl overflow-hidden shadow-2xl shadow-[#f49221]/10",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left text-sm",children:[b.jsx("thead",{className:"bg-gradient-to-r from-[#f49221] to-[#e58515] text-white backdrop-blur-xl",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Description"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Value"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Paid By"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Split"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Proof"}),b.jsx("th",{className:"px-6 py-5 font-bold uppercase tracking-wider text-xs",children:"Actions"})]})}),b.jsx("tbody",{className:"divide-y divide-white/5",children:r.map(d=>b.jsxs("tr",{className:"hover:bg-white/10 transition-all border-l-4 border-transparent hover:border-[#f49221] backdrop-blur-sm group",children:[b.jsxs("td",{className:"px-6 py-5",children:[b.jsx("div",{className:"font-bold text-white text-base",children:d.title}),b.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(d.createdAt).toLocaleDateString()})]}),b.jsxs("td",{className:"px-6 py-5 font-bold text-lg text-white",children:["",d.amount.toFixed(2)]}),b.jsxs("td",{className:"px-6 py-5",children:[b.jsx("div",{className:"text-gray-300 font-medium",children:d.paidBy}),b.jsxs("div",{className:"text-xs text-gray-600",children:["(",d.paymentMethod,")"]})]}),b.jsxs("td",{className:"px-6 py-5",children:[b.jsxs("div",{className:"text-gray-300 font-medium text-sm",children:[d.splitBetween.length," person",d.splitBetween.length!==1?"s":""]}),d.splitType==="custom"?b.jsx("div",{className:"text-xs text-purple-400 font-bold mt-1",children:"CUSTOM SPLIT"}):b.jsxs("div",{className:"text-xs text-[#f49221] font-bold mt-1",children:["",d.perPersonAmount.toFixed(2)," each"]})]}),b.jsx("td",{className:"px-6 py-5",children:d.proofImageUrl?b.jsx("button",{onClick:()=>i(d.proofImageUrl),className:"bg-[#f49221] hover:bg-[#e58515] text-white px-4 py-2 rounded-lg text-xs font-medium transition-colors",children:"View"}):b.jsx("span",{className:"text-gray-600 text-xs",children:"No proof"})}),b.jsx("td",{className:"px-6 py-5",children:b.jsx("button",{onClick:()=>h(d.id),disabled:a===d.id,className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-lg transition-colors disabled:opacity-50",title:"Delete expense",children:a===d.id?b.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},d.id))})]})})}),e&&b.jsx("div",{className:"fixed inset-0 bg-black/95 flex items-center justify-center p-6 z-[60] backdrop-blur-xl",onClick:()=>i(null),children:b.jsxs("div",{className:"relative max-w-4xl w-full flex flex-col items-center",children:[b.jsx("button",{className:"absolute -top-16 right-0 text-white hover:text-[#f49221] transition-colors p-4",children:b.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),b.jsx("img",{src:e,alt:"Payment Proof",className:"max-h-[80vh] object-contain rounded-3xl shadow-[0_0_100px_rgba(244,146,33,0.3)] border-4 border-white"})]})})]})},Gw=({balances:r,tripId:e,trackedSettlements:i,participants:a,trip:o})=>{const[h,d]=Tt.useState(null),[p,v]=Tt.useState(!1),[_,A]=Tt.useState(""),[x,D]=Tt.useState(""),[q,W]=Tt.useState(""),[tt,Z]=Tt.useState(null),[ct,ft]=Tt.useState(!1),[nt,it]=Tt.useState(null),[gt,dt]=Tt.useState({}),S=(()=>{const X=r.filter(bt=>bt.net<0).map(bt=>({name:bt.name,amount:Math.abs(bt.net)})),P=r.filter(bt=>bt.net>0).map(bt=>({name:bt.name,amount:bt.net})),et=[];let rt=0,wt=0;for(;rt<X.length&&wt<P.length;){const bt=X[rt],I=P[wt],Q=Math.min(bt.amount,I.amount);Q>.01&&et.push({from:bt.name,to:I.name,amount:Q}),bt.amount-=Q,I.amount-=Q,bt.amount<.01&&rt++,I.amount<.01&&wt++}return et})(),C=async X=>{const P=`${X.from}-${X.to}`;d(P);try{await b0(e,X.from,X.to,X.amount)}catch(et){console.error("Error creating settlement:",et),alert("Failed to create settlement. Check Firebase permissions.")}finally{d(null)}},M=async X=>{it(X);try{let P;if(gt[X])try{P=await v0(gt[X])}catch(rt){console.error("Error uploading proof:",rt),alert("Failed to upload proof image, but marking as paid anyway.")}await Lw(X,P);const et={...gt};delete et[X],dt(et)}catch(P){console.error("Error marking settlement as paid:",P),alert("Failed to mark as paid. Check Firebase permissions.")}finally{it(null)}},V=async X=>{if(confirm("Delete this payment record?"))try{await zw(X)}catch(P){console.error("Error deleting settlement:",P),alert("Failed to delete payment. Check Firebase permissions.")}},k=async X=>{if(X.preventDefault(),!_||!x||!q){alert("Please fill all fields");return}if(_===x){alert("Cannot pay yourself!");return}const P=parseFloat(q);if(isNaN(P)||P<=0){alert("Please enter a valid amount");return}ft(!0);try{let et;if(tt)try{et=await v0(tt)}catch(rt){console.error("Error uploading proof:",rt),alert("Failed to upload proof image, but recording payment anyway.")}await b0(e,_,x,P,et),v(!1),A(""),D(""),W(""),Z(null)}catch(et){console.error("Error creating custom settlement:",et),alert("Failed to create payment. Check Firebase permissions.")}finally{ft(!1)}},R=i.filter(X=>!X.isPaid),Qt=i.filter(X=>X.isPaid);return S.length===0&&R.length===0&&Qt.length===0?b.jsxs("div",{className:"mt-8 bg-gradient-to-br from-green-900 to-green-950 rounded-3xl p-8 text-center border-2 border-green-700",children:[b.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),b.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"All Settled!"}),b.jsx("p",{className:"text-green-300 text-sm",children:"Everyone is balanced. No payments needed."})]}):b.jsxs("div",{className:"mt-8 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-white text-2xl font-bold",children:"Settlements"}),b.jsxs("button",{onClick:()=>v(!p),className:"bg-[#f49221] hover:bg-[#e58515] text-white px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 transition-colors",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Record Payment"]})]}),p&&b.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-[#f49221] rounded-2xl p-6 shadow-2xl shadow-[#f49221]/20",children:[b.jsx("h4",{className:"text-white font-bold text-lg mb-4",children:"Record a Payment"}),b.jsxs("form",{onSubmit:k,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Who Paid"}),b.jsxs("select",{value:_,onChange:X=>A(X.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0,children:[b.jsx("option",{value:"",children:"Select person"}),a.map(X=>b.jsx("option",{value:X,children:X},X))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Paid To"}),b.jsxs("select",{value:x,onChange:X=>D(X.target.value),className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0,children:[b.jsx("option",{value:"",children:"Select person"}),a.map(X=>b.jsx("option",{value:X,children:X},X))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Amount ()"}),b.jsx("input",{type:"number",step:"0.01",min:"0.01",value:q,onChange:X=>W(X.target.value),placeholder:"0.00",className:"w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:border-[#f49221] outline-none",required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-gray-400 text-sm font-medium mb-2 block",children:"Payment Proof (Optional)"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("label",{className:"flex-1 cursor-pointer",children:[b.jsxs("div",{className:"bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 hover:border-[#f49221] transition-colors flex items-center gap-2",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b.jsx("span",{className:"text-sm",children:tt?tt.name:"Upload screenshot or photo"})]}),b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:X=>{var P;(P=X.target.files)!=null&&P[0]&&Z(X.target.files[0])}})]}),tt&&b.jsx("button",{type:"button",onClick:()=>Z(null),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-3 rounded-lg transition-colors",title:"Remove file",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"submit",disabled:ct,className:"bg-[#f49221] hover:bg-[#e58515] text-white px-6 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 flex-1",children:ct?"Recording...":"Record Payment"}),b.jsx("button",{type:"button",onClick:()=>{v(!1),A(""),D(""),W(""),Z(null)},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]}),R.length>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-white text-xl font-bold",children:"Pending Payments"}),b.jsxs("span",{className:"bg-red-900 text-red-300 text-xs font-bold px-3 py-1 rounded-full",children:[R.length," Pending"]})]}),b.jsx("div",{className:"space-y-3",children:R.map(X=>{var P,et;return b.jsx("div",{className:"bg-gradient-to-r from-red-950 via-gray-900 to-red-900 rounded-2xl p-5 border-2 border-[#f49221]/50 shadow-lg hover:shadow-[#f49221]/30 transition-all",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o!=null&&o.memberAvatars&&o.memberAvatars[X.from]?b.jsx("img",{src:((P=Ei.find(rt=>rt.id===o.memberAvatars[X.from]))==null?void 0:P.image)||"",alt:X.from,className:"w-10 h-10 rounded-lg object-cover"}):b.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:X.from[0]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"text-white font-bold",children:X.from}),b.jsx("div",{className:"text-red-300 text-xs",children:"owes"})]})]}),b.jsx("div",{className:"px-6",children:b.jsx("svg",{className:"w-8 h-8 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[b.jsxs("div",{className:"flex-1 text-right",children:[b.jsx("div",{className:"text-white font-bold",children:X.to}),b.jsx("div",{className:"text-red-300 text-xs",children:"receives"})]}),o!=null&&o.memberAvatars&&o.memberAvatars[X.to]?b.jsx("img",{src:((et=Ei.find(rt=>rt.id===o.memberAvatars[X.to]))==null?void 0:et.image)||"",alt:X.to,className:"w-10 h-10 rounded-lg object-cover"}):b.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:X.to[0]})]}),b.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[b.jsxs("div",{className:"bg-[#f49221] text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",X.amount.toFixed(2)]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("label",{className:"cursor-pointer",children:[b.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors flex items-center gap-1 ${gt[X.id]?"bg-green-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),gt[X.id]?" Proof added":"Add proof"]}),b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:rt=>{var wt;(wt=rt.target.files)!=null&&wt[0]&&dt({...gt,[X.id]:rt.target.files[0]})}})]}),gt[X.id]&&b.jsx("button",{onClick:()=>{const rt={...gt};delete rt[X.id],dt(rt)},className:"p-1.5 bg-red-600 hover:bg-red-700 rounded text-white transition-colors",title:"Remove proof",children:b.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("button",{onClick:()=>M(X.id),disabled:nt===X.id,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl font-bold text-sm transition-colors flex items-center gap-2 disabled:opacity-50",title:"Mark as paid",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),nt===X.id?"Saving...":"Paid"]})]}),b.jsx("button",{onClick:()=>V(X.id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-xl transition-colors",title:"Delete payment",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},X.id)})})]}),S.length>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-white text-xl font-bold",children:"Suggested Settlements"}),b.jsxs("span",{className:"bg-[#f49221] text-white text-xs font-bold px-3 py-1 rounded-full",children:[S.length," Suggested"]})]}),b.jsx("div",{className:"space-y-3",children:S.map((X,P)=>{var wt,bt;const et=`${X.from}-${X.to}`;return R.some(I=>I.from===X.from&&I.to===X.to&&Math.abs(I.amount-X.amount)<.01)?null:b.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-5 border-2 border-[#f49221]/30 hover:border-[#f49221] transition-all hover:shadow-xl hover:shadow-[#f49221]/20",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o!=null&&o.memberAvatars&&o.memberAvatars[X.from]?b.jsx("img",{src:((wt=Ei.find(I=>I.id===o.memberAvatars[X.from]))==null?void 0:wt.image)||"",alt:X.from,className:"w-10 h-10 rounded-lg object-cover"}):b.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:X.from[0]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"text-white font-bold",children:X.from}),b.jsx("div",{className:"text-gray-400 text-xs",children:"should pay"})]})]}),b.jsx("div",{className:"px-6",children:b.jsx("svg",{className:"w-8 h-8 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[b.jsxs("div",{className:"flex-1 text-right",children:[b.jsx("div",{className:"text-white font-bold",children:X.to}),b.jsx("div",{className:"text-gray-400 text-xs",children:"receives"})]}),o!=null&&o.memberAvatars&&o.memberAvatars[X.to]?b.jsx("img",{src:((bt=Ei.find(I=>I.id===o.memberAvatars[X.to]))==null?void 0:bt.image)||"",alt:X.to,className:"w-10 h-10 rounded-lg object-cover"}):b.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:X.to[0]})]}),b.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[b.jsxs("div",{className:"bg-[#f49221] text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",X.amount.toFixed(2)]}),b.jsx("button",{onClick:()=>C(X),disabled:h===et,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-xl font-bold text-sm transition-colors disabled:opacity-50",title:"Track this payment",children:h===et?"Adding...":"Track"})]})]})},P)})})]}),Qt.length>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h3",{className:"text-white text-xl font-bold",children:"Completed Payments"}),b.jsxs("span",{className:"bg-green-900 text-green-300 text-xs font-bold px-3 py-1 rounded-full",children:[Qt.length," Completed"]})]}),b.jsx("div",{className:"space-y-3",children:Qt.map(X=>{var P,et;return b.jsxs("div",{className:"bg-gradient-to-r from-green-950 to-green-900 rounded-2xl p-5 border-2 border-green-800 opacity-70",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[o!=null&&o.memberAvatars&&o.memberAvatars[X.from]?b.jsx("img",{src:((P=Ei.find(rt=>rt.id===o.memberAvatars[X.from]))==null?void 0:P.image)||"",alt:X.from,className:"w-10 h-10 rounded-lg object-cover"}):b.jsx("div",{className:"w-10 h-10 bg-green-700 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:X.from[0]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"text-white font-bold",children:X.from}),b.jsx("div",{className:"text-green-300 text-xs",children:"paid"})]})]}),b.jsx("div",{className:"px-6",children:b.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),b.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[b.jsxs("div",{className:"flex-1 text-right",children:[b.jsx("div",{className:"text-white font-bold",children:X.to}),b.jsx("div",{className:"text-green-300 text-xs",children:"received"})]}),o!=null&&o.memberAvatars&&o.memberAvatars[X.to]?b.jsx("img",{src:((et=Ei.find(rt=>rt.id===o.memberAvatars[X.to]))==null?void 0:et.image)||"",alt:X.to,className:"w-10 h-10 rounded-lg object-cover"}):b.jsx("div",{className:"w-10 h-10 bg-green-700 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:X.to[0]})]}),b.jsxs("div",{className:"ml-6 flex items-center gap-3",children:[b.jsxs("div",{className:"bg-green-700 text-white font-bold px-4 py-2 rounded-xl text-lg",children:["",X.amount.toFixed(2)]}),b.jsxs("div",{className:"bg-green-600 text-white px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),"Paid"]}),b.jsx("button",{onClick:()=>V(X.id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-xl transition-colors",title:"Delete payment",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),X.paidAt&&b.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[b.jsxs("div",{className:"text-green-400 text-xs",children:["Paid on ",new Date(X.paidAt).toLocaleDateString()]}),X.proofImageUrl&&b.jsxs("a",{href:X.proofImageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-green-700 hover:bg-green-600 text-white px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[b.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Proof"]})]})]},X.id)})})]})]})},Qw=()=>{var nt;const[r,e]=Tt.useState(localStorage.getItem("trip_user_name")),[i,a]=Tt.useState(null),[o,h]=Tt.useState(null),[d,p]=Tt.useState([]),[v,_]=Tt.useState([]),[A,x]=Tt.useState(!1),[D,q]=Tt.useState(!1),[W,tt]=Tt.useState(null),[Z,ct]=Tt.useState(!1),ft=Tt.useMemo(()=>o?o.participants.map(it=>{let gt=0,dt=0;return d.forEach(S=>{S.paidBy===it&&(gt+=S.amount),S.splitBetween.includes(it)&&(S.splitType==="custom"&&S.customSplits&&S.customSplits[it]?dt+=S.customSplits[it]:dt+=S.perPersonAmount)}),v.filter(S=>S.isPaid).forEach(S=>{S.from===it&&(gt+=S.amount),S.to===it&&(dt+=S.amount)}),{name:it,paid:gt,owed:dt,net:gt-dt}}):[],[o,d,v]);return Tt.useEffect(()=>{const it=localStorage.getItem("current_trip_id");it&&a(it)},[]),Tt.useEffect(()=>{if(!i){h(null),p([]),ct(!1);return}ct(!0),tt(null),localStorage.setItem("current_trip_id",i);const it=setTimeout(()=>{ct(!1),tt("Connection timeout. Please check your internet connection and try again."),a(null),localStorage.removeItem("current_trip_id")},5e3),gt=Mw(i,S=>{clearTimeout(it),ct(!1),S?(h(S),tt(null)):(tt("Trip not found. Verify the Trip ID or check if it was deleted."),a(null),localStorage.removeItem("current_trip_id"))}),dt=jw(i,S=>{p(S)}),w=Bw(i,S=>{_(S)});return()=>{clearTimeout(it),gt(),dt(),w()}},[i]),Iw()?r?!i||W?b.jsxs("div",{className:"min-h-screen bg-white pt-10 px-4",children:[W&&b.jsxs("div",{className:"max-w-md mx-auto mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-2xl text-sm font-bold shadow-sm flex items-center gap-3",children:[b.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),W]}),b.jsx(qw,{onTripSelected:a})]}):Z?b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#f49221] border-t-transparent mb-4 shadow-lg shadow-[#f49221]/20"}),b.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] mb-6",children:"Connecting to Firebase..."}),b.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:"Clear & Restart"})]}):!o&&i?b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-[#f49221] border-t-transparent mb-4 shadow-lg shadow-[#f49221]/20"}),b.jsx("p",{className:"text-black font-bold uppercase tracking-widest text-[10px] mb-6",children:"Loading trip..."})]}):b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-[#1a0a00] to-black pb-20 relative overflow-hidden",children:[b.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#f49221] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),b.jsx("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-[#e58515] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),b.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-96 h-96 bg-[#f49221] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),b.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-gradient-to-r from-[#f49221]/80 to-[#e58515]/80 border-b border-white/10 shadow-2xl shadow-[#f49221]/20",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-16 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/pics/manas.png",alt:"Manas Split Logo",className:"w-10 h-10 rounded-xl shadow-lg hover:scale-110 transition-transform object-cover"}),b.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"Manas Split"})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("button",{onClick:()=>{a(null),localStorage.removeItem("current_trip_id")},className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-md text-white rounded-lg text-sm font-medium transition-all border border-white/30 hover:border-white/50 flex items-center gap-2",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Trips"]}),b.jsx("div",{className:"w-11 h-11 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white font-bold border-2 border-white/40 shadow-lg hover:scale-110 transition-transform cursor-pointer",children:(nt=r==null?void 0:r[0])==null?void 0:nt.toUpperCase()})]})]})}),b.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:[b.jsxs("div",{className:"mb-8 backdrop-blur-sm bg-white/5 rounded-3xl p-6 border border-white/10",children:[b.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-white via-[#f49221] to-white bg-clip-text text-transparent mb-3",children:"Dashboard"}),b.jsx("p",{className:"text-gray-300 text-sm",children:"An overview of your group's expenses and balances."}),b.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(i),q(!0),setTimeout(()=>q(!1),2e3)},className:"mt-3 text-xs text-gray-400 hover:text-[#f49221] transition-colors backdrop-blur-sm bg-white/5 px-4 py-2 rounded-lg border border-white/10 hover:border-[#f49221]/50",children:["Trip: ",o.name,"  ID: ",i.substring(0,12),"... ",D?" Copied":" Copy"]})]}),b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-[#f49221] to-[#e58515] rounded-full"}),"Balances"]}),b.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white px-6 py-3 rounded-xl font-medium text-sm flex items-center gap-2 transition-all shadow-lg shadow-[#f49221]/50 hover:shadow-xl hover:shadow-[#f49221]/60 hover:scale-105",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:ft.map(it=>{var gt;return b.jsxs("div",{className:"group relative backdrop-blur-xl bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-2xl p-6 hover:border-[#f49221]/50 transition-all hover:shadow-2xl hover:shadow-[#f49221]/30 hover:scale-105 duration-300",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#f49221]/10 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsxs("div",{className:"relative z-10",children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[o.memberAvatars&&o.memberAvatars[it.name]?b.jsx("img",{src:((gt=Ei.find(dt=>dt.id===o.memberAvatars[it.name]))==null?void 0:gt.image)||"",alt:it.name,className:"w-10 h-10 rounded-full object-cover border-2 border-[#f49221]/50"}):b.jsx("div",{className:"w-10 h-10 bg-[#f49221]/20 rounded-full flex items-center justify-center text-[#f49221] font-bold border-2 border-[#f49221]/50",children:it.name[0]}),b.jsx("h4",{className:"text-white font-bold text-lg",children:it.name})]}),b.jsx("span",{className:`text-xs font-bold px-3 py-1.5 rounded-full backdrop-blur-md ${it.net<-.01?"bg-red-500/30 text-red-200 border border-red-400/30":it.net>.01?"bg-[#f49221]/30 text-[#f49221] border border-[#f49221]/30":"bg-gray-500/30 text-gray-300 border border-gray-400/30"}`,children:it.net<-.01?"Owes":it.net>.01?"Gets Back":"Settled"})]}),b.jsxs("div",{className:"text-4xl font-black bg-gradient-to-r from-[#f49221] via-[#ff9d3d] to-[#e58515] bg-clip-text text-transparent mb-3 drop-shadow-lg",children:["",Math.abs(it.net).toFixed(2)]}),b.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[b.jsx("span",{className:"w-2 h-2 bg-[#f49221] rounded-full animate-pulse"}),"Paid: ",b.jsxs("span",{className:"text-[#f49221] font-bold",children:["",it.paid.toFixed(2)]})]})]})]},it.name)})})]}),b.jsx(Gw,{balances:ft,tripId:o.id,trackedSettlements:v,participants:o.participants,trip:o}),b.jsxs("div",{className:"mt-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-8 bg-gradient-to-b from-[#f49221] to-[#e58515] rounded-full"}),"Recent Expenses"]}),b.jsxs("span",{className:"backdrop-blur-md bg-white/10 border border-white/20 text-gray-300 text-sm px-4 py-2 rounded-full font-medium",children:[d.length," transaction",d.length!==1?"s":""]})]}),d.length===0?b.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border-2 border-dashed border-[#f49221]/30 rounded-3xl p-16 text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#f49221]/20 to-[#e58515]/20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-md border border-[#f49221]/30",children:b.jsx("svg",{className:"w-10 h-10 text-[#f49221]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("p",{className:"text-gray-300 text-xl font-semibold mb-2",children:"No expenses yet"}),b.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Get started by adding your first expense."}),b.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-[#f49221] to-[#e58515] hover:from-[#e58515] hover:to-[#f49221] text-white px-8 py-3 rounded-xl font-semibold inline-flex items-center gap-2 transition-all shadow-xl shadow-[#f49221]/50 hover:shadow-2xl hover:shadow-[#f49221]/60 hover:scale-105",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Expense"]})]}):b.jsx(Fw,{expenses:d})]})]}),b.jsx("button",{onClick:()=>x(!0),className:"fixed bottom-8 right-8 w-16 h-16 bg-[#f49221] text-white rounded-2xl shadow-2xl flex items-center justify-center hover:scale-110 active:scale-95 transition-all z-40 shadow-[#f49221]/40 border-4 border-white",children:b.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),A&&b.jsx(Hw,{tripId:o.id,participants:o.participants,onClose:()=>x(!1)})]}):b.jsx(Pw,{onJoin:e}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-6 text-center",children:b.jsxs("div",{className:"max-w-md bg-white p-10 rounded-[2rem] shadow-2xl border-2 border-[#f49221]",children:[b.jsx("div",{className:"w-20 h-20 bg-[#f49221] text-white rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:b.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),b.jsx("h1",{className:"text-2xl font-bold text-black mb-4 font-pt",children:"Configuration Required"}),b.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"The application needs valid Firebase credentials to function. Check your setup."})]})})},L1=document.getElementById("root");if(!L1)throw new Error("Could not find root element to mount to");const Yw=wE.createRoot(L1);Yw.render(b.jsx(_E.StrictMode,{children:b.jsx(Qw,{})}));
